import{_ as n,c as a,o as l,a as p}from"./app.a1d4ca27.js";const o="/assets/1.7f796c4e.jpg",t="/assets/2.d0537d70.jpg",e="/assets/3.8c58ed84.jpg",c="/assets/5.bf0e48ce.jpg",r="/assets/4.bfd9025d.jpg",y="/assets/6.d738d89b.jpg",s="/assets/7.dcd64d0f.jpg",m=JSON.parse('{"title":"\u57FA\u4E8E UniAPP \u793E\u533A\u8BBA\u575B\u9879\u76EE\u591A\u7AEF\u5F00\u53D1\u5B9E\u6218","description":"","frontmatter":{"outline":"deep"},"headers":[{"level":2,"title":"\u4E00\u3001\u9879\u76EE\u51C6\u5907","slug":"\u4E00\u3001\u9879\u76EE\u51C6\u5907","link":"#\u4E00\u3001\u9879\u76EE\u51C6\u5907","children":[{"level":3,"title":"1.1 \u9879\u76EE\u4E1A\u52A1\u903B\u8F91\u4ECB\u7ECD","slug":"_1-1-\u9879\u76EE\u4E1A\u52A1\u903B\u8F91\u4ECB\u7ECD","link":"#_1-1-\u9879\u76EE\u4E1A\u52A1\u903B\u8F91\u4ECB\u7ECD","children":[]},{"level":3,"title":"1.2 \u4F7F\u7528 UniAPP \u6784\u5EFA\u9879\u76EE","slug":"_1-2-\u4F7F\u7528-uniapp-\u6784\u5EFA\u9879\u76EE","link":"#_1-2-\u4F7F\u7528-uniapp-\u6784\u5EFA\u9879\u76EE","children":[]},{"level":3,"title":"1.3 \u6784\u5EFA\u9879\u76EE\u6587\u4EF6\u7ED3\u6784","slug":"_1-3-\u6784\u5EFA\u9879\u76EE\u6587\u4EF6\u7ED3\u6784","link":"#_1-3-\u6784\u5EFA\u9879\u76EE\u6587\u4EF6\u7ED3\u6784","children":[]},{"level":3,"title":"1.4 \u914D\u7F6E\u9875\u9762 TabBar \u5BFC\u822A","slug":"_1-4-\u914D\u7F6E\u9875\u9762-tabbar-\u5BFC\u822A","link":"#_1-4-\u914D\u7F6E\u9875\u9762-tabbar-\u5BFC\u822A","children":[]},{"level":3,"title":"1.5 \u4F7F\u7528 npm \u5F15\u5165 uView UI \u63D2\u4EF6\u5E93","slug":"_1-5-\u4F7F\u7528-npm-\u5F15\u5165-uview-ui-\u63D2\u4EF6\u5E93","link":"#_1-5-\u4F7F\u7528-npm-\u5F15\u5165-uview-ui-\u63D2\u4EF6\u5E93","children":[]}]},{"level":2,"title":"\u4E8C\u3001\u9996\u9875\u529F\u80FD\u5B9E\u73B0","slug":"\u4E8C\u3001\u9996\u9875\u529F\u80FD\u5B9E\u73B0","link":"#\u4E8C\u3001\u9996\u9875\u529F\u80FD\u5B9E\u73B0","children":[{"level":3,"title":"2.1 \u9996\u9875 header \u5E7F\u544A\u4F4D\u8F6E\u64AD\u56FE\u529F\u80FD\u5B9E\u73B0","slug":"_2-1-\u9996\u9875-header-\u5E7F\u544A\u4F4D\u8F6E\u64AD\u56FE\u529F\u80FD\u5B9E\u73B0","link":"#_2-1-\u9996\u9875-header-\u5E7F\u544A\u4F4D\u8F6E\u64AD\u56FE\u529F\u80FD\u5B9E\u73B0","children":[]},{"level":3,"title":"2.2 \u5168\u5C40\u914D\u7F6E WebView \u5C55\u793A\u7B2C\u4E09\u65B9 web \u9875\u9762","slug":"_2-2-\u5168\u5C40\u914D\u7F6E-webview-\u5C55\u793A\u7B2C\u4E09\u65B9-web-\u9875\u9762","link":"#_2-2-\u5168\u5C40\u914D\u7F6E-webview-\u5C55\u793A\u7B2C\u4E09\u65B9-web-\u9875\u9762","children":[]},{"level":3,"title":"2.3 uViewUI \u7F51\u7EDC http \u8BF7\u6C42\u53CA API \u96C6\u4E2D\u7BA1\u7406","slug":"_2-3-uviewui-\u7F51\u7EDC-http-\u8BF7\u6C42\u53CA-api-\u96C6\u4E2D\u7BA1\u7406","link":"#_2-3-uviewui-\u7F51\u7EDC-http-\u8BF7\u6C42\u53CA-api-\u96C6\u4E2D\u7BA1\u7406","children":[]},{"level":3,"title":"2.4 \u9996\u9875\u63A8\u8350\u3001\u8D44\u8BAF\u6A21\u5757\u5E73\u6ED1\u5207\u6362\u6548\u679C\u5B9E\u73B0","slug":"_2-4-\u9996\u9875\u63A8\u8350\u3001\u8D44\u8BAF\u6A21\u5757\u5E73\u6ED1\u5207\u6362\u6548\u679C\u5B9E\u73B0","link":"#_2-4-\u9996\u9875\u63A8\u8350\u3001\u8D44\u8BAF\u6A21\u5757\u5E73\u6ED1\u5207\u6362\u6548\u679C\u5B9E\u73B0","children":[]},{"level":3,"title":"2.5 \u9996\u9875\u63A8\u8350\u7011\u5E03\u6D41\u5E03\u5C40\u6548\u679C\u5B9E\u73B0","slug":"_2-5-\u9996\u9875\u63A8\u8350\u7011\u5E03\u6D41\u5E03\u5C40\u6548\u679C\u5B9E\u73B0","link":"#_2-5-\u9996\u9875\u63A8\u8350\u7011\u5E03\u6D41\u5E03\u5C40\u6548\u679C\u5B9E\u73B0","children":[]},{"level":3,"title":"2.6 \u9996\u9875\u8D44\u8BAF\u9875\u9762\u9AD8\u5EA6\u52A8\u6001\u8BBE\u7F6E\u53CA\u5207\u6362\u72B6\u6001\u4FDD\u5B58","slug":"_2-6-\u9996\u9875\u8D44\u8BAF\u9875\u9762\u9AD8\u5EA6\u52A8\u6001\u8BBE\u7F6E\u53CA\u5207\u6362\u72B6\u6001\u4FDD\u5B58","link":"#_2-6-\u9996\u9875\u8D44\u8BAF\u9875\u9762\u9AD8\u5EA6\u52A8\u6001\u8BBE\u7F6E\u53CA\u5207\u6362\u72B6\u6001\u4FDD\u5B58","children":[]},{"level":3,"title":"2.7 \u9996\u9875\u6EDA\u52A8\u3001\u5207\u6362\u52A8\u6001\u8BBE\u7F6E\u9876\u90E8 NavBar \u72B6\u6001","slug":"_2-7-\u9996\u9875\u6EDA\u52A8\u3001\u5207\u6362\u52A8\u6001\u8BBE\u7F6E\u9876\u90E8-navbar-\u72B6\u6001","link":"#_2-7-\u9996\u9875\u6EDA\u52A8\u3001\u5207\u6362\u52A8\u6001\u8BBE\u7F6E\u9876\u90E8-navbar-\u72B6\u6001","children":[]},{"level":3,"title":"2.8 \u9876\u90E8\u4E0B\u62C9\u3001\u5E95\u90E8\u7F6E\u5E95\u8BF7\u6C42\u66F4\u65B0\u6570\u636E","slug":"_2-8-\u9876\u90E8\u4E0B\u62C9\u3001\u5E95\u90E8\u7F6E\u5E95\u8BF7\u6C42\u66F4\u65B0\u6570\u636E","link":"#_2-8-\u9876\u90E8\u4E0B\u62C9\u3001\u5E95\u90E8\u7F6E\u5E95\u8BF7\u6C42\u66F4\u65B0\u6570\u636E","children":[]}]},{"level":2,"title":"\u4E09\u3001\u8D44\u8BAF\u52A8\u6001\u9875\u9762\u529F\u80FD\u5B9E\u73B0","slug":"\u4E09\u3001\u8D44\u8BAF\u52A8\u6001\u9875\u9762\u529F\u80FD\u5B9E\u73B0","link":"#\u4E09\u3001\u8D44\u8BAF\u52A8\u6001\u9875\u9762\u529F\u80FD\u5B9E\u73B0","children":[{"level":3,"title":"3.1 \u4F7F\u7528 Grid \u5E03\u5C40\u5B9E\u73B0\u52A8\u6001\u7011\u5E03\u6D41\u9875\u9762","slug":"_3-1-\u4F7F\u7528-grid-\u5E03\u5C40\u5B9E\u73B0\u52A8\u6001\u7011\u5E03\u6D41\u9875\u9762","link":"#_3-1-\u4F7F\u7528-grid-\u5E03\u5C40\u5B9E\u73B0\u52A8\u6001\u7011\u5E03\u6D41\u9875\u9762","children":[]},{"level":3,"title":"3.2 \u4F7F\u7528\u5C0F\u7A0B\u5E8F\u5206\u5305\u6784\u5EFA\u4E1A\u52A1\u6A21\u5757","slug":"_3-2-\u4F7F\u7528\u5C0F\u7A0B\u5E8F\u5206\u5305\u6784\u5EFA\u4E1A\u52A1\u6A21\u5757","link":"#_3-2-\u4F7F\u7528\u5C0F\u7A0B\u5E8F\u5206\u5305\u6784\u5EFA\u4E1A\u52A1\u6A21\u5757","children":[]},{"level":3,"title":"3.3 \u56FE\u6587\u7C7B\u52A8\u6001\u8BE6\u60C5\u9875\u9762\u529F\u80FD\u5B9E\u73B0","slug":"_3-3-\u56FE\u6587\u7C7B\u52A8\u6001\u8BE6\u60C5\u9875\u9762\u529F\u80FD\u5B9E\u73B0","link":"#_3-3-\u56FE\u6587\u7C7B\u52A8\u6001\u8BE6\u60C5\u9875\u9762\u529F\u80FD\u5B9E\u73B0","children":[]},{"level":3,"title":"3.4 \u5BCC\u6587\u672C\u89E3\u6790\u8D44\u8BAF\u8BE6\u60C5\u9875\u9762\u529F\u80FD\u5B9E\u73B0","slug":"_3-4-\u5BCC\u6587\u672C\u89E3\u6790\u8D44\u8BAF\u8BE6\u60C5\u9875\u9762\u529F\u80FD\u5B9E\u73B0","link":"#_3-4-\u5BCC\u6587\u672C\u89E3\u6790\u8D44\u8BAF\u8BE6\u60C5\u9875\u9762\u529F\u80FD\u5B9E\u73B0","children":[]},{"level":3,"title":"3.5 \u8BC4\u8BBA\u7EC4\u4EF6\u8BC4\u8BBA\u5217\u8868\u5C55\u793A\u529F\u80FD\u5B9E\u73B0","slug":"_3-5-\u8BC4\u8BBA\u7EC4\u4EF6\u8BC4\u8BBA\u5217\u8868\u5C55\u793A\u529F\u80FD\u5B9E\u73B0","link":"#_3-5-\u8BC4\u8BBA\u7EC4\u4EF6\u8BC4\u8BBA\u5217\u8868\u5C55\u793A\u529F\u80FD\u5B9E\u73B0","children":[]}]},{"level":2,"title":"\u56DB\u3001\u7528\u6237\u6CE8\u518C\u3001\u767B\u9646\u4E1A\u52A1\u529F\u80FD\u5B9E\u73B0","slug":"\u56DB\u3001\u7528\u6237\u6CE8\u518C\u3001\u767B\u9646\u4E1A\u52A1\u529F\u80FD\u5B9E\u73B0","link":"#\u56DB\u3001\u7528\u6237\u6CE8\u518C\u3001\u767B\u9646\u4E1A\u52A1\u529F\u80FD\u5B9E\u73B0","children":[{"level":3,"title":"4.1 \u7528\u6237\u767B\u9646\u3001\u6CE8\u518C\u529F\u80FD\u7EC4\u4EF6\u5B9E\u73B0\u53CA\u89E6\u53D1\u663E\u793A","slug":"_4-1-\u7528\u6237\u767B\u9646\u3001\u6CE8\u518C\u529F\u80FD\u7EC4\u4EF6\u5B9E\u73B0\u53CA\u89E6\u53D1\u663E\u793A","link":"#_4-1-\u7528\u6237\u767B\u9646\u3001\u6CE8\u518C\u529F\u80FD\u7EC4\u4EF6\u5B9E\u73B0\u53CA\u89E6\u53D1\u663E\u793A","children":[]},{"level":3,"title":"4.2 Vuex + Storage \u767B\u9646\u72B6\u6001\u7BA1\u7406","slug":"_4-2-vuex-storage-\u767B\u9646\u72B6\u6001\u7BA1\u7406","link":"#_4-2-vuex-storage-\u767B\u9646\u72B6\u6001\u7BA1\u7406","children":[]},{"level":3,"title":"4.3 \u4E2A\u4EBA\u4E2D\u5FC3\u9875\u9762\u57FA\u7840\u529F\u80FD\u5B9E\u73B0","slug":"_4-3-\u4E2A\u4EBA\u4E2D\u5FC3\u9875\u9762\u57FA\u7840\u529F\u80FD\u5B9E\u73B0","link":"#_4-3-\u4E2A\u4EBA\u4E2D\u5FC3\u9875\u9762\u57FA\u7840\u529F\u80FD\u5B9E\u73B0","children":[]},{"level":3,"title":"4.4 \u7528\u6237\u8BBE\u7F6E\u9875\u9762\u57FA\u7840\u529F\u80FD\u5B9E\u73B0","slug":"_4-4-\u7528\u6237\u8BBE\u7F6E\u9875\u9762\u57FA\u7840\u529F\u80FD\u5B9E\u73B0","link":"#_4-4-\u7528\u6237\u8BBE\u7F6E\u9875\u9762\u57FA\u7840\u529F\u80FD\u5B9E\u73B0","children":[]}]},{"level":2,"title":"\u4E94\u3001\u767B\u9646\u6001\u4E0B\u4E1A\u52A1\u529F\u80FD\u5B9E\u73B0","slug":"\u4E94\u3001\u767B\u9646\u6001\u4E0B\u4E1A\u52A1\u529F\u80FD\u5B9E\u73B0","link":"#\u4E94\u3001\u767B\u9646\u6001\u4E0B\u4E1A\u52A1\u529F\u80FD\u5B9E\u73B0","children":[{"level":3,"title":"5.1 \u4F7F\u7528 mixins \u5B9E\u73B0\u52A8\u6001\u70B9\u8D5E\u3001\u53D6\u6D88\u70B9\u8D5E\u529F\u80FD","slug":"_5-1-\u4F7F\u7528-mixins-\u5B9E\u73B0\u52A8\u6001\u70B9\u8D5E\u3001\u53D6\u6D88\u70B9\u8D5E\u529F\u80FD","link":"#_5-1-\u4F7F\u7528-mixins-\u5B9E\u73B0\u52A8\u6001\u70B9\u8D5E\u3001\u53D6\u6D88\u70B9\u8D5E\u529F\u80FD","children":[]},{"level":3,"title":"5.2 \u8BC4\u8BBA\u7EC4\u4EF6\u8BC4\u8BBA\u529F\u80FD\u5B9E\u73B0","slug":"_5-2-\u8BC4\u8BBA\u7EC4\u4EF6\u8BC4\u8BBA\u529F\u80FD\u5B9E\u73B0","link":"#_5-2-\u8BC4\u8BBA\u7EC4\u4EF6\u8BC4\u8BBA\u529F\u80FD\u5B9E\u73B0","children":[]},{"level":3,"title":"5.3 \u8BC4\u8BBA\u654F\u611F\u8BCD \u201C\u7EFF\u7F51\u201D \u529F\u80FD\u5B9E\u73B0","slug":"_5-3-\u8BC4\u8BBA\u654F\u611F\u8BCD-\u7EFF\u7F51-\u529F\u80FD\u5B9E\u73B0","link":"#_5-3-\u8BC4\u8BBA\u654F\u611F\u8BCD-\u7EFF\u7F51-\u529F\u80FD\u5B9E\u73B0","children":[]},{"level":3,"title":"5.4 UGC \u52A8\u6001\u53D1\u5E03\u529F\u80FD\u5B9E\u73B0","slug":"_5-4-ugc-\u52A8\u6001\u53D1\u5E03\u529F\u80FD\u5B9E\u73B0","link":"#_5-4-ugc-\u52A8\u6001\u53D1\u5E03\u529F\u80FD\u5B9E\u73B0","children":[]}]},{"level":2,"title":"\u516D\u3001\u591A\u7AEF\u6253\u5305\u53D1\u5E03","slug":"\u516D\u3001\u591A\u7AEF\u6253\u5305\u53D1\u5E03","link":"#\u516D\u3001\u591A\u7AEF\u6253\u5305\u53D1\u5E03","children":[{"level":3,"title":"6.1 \u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u6253\u5305\u53D1\u5E03","slug":"_6-1-\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u6253\u5305\u53D1\u5E03","link":"#_6-1-\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u6253\u5305\u53D1\u5E03","children":[]},{"level":3,"title":"6.2 H5 \u7AEF\u76F8\u5173\u517C\u5BB9\u6027\u5F00\u53D1\u53CA\u6253\u5305\u53D1\u5E03","slug":"_6-2-h5-\u7AEF\u76F8\u5173\u517C\u5BB9\u6027\u5F00\u53D1\u53CA\u6253\u5305\u53D1\u5E03","link":"#_6-2-h5-\u7AEF\u76F8\u5173\u517C\u5BB9\u6027\u5F00\u53D1\u53CA\u6253\u5305\u53D1\u5E03","children":[]},{"level":3,"title":"6.3 \u5B89\u5353\u4E91\u7AEF\u4F53\u9A8C\u7248\u672C\u6253\u5305\u53D1\u5E03","slug":"_6-3-\u5B89\u5353\u4E91\u7AEF\u4F53\u9A8C\u7248\u672C\u6253\u5305\u53D1\u5E03","link":"#_6-3-\u5B89\u5353\u4E91\u7AEF\u4F53\u9A8C\u7248\u672C\u6253\u5305\u53D1\u5E03","children":[]}]}],"relativePath":"PanClient/UniApp/ProjectDemo.md"}'),A={name:"PanClient/UniApp/ProjectDemo.md"},D=p('<h1 id="\u57FA\u4E8E-uniapp-\u793E\u533A\u8BBA\u575B\u9879\u76EE\u591A\u7AEF\u5F00\u53D1\u5B9E\u6218" tabindex="-1">\u57FA\u4E8E UniAPP \u793E\u533A\u8BBA\u575B\u9879\u76EE\u591A\u7AEF\u5F00\u53D1\u5B9E\u6218 <a class="header-anchor" href="#\u57FA\u4E8E-uniapp-\u793E\u533A\u8BBA\u575B\u9879\u76EE\u591A\u7AEF\u5F00\u53D1\u5B9E\u6218" aria-hidden="true">#</a></h1><p>\u5B66\u4E60\u76EE\u7684\uFF1A</p><blockquote><p>\u200B \u901A\u8FC7\u5B66\u4E60\uFF0C\u57FA\u4E8E Vue \u3001\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u3001uniapp \u5F00\u53D1\u6846\u67B6\uFF0C\u5BF9\u6807\u4F01\u4E1A\u7EA7\u300C\u5927\u524D\u7AEF\u300D\u5F00\u53D1\u5B9E\u8DF5\u6807\u51C6\uFF0C\u4ECE\u96F6\u5230\u4E00\u6784\u5EFA\u793E\u533A\u8BBA\u575B\u7C7B\u5BA2\u6237\u7AEF\u5E94\u7528\u9879\u76EE\u5168\u6D41\u7A0B\uFF0C \u8F93\u51FA\u76F8\u5173 H5\u3001\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u3001\u5B89\u5353\u3001IOS \u591A\u5BA2\u6237\u7AEF\u5E94\u7528\u3002</p></blockquote><h2 id="\u4E00\u3001\u9879\u76EE\u51C6\u5907" tabindex="-1">\u4E00\u3001\u9879\u76EE\u51C6\u5907 <a class="header-anchor" href="#\u4E00\u3001\u9879\u76EE\u51C6\u5907" aria-hidden="true">#</a></h2><h3 id="_1-1-\u9879\u76EE\u4E1A\u52A1\u903B\u8F91\u4ECB\u7ECD" tabindex="-1">1.1 \u9879\u76EE\u4E1A\u52A1\u903B\u8F91\u4ECB\u7ECD <a class="header-anchor" href="#_1-1-\u9879\u76EE\u4E1A\u52A1\u903B\u8F91\u4ECB\u7ECD" aria-hidden="true">#</a></h3><p><strong>\u76F8\u5173\u6587\u6863</strong></p><blockquote></blockquote><ol><li>API \u63A5\u53E3\u6587\u6863\uFF0C\u8BE6\u60C5\u67E5\u9605\u300A ThinkSNS <a href="http://xn--zfrtn2qh81c5gc04cs6cd67c.md" target="_blank" rel="noreferrer">\u793E\u533A\u670D\u52A1\u63A5\u53E3\u6587\u6863.md</a> \u300B</li><li>ThinkSNS \u7EFC\u5408\u7BA1\u7406\u7CFB\u7EDF\uFF0C\u5F00\u6E90\u4EE3\u7801 git \u5730\u5740\uFF1A<a href="https://gitee.com/joysapp/thinksns-plus" target="_blank" rel="noreferrer">https://gitee.com/joysapp/thinksns-plus</a></li><li>\u5BA2\u6237\u7AEF\u5C0F\u7A0B\u5E8F\u6E90\u4EE3\u7801 git \u5730\u5740\uFF1A<a href="https://gitee.com/buhehpc/jxsns.git" target="_blank" rel="noreferrer">https://gitee.com/buhehpc/jxsns.git</a></li></ol><p><strong>ThinkSNS \u7B80\u4ECB</strong></p><blockquote><p>ThinkSNS \u662F\u667A\u58EB\u8F6F\u4EF6\u65D7\u4E0B\u7684\u5F00\u6E90\u5FAE\u535A\u3001\u793E\u4EA4\u7CFB\u7EDF\uFF0C\u542B\u5FAE\u535A\u3001\u8BBA\u575B\u3001\u8D44\u8BAF\u3001\u9891\u9053\u3001\u5546\u57CE\u3001\u6D3B\u52A8\u3001\u5B9A\u4F4D\u3001\u627E\u4EBA\u3001\u76F4\u64AD\u3001\u95EE\u7B54\u7B49\u4E00\u7CFB\u5217\u529F\u80FD\u3002</p><p>ThinkSNS \u91C7\u7528 PHP+MySQL \u6280\u672F\uFF0C\u6838\u5FC3\uFF08\u5FAE\u535A\u3001\u7528\u6237\u7CFB\u7EDF\uFF09+ \u591A\u5E94\u7528 + \u591A\u63D2\u4EF6\u7684\u4EA7\u54C1\u6A21\u5F0F\uFF0C\u62E5\u6709 Web\u3001H5\u3001IOS\u3001Android APP \u4EE5\u53CA\u5FAE\u4FE1\u3001\u652F\u4ED8\u5B9D\u3001\u767E\u5EA6\u7B49\u5C0F\u7A0B\u5E8F\u591A\u7AEF\u670D\u52A1\u573A\u666F\u3002</p></blockquote><p><strong>ThinkSNS \u670D\u52A1</strong></p><blockquote><p>ThinkSNS \u80FD\u591F\u5EFA\u7ACB\u793E\u4EA4\u7F51\u7AD9\u3001\u5FAE\u535A\u5E73\u53F0\u3001\u6559\u80B2\u5E73\u53F0\u3001\u5546\u57CE\u7CFB\u7EDF\u3001\u7C89\u4E1D\u793E\u533A\u3001\u77E5\u8BC6\u793E\u533A\u3001\u4F01\u4E1A\u6587\u5316\u793E\u533A\u7B49\u591A\u79CD\u4E92\u8054\u7F51\u5E73\u53F0\uFF0C\u662F\u79FB\u52A8\u4E92\u8054\u7F51\u521B\u4E1A\u7684\u9996\u9009\u4E8C\u6B21\u5F00\u53D1\u5E73\u53F0\u3002</p></blockquote><p><strong>\u793E\u533A\u3001\u8BBA\u575B\u5B9E\u8DF5\u9879\u76EE\u7B80\u4ECB</strong></p><blockquote></blockquote><ol><li>\u57FA\u4E8E ThinkSNS \u5F00\u6E90\u514D\u8D39\u4F53\u7CFB\uFF0C\u642D\u5EFA\u884C\u4E1A\u5185\u57FA\u7840 PGC\u3001UGC \u5185\u5BB9\u7BA1\u7406\u793E\u533A\u3001\u8BBA\u575B\u670D\u52A1\u4F53\u7CFB\u3002</li><li>\u5546\u5BB6\u8FD0\u8425\u4EBA\u5458\u53EF\u4EE5\u53D1\u5E03\u7BA1\u7406 PGC \u8D44\u8BAF\uFF0C\u7BA1\u7406\u7528\u6237\u3001\u52A8\u6001\u3001\u5E7F\u544A\u7B49\u64CD\u4F5C</li><li>\u5BA2\u6237\u7AEF\u7528\u6237\u53EF\u4EE5\u67E5\u9605\u3001\u70B9\u8D5E\u3001\u8BC4\u8BBA\u3001\u5206\u4EAB\u76F8\u5173\u52A8\u6001\u8D44\u8BAF\u5185\u5BB9\uFF0C\u53EF\u4EE5\u81EA\u4E3B\u53D1\u5E03\u3001\u5220\u9664 UGC \u5185\u5BB9\u3001\u540C\u6B65 UGC \u5185\u5BB9\u5BA1\u6838 <blockquote><p><img src="'+o+'" alt="1"></p></blockquote></li></ol><h3 id="_1-2-\u4F7F\u7528-uniapp-\u6784\u5EFA\u9879\u76EE" tabindex="-1">1.2 \u4F7F\u7528 UniAPP \u6784\u5EFA\u9879\u76EE <a class="header-anchor" href="#_1-2-\u4F7F\u7528-uniapp-\u6784\u5EFA\u9879\u76EE" aria-hidden="true">#</a></h3><ol><li>\u4F7F\u7528 Hbuilder uni-app \u9ED8\u8BA4\u7A7A\u767D\u6A21\u677F\u6784\u5EFA\u9879\u76EE <code> study</code></li></ol><p><img src="'+t+'" alt="2"></p><ol start="2"><li>\u5728 manifest.json \u6587\u4EF6\u4E2D\u914D\u7F6E\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u76F8\u5173\u4FE1\u606F</li></ol><p><img src="'+e+'" alt="2"></p><h3 id="_1-3-\u6784\u5EFA\u9879\u76EE\u6587\u4EF6\u7ED3\u6784" tabindex="-1">1.3 \u6784\u5EFA\u9879\u76EE\u6587\u4EF6\u7ED3\u6784 <a class="header-anchor" href="#_1-3-\u6784\u5EFA\u9879\u76EE\u6587\u4EF6\u7ED3\u6784" aria-hidden="true">#</a></h3><ol><li>\u6784\u5EFA\u9879\u76EE\u57FA\u7840\u7ED3\u6784</li></ol><p><img src="'+c+`" alt="5"></p><ol start="2"><li>\u521D\u59CB\u5316\u57FA\u7840\u9875\u9762\u53CA\u914D\u7F6E <code>pages.json</code> Pages \u8DEF\u7531</li></ol><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">pages</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;">: </span><span style="color:#666666;">[</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//pages\u6570\u7EC4\u4E2D\u7B2C\u4E00\u9879\u8868\u793A\u5E94\u7528\u542F\u52A8\u9875\uFF0C\u53C2\u8003\uFF1Ahttps://uniapp.dcloud.io/collocation/pages</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">path</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">pages/index/index</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">style</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#758575DD;">// custorm \u53D6\u6D88\u9876\u90E8\u7684 navBar \u663E\u793A</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">navigationStyle</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">custom</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">enablePullDownRefresh</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">},</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">path</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">pages/feeds/feeds</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">style</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">navigationBarTitleText</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">\u524D\u7AEF\u52A8\u6001</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">enablePullDownRefresh</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">},</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">path</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">pages/me/me</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">style</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">navigationStyle</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">custom</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">enablePullDownRefresh</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">},</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">path</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">pages/webview/webview</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">style</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">navigationBarTitleText</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">enablePullDownRefresh</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">]</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">pages</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;">: </span><span style="color:#999999;">[</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//pages\u6570\u7EC4\u4E2D\u7B2C\u4E00\u9879\u8868\u793A\u5E94\u7528\u542F\u52A8\u9875\uFF0C\u53C2\u8003\uFF1Ahttps://uniapp.dcloud.io/collocation/pages</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">path</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">pages/index/index</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">style</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A0ADA0;">// custorm \u53D6\u6D88\u9876\u90E8\u7684 navBar \u663E\u793A</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">navigationStyle</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">custom</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">enablePullDownRefresh</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">},</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">path</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">pages/feeds/feeds</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">style</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">navigationBarTitleText</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">\u524D\u7AEF\u52A8\u6001</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">enablePullDownRefresh</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">},</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">path</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">pages/me/me</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">style</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">navigationStyle</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">custom</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">enablePullDownRefresh</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">},</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">path</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">pages/webview/webview</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">style</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">navigationBarTitleText</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">enablePullDownRefresh</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">]</span></span>
<span class="line"></span></code></pre></div><h3 id="_1-4-\u914D\u7F6E\u9875\u9762-tabbar-\u5BFC\u822A" tabindex="-1">1.4 \u914D\u7F6E\u9875\u9762 TabBar \u5BFC\u822A <a class="header-anchor" href="#_1-4-\u914D\u7F6E\u9875\u9762-tabbar-\u5BFC\u822A" aria-hidden="true">#</a></h3><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">tabBar</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;">: </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">color</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">#000</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">selectedColor</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">#0050FF</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">list</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">iconPath</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">/static/tabbar-icons/index.png</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">selectedIconPath</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">/static/tabbar-icons/index_s.png</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">text</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">\u9996\u9875</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">pagePath</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">pages/index/index</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">iconPath</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">/static/tabbar-icons/feeds.png</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">selectedIconPath</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">/static/tabbar-icons/feeds_s.png</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">text</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">\u52A8\u6001</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">pagePath</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">pages/feeds/feeds</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">iconPath</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">/static/tabbar-icons/me.png</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">selectedIconPath</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">/static/tabbar-icons/me_s.png</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">text</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">\u6211\u7684</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">pagePath</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">pages/me/me</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">]</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">tabBar</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;">: </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">color</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">#000</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">selectedColor</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">#0050FF</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">list</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">iconPath</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">/static/tabbar-icons/index.png</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">selectedIconPath</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">/static/tabbar-icons/index_s.png</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">text</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">\u9996\u9875</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">pagePath</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">pages/index/index</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">iconPath</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">/static/tabbar-icons/feeds.png</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">selectedIconPath</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">/static/tabbar-icons/feeds_s.png</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">text</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">\u52A8\u6001</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">pagePath</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">pages/feeds/feeds</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">iconPath</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">/static/tabbar-icons/me.png</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">selectedIconPath</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">/static/tabbar-icons/me_s.png</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">text</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">\u6211\u7684</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">pagePath</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">pages/me/me</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_1-5-\u4F7F\u7528-npm-\u5F15\u5165-uview-ui-\u63D2\u4EF6\u5E93" tabindex="-1">1.5 \u4F7F\u7528 npm \u5F15\u5165 uView UI \u63D2\u4EF6\u5E93 <a class="header-anchor" href="#_1-5-\u4F7F\u7528-npm-\u5F15\u5165-uview-ui-\u63D2\u4EF6\u5E93" aria-hidden="true">#</a></h3><ol><li>\u4F7F\u7528 HBuilder \u5BFC\u5165\u63D2\u4EF6 <a href="https://ext.dcloud.net.cn/plugin?id=1593" target="_blank" rel="noreferrer">uViewUI</a> \u6216\u8005\u4F7F\u7528 npm \u5B89\u88C5\u76F8\u5173\u4F9D\u8D56\uFF08\u63A8\u8350\u4F7F\u7528 npm \u5B89\u88C5\uFF09</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// \u5982\u679C\u60A8\u7684\u9879\u76EE\u662FHX\u521B\u5EFA\u7684\uFF0C\u6839\u76EE\u5F55\u53C8\u6CA1\u6709package.json\u6587\u4EF6\u7684\u8BDD\uFF0C\u8BF7\u5148\u6267\u884C\u5982\u4E0B\u547D\u4EE4\uFF1A</span></span>
<span class="line"><span style="color:#BD976A;">npm</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">init</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">-</span><span style="color:#BD976A;">y</span></span>
<span class="line"><span style="color:#758575DD;">// \u5B89\u88C5</span></span>
<span class="line"><span style="color:#BD976A;">npm</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">install</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">uview</span><span style="color:#CB7676;">-</span><span style="color:#BD976A;">ui</span></span>
<span class="line"><span style="color:#758575DD;">// \u66F4\u65B0</span></span>
<span class="line"><span style="color:#BD976A;">npm</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">update</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">uview</span><span style="color:#CB7676;">-</span><span style="color:#BD976A;">ui</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// \u5982\u679C\u60A8\u7684\u9879\u76EE\u662FHX\u521B\u5EFA\u7684\uFF0C\u6839\u76EE\u5F55\u53C8\u6CA1\u6709package.json\u6587\u4EF6\u7684\u8BDD\uFF0C\u8BF7\u5148\u6267\u884C\u5982\u4E0B\u547D\u4EE4\uFF1A</span></span>
<span class="line"><span style="color:#B07D48;">npm</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">init</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#B07D48;">y</span></span>
<span class="line"><span style="color:#A0ADA0;">// \u5B89\u88C5</span></span>
<span class="line"><span style="color:#B07D48;">npm</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">install</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">uview</span><span style="color:#AB5959;">-</span><span style="color:#B07D48;">ui</span></span>
<span class="line"><span style="color:#A0ADA0;">// \u66F4\u65B0</span></span>
<span class="line"><span style="color:#B07D48;">npm</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">update</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">uview</span><span style="color:#AB5959;">-</span><span style="color:#B07D48;">ui</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li><code>main.js</code>\u5F15\u5165 uView \u5E93</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// main.js</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">uView</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">uview-ui</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#BD976A;">Vue</span><span style="color:#666666;">.</span><span style="color:#80A665;">use</span><span style="color:#666666;">(</span><span style="color:#BD976A;">uView</span><span style="color:#666666;">);</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// main.js</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">uView</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">uview-ui</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#B07D48;">Vue</span><span style="color:#999999;">.</span><span style="color:#59873A;">use</span><span style="color:#999999;">(</span><span style="color:#B07D48;">uView</span><span style="color:#999999;">);</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u7F16\u8F91\u5668\u5B89\u88C5\u76F8\u5173\u4F9D\u8D56 \u5DE5\u5177 \u2014 \u63D2\u4EF6\u5B89\u88C5 \u2014 scss \u7F16\u8BD1\u652F\u6301</li></ol><p><img src="`+r+`" alt="3"></p><ol start="4"><li><code>App.vue</code>\u5F15\u5165\u57FA\u7840\u6837\u5F0F</li></ol><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">/* App.vue */</span></span>
<span class="line"><span style="color:#DBD7CAEE;">&lt;</span><span style="color:#4D9375;">style</span><span style="color:#DBD7CAEE;"> lang=&quot;scss&quot;</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">uview-ui/index.scss</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">&lt;/</span><span style="color:#4D9375;">style</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">/* App.vue */</span></span>
<span class="line"><span style="color:#393A34;">&lt;</span><span style="color:#1E754F;">style</span><span style="color:#393A34;"> lang=&quot;scss&quot;</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">uview-ui/index.scss</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">&lt;/</span><span style="color:#1E754F;">style</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><ol start="5"><li><code>uni.scss</code>\u5F15\u5165\u5168\u5C40 scss \u53D8\u91CF\u6587\u4EF6</li></ol><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">/* uni.scss */</span></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">uview-ui/theme.scss</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">/* uni.scss */</span></span>
<span class="line"><span style="color:#999999;">@</span><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">uview-ui/theme.scss</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"></span></code></pre></div><ol start="6"><li><code>pages.json</code>\u914D\u7F6E easycom \u89C4\u5219(\u6309\u9700\u5F15\u5165)</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// pages.json</span></span>
<span class="line"><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">easycom</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;">: </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u4E0B\u8F7D\u5B89\u88C5\u7684\u65B9\u5F0F\u9700\u8981\u524D\u9762\u7684&quot;@/&quot;\uFF0Cnpm\u5B89\u88C5\u7684\u65B9\u5F0F\u65E0\u9700&quot;@/&quot;</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// &quot;^u-(.*)&quot;: &quot;@/uview-ui/components/u-$1/u-$1.vue&quot;</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// npm\u5B89\u88C5\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">^u-(.*)</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">uview-ui/components/u-$1/u-$1.vue</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u6B64\u4E3A\u672C\u8EAB\u5DF2\u6709\u7684\u5185\u5BB9</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">pages</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;">: </span><span style="color:#666666;">[</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// ......</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">]</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// pages.json</span></span>
<span class="line"><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">easycom</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;">: </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u4E0B\u8F7D\u5B89\u88C5\u7684\u65B9\u5F0F\u9700\u8981\u524D\u9762\u7684&quot;@/&quot;\uFF0Cnpm\u5B89\u88C5\u7684\u65B9\u5F0F\u65E0\u9700&quot;@/&quot;</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// &quot;^u-(.*)&quot;: &quot;@/uview-ui/components/u-$1/u-$1.vue&quot;</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// npm\u5B89\u88C5\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">^u-(.*)</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">uview-ui/components/u-$1/u-$1.vue</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u6B64\u4E3A\u672C\u8EAB\u5DF2\u6709\u7684\u5185\u5BB9</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">pages</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;">: </span><span style="color:#999999;">[</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// ......</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="\u4E8C\u3001\u9996\u9875\u529F\u80FD\u5B9E\u73B0" tabindex="-1">\u4E8C\u3001\u9996\u9875\u529F\u80FD\u5B9E\u73B0 <a class="header-anchor" href="#\u4E8C\u3001\u9996\u9875\u529F\u80FD\u5B9E\u73B0" aria-hidden="true">#</a></h2><h3 id="_2-1-\u9996\u9875-header-\u5E7F\u544A\u4F4D\u8F6E\u64AD\u56FE\u529F\u80FD\u5B9E\u73B0" tabindex="-1">2.1 \u9996\u9875 header \u5E7F\u544A\u4F4D\u8F6E\u64AD\u56FE\u529F\u80FD\u5B9E\u73B0 <a class="header-anchor" href="#_2-1-\u9996\u9875-header-\u5E7F\u544A\u4F4D\u8F6E\u64AD\u56FE\u529F\u80FD\u5B9E\u73B0" aria-hidden="true">#</a></h3><p>\u5173\u952E\u6280\u672F\u70B9\uFF1A</p><ol><li>swiper \u8F6E\u64AD\u5668\u7EC4\u4EF6\u7684\u4F7F\u7528</li><li>\u4F7F\u7528 this.$u.get/post \u5F02\u6B65\u8BF7\u6C42\u6570\u636E</li><li>\u4F7F\u7528 v-for \u5FAA\u73AF\u904D\u5386\u6E32\u67D3\u8F6E\u64AD\u5185\u5BB9</li></ol><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">&lt;!-- \u9875\u9762 header \u76F8\u5173\u90E8\u5206 --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">&lt;view class=&quot;header-box&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#758575DD;">&lt;!-- \u9876\u90E8\u5E7F\u544A\u4F4D\u8F6E\u64AD\u56FE --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		&lt;swiper class=&quot;swiper&quot; :indicator-dots=&quot;false&quot; :autoplay=&quot;true&quot; :interval=&quot;2500&quot; :duration=&quot;500&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				&lt;swiper-item v-for=&quot;item in swiperAdList&quot; :key=&quot;item.id&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					&lt;navigator open-type=&quot;navigate&quot; :url=&quot; &#39;/pages/webview/webview?url=&#39;+item.link&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						&lt;image class=&quot;banner-swiper-img&quot; :src=&quot;item.image&quot; mode=&quot;aspectFill&quot; /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					&lt;/navigator&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				&lt;/swiper-item&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		&lt;/swiper&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#758575DD;">&lt;!-- \u906E\u7F69\u4F7F\u7528\u5F27\u5F62\u6846 --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		&lt;image class=&quot;crile&quot; src=&quot;@/static/crile.png&quot; mode=&quot;aspectFill&quot; /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#758575DD;">&lt;!-- \u4E24\u4E2A\u9009\u9879\u6309\u94AE --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		&lt;view class=&quot;card-header&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				&lt;view class=&quot;card-one card-left&quot; @tap=&quot;gotoFeeds(&#39;/pages/feeds/feeds&#39;)&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					&lt;image class=&quot;img&quot; src=&quot;@/static/coffee.png&quot; mode=&quot;aspectFill&quot; /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					&lt;view class=&quot;iright&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						&lt;view class=&quot;title&quot;&gt;\u7CBE\u5F69\u52A8\u6001&lt;/view&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					&lt;/view&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				&lt;/view&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				&lt;view class=&quot;card-one card-right&quot; @tap=&quot;gotoFeeds(&#39;/pages/me/me&#39;)&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					&lt;image class=&quot;img&quot; src=&quot;@/static/ran.png&quot; mode=&quot;aspectFill&quot; /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					&lt;view class=&quot;iright&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						&lt;view class=&quot;title&quot;&gt;\u4E2A\u4EBA\u4E2D\u5FC3&lt;/view&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					&lt;/view&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				&lt;/view&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		&lt;/view&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#758575DD;">&lt;!-- Tab \u9009\u9879\u5361 --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		&lt;view class=&quot;tabs-box&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		&lt;view class=&quot;one-nav&quot; :class=&quot;currentSwiperIndex === 0 ? &#39;nav-actived&#39; : &#39;&#39; &quot; @tap=&quot;swiperChange(0)&quot;&gt;\u63A8\u8350&lt;/view&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		&lt;view class=&quot;one-nav&quot; :class=&quot;currentSwiperIndex === 1 ? &#39;nav-actived&#39; : &#39;&#39; &quot; @tap=&quot;swiperChange(1)&quot;&gt;\u8D44\u8BAF&lt;/view&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	&lt;/view&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">&lt;/view&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// \u8BF7\u6C42 \u5E7F\u544A\u8F6E\u64AD\u56FE\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#BD976A;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">getAdverts</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">adverts</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">getAdvert</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">space</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">1,2,3</span><span style="color:#C98A7DAA;">&#39;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperAdList</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">adverts</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#80A665;">map</span><span style="color:#666666;">(</span><span style="color:#BD976A;">item</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					return {</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#B8A965;">id</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#B8A965;">link</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">link</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#B8A965;">image</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">image</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				}</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">&lt;!-- \u9875\u9762 header \u76F8\u5173\u90E8\u5206 --&gt;</span></span>
<span class="line"><span style="color:#393A34;">&lt;view class=&quot;header-box&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#A0ADA0;">&lt;!-- \u9876\u90E8\u5E7F\u544A\u4F4D\u8F6E\u64AD\u56FE --&gt;</span></span>
<span class="line"><span style="color:#393A34;">		&lt;swiper class=&quot;swiper&quot; :indicator-dots=&quot;false&quot; :autoplay=&quot;true&quot; :interval=&quot;2500&quot; :duration=&quot;500&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">				&lt;swiper-item v-for=&quot;item in swiperAdList&quot; :key=&quot;item.id&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">					&lt;navigator open-type=&quot;navigate&quot; :url=&quot; &#39;/pages/webview/webview?url=&#39;+item.link&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">						&lt;image class=&quot;banner-swiper-img&quot; :src=&quot;item.image&quot; mode=&quot;aspectFill&quot; /&gt;</span></span>
<span class="line"><span style="color:#393A34;">					&lt;/navigator&gt;</span></span>
<span class="line"><span style="color:#393A34;">				&lt;/swiper-item&gt;</span></span>
<span class="line"><span style="color:#393A34;">		&lt;/swiper&gt;</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#A0ADA0;">&lt;!-- \u906E\u7F69\u4F7F\u7528\u5F27\u5F62\u6846 --&gt;</span></span>
<span class="line"><span style="color:#393A34;">		&lt;image class=&quot;crile&quot; src=&quot;@/static/crile.png&quot; mode=&quot;aspectFill&quot; /&gt;</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#A0ADA0;">&lt;!-- \u4E24\u4E2A\u9009\u9879\u6309\u94AE --&gt;</span></span>
<span class="line"><span style="color:#393A34;">		&lt;view class=&quot;card-header&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">				&lt;view class=&quot;card-one card-left&quot; @tap=&quot;gotoFeeds(&#39;/pages/feeds/feeds&#39;)&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">					&lt;image class=&quot;img&quot; src=&quot;@/static/coffee.png&quot; mode=&quot;aspectFill&quot; /&gt;</span></span>
<span class="line"><span style="color:#393A34;">					&lt;view class=&quot;iright&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">						&lt;view class=&quot;title&quot;&gt;\u7CBE\u5F69\u52A8\u6001&lt;/view&gt;</span></span>
<span class="line"><span style="color:#393A34;">					&lt;/view&gt;</span></span>
<span class="line"><span style="color:#393A34;">				&lt;/view&gt;</span></span>
<span class="line"><span style="color:#393A34;">				&lt;view class=&quot;card-one card-right&quot; @tap=&quot;gotoFeeds(&#39;/pages/me/me&#39;)&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">					&lt;image class=&quot;img&quot; src=&quot;@/static/ran.png&quot; mode=&quot;aspectFill&quot; /&gt;</span></span>
<span class="line"><span style="color:#393A34;">					&lt;view class=&quot;iright&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">						&lt;view class=&quot;title&quot;&gt;\u4E2A\u4EBA\u4E2D\u5FC3&lt;/view&gt;</span></span>
<span class="line"><span style="color:#393A34;">					&lt;/view&gt;</span></span>
<span class="line"><span style="color:#393A34;">				&lt;/view&gt;</span></span>
<span class="line"><span style="color:#393A34;">		&lt;/view&gt;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#A0ADA0;">&lt;!-- Tab \u9009\u9879\u5361 --&gt;</span></span>
<span class="line"><span style="color:#393A34;">		&lt;view class=&quot;tabs-box&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">		&lt;view class=&quot;one-nav&quot; :class=&quot;currentSwiperIndex === 0 ? &#39;nav-actived&#39; : &#39;&#39; &quot; @tap=&quot;swiperChange(0)&quot;&gt;\u63A8\u8350&lt;/view&gt;</span></span>
<span class="line"><span style="color:#393A34;">		&lt;view class=&quot;one-nav&quot; :class=&quot;currentSwiperIndex === 1 ? &#39;nav-actived&#39; : &#39;&#39; &quot; @tap=&quot;swiperChange(1)&quot;&gt;\u8D44\u8BAF&lt;/view&gt;</span></span>
<span class="line"><span style="color:#393A34;">	&lt;/view&gt;</span></span>
<span class="line"><span style="color:#393A34;">&lt;/view&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// \u8BF7\u6C42 \u5E7F\u544A\u8F6E\u64AD\u56FE\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#B07D48;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">getAdverts</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">adverts</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">getAdvert</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">space</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">1,2,3</span><span style="color:#B56959AA;">&#39;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperAdList</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">adverts</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#59873A;">map</span><span style="color:#999999;">(</span><span style="color:#B07D48;">item</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">					return {</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#998418;">id</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#998418;">link</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">link</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#998418;">image</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">image</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">				}</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-2-\u5168\u5C40\u914D\u7F6E-webview-\u5C55\u793A\u7B2C\u4E09\u65B9-web-\u9875\u9762" tabindex="-1">2.2 \u5168\u5C40\u914D\u7F6E WebView \u5C55\u793A\u7B2C\u4E09\u65B9 web \u9875\u9762 <a class="header-anchor" href="#_2-2-\u5168\u5C40\u914D\u7F6E-webview-\u5C55\u793A\u7B2C\u4E09\u65B9-web-\u9875\u9762" aria-hidden="true">#</a></h3><p>\u5173\u952E\u6280\u672F\u70B9\uFF1A\u6211\u4EEC\u901A\u5E38\u4E3A\u6574\u4E2A\u5E94\u7528\u7684 Web H5 \u76F8\u5173\u9875\u9762\uFF0C\u6784\u5EFA\u4E00\u4E2A\u4E13\u95E8\u7528\u6765\u5C55\u793A\u7684 webview \u8DEF\u7531\u9875\u9762\uFF0C\u4F46\u662F\u8981\u6CE8\u610F\u8DEF\u7531\u4F20\u53C2\u7684\u65F6\u5019\uFF0C\u5BF9\u5E94\u7684 url \u9700\u8981 decodeURI \u3001encodeURI</p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">web-view</span><span style="color:#666666;"> :</span><span style="color:#BD976A;">src</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">url</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> /&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#80A665;">data</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">url</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">};</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u63A5\u6536\u4F20\u9012\u8FC7\u6765\u7684\u53C2\u6570\u5730\u5740\uFF0C\u5C06 web-view \u76F8\u5173\u9875\u9762\u5C55\u5F00\u96C6\u5408\u5230\u4E00\u4E2A\u5730\u65B9</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#80A665;">onLoad</span><span style="color:#666666;">(</span><span style="color:#BD976A;">options</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">url</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">decodeURI</span><span style="color:#666666;">(</span><span style="color:#BD976A;">options</span><span style="color:#666666;">.</span><span style="color:#BD976A;">url</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">};</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">web-view</span><span style="color:#999999;"> :</span><span style="color:#B07D48;">src</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">url</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> /&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">data</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">url</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u63A5\u6536\u4F20\u9012\u8FC7\u6765\u7684\u53C2\u6570\u5730\u5740\uFF0C\u5C06 web-view \u76F8\u5173\u9875\u9762\u5C55\u5F00\u96C6\u5408\u5230\u4E00\u4E2A\u5730\u65B9</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">onLoad</span><span style="color:#999999;">(</span><span style="color:#B07D48;">options</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">url</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">decodeURI</span><span style="color:#999999;">(</span><span style="color:#B07D48;">options</span><span style="color:#999999;">.</span><span style="color:#B07D48;">url</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-3-uviewui-\u7F51\u7EDC-http-\u8BF7\u6C42\u53CA-api-\u96C6\u4E2D\u7BA1\u7406" tabindex="-1">2.3 uViewUI \u7F51\u7EDC http \u8BF7\u6C42\u53CA API \u96C6\u4E2D\u7BA1\u7406 <a class="header-anchor" href="#_2-3-uviewui-\u7F51\u7EDC-http-\u8BF7\u6C42\u53CA-api-\u96C6\u4E2D\u7BA1\u7406" aria-hidden="true">#</a></h3><ol><li>\u8BF7\u6C42\u5934\u3001\u62E6\u622A\u3001\u8FD4\u56DE <code>/common/http.interceptor.js</code> \u76F8\u5173\u914D\u7F6E</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// \u8FD9\u91CC\u7684vm\uFF0C\u5C31\u662F\u6211\u4EEC\u5728vue\u6587\u4EF6\u91CC\u9762\u7684this\uFF0C\u6240\u4EE5\u6211\u4EEC\u80FD\u5728\u8FD9\u91CC\u83B7\u53D6vuex\u7684\u53D8\u91CF\uFF0C\u6BD4\u5982\u5B58\u653E\u5728\u91CC\u9762\u7684token\u53D8\u91CF</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">install</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">Vue</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">vm</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u6B64\u4E3A\u81EA\u5B9A\u4E49\u914D\u7F6E\u53C2\u6570\uFF0C\u5177\u4F53\u53C2\u6570\u89C1\u4E0A\u65B9\u8BF4\u660E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    Vue.prototype.$u.http.setConfig({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">baseUrl</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">http://47.115.83.135/api/v2</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">// \u8BF7\u6C42\u7684\u672C\u57DF\u540D</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">dataType</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">json</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">// \u8BBE\u7F6E\u4E3Ajson\uFF0C\u8FD4\u56DE\u540E\u4F1A\u5BF9\u6570\u636E\u8FDB\u884C\u4E00\u6B21JSON.parse()</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">showLoading</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">// \u662F\u5426\u663E\u793A\u8BF7\u6C42\u4E2D\u7684loading</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">loadingText</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u8BF7\u6C42\u4E2D...</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">// \u8BF7\u6C42loading\u4E2D\u7684\u6587\u5B57\u63D0\u793A</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">loadingTime</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">800</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">// \u5728\u6B64\u65F6\u95F4\u5185\uFF0C\u8BF7\u6C42\u8FD8\u6CA1\u56DE\u6765\u7684\u8BDD\uFF0C\u5C31\u663E\u793A\u52A0\u8F7D\u4E2D\u52A8\u753B\uFF0C\u5355\u4F4Dms</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">originalData</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">// \u662F\u5426\u5728\u62E6\u622A\u5668\u4E2D\u8FD4\u56DE\u670D\u52A1\u7AEF\u7684\u539F\u59CB\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">loadingMask</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">// \u5C55\u793Aloading\u7684\u65F6\u5019\uFF0C\u662F\u5426\u7ED9\u4E00\u4E2A\u900F\u660E\u7684\u8499\u5C42\uFF0C\u9632\u6B62\u89E6\u6478\u7A7F\u900F</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u914D\u7F6E\u8BF7\u6C42\u5934\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">header</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">content-type</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">application/json;charset=UTF-8</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">)</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u8BF7\u6C42\u62E6\u622A\uFF0C\u914D\u7F6EToken\u7B49\u53C2\u6570</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">Vue</span><span style="color:#666666;">.</span><span style="color:#B8A965;">prototype</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">http</span><span style="color:#666666;">.</span><span style="color:#BD976A;">interceptor</span><span style="color:#666666;">.</span><span style="color:#BD976A;">request</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">config</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u5F15\u7528token</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u65B9\u5F0F\u4E00\uFF0C\u5B58\u653E\u5728vuex\u7684token\uFF0C\u5047\u8BBE\u4F7F\u7528\u4E86uView\u5C01\u88C5\u7684vuex\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u89C1\uFF1Ahttps://uviewui.com/components/globalVariable.html</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// config.header.token = vm.token;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u65B9\u5F0F\u4E8C\uFF0C\u5982\u679C\u6CA1\u6709\u4F7F\u7528uView\u5C01\u88C5\u7684vuex\u65B9\u6CD5\uFF0C\u90A3\u4E48\u9700\u8981\u4F7F\u7528$store.state\u83B7\u53D6</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// config.header.token = vm.$store.state.token;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u65B9\u5F0F\u4E09\uFF0C\u5982\u679Ctoken\u653E\u5728\u4E86globalData\uFF0C\u901A\u8FC7getApp().globalData\u83B7\u53D6</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// config.header.token = getApp().globalData.username;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u65B9\u5F0F\u56DB\uFF0C\u5982\u679Ctoken\u653E\u5728\u4E86Storage\u672C\u5730\u5B58\u50A8\u4E2D\uFF0C\u62E6\u622A\u662F\u6BCF\u6B21\u8BF7\u6C42\u90FD\u6267\u884C\u7684</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u6240\u4EE5\u54EA\u6015\u60A8\u91CD\u65B0\u767B\u5F55\u4FEE\u6539\u4E86Storage\uFF0C\u4E0B\u4E00\u6B21\u7684\u8BF7\u6C42\u5C06\u4F1A\u662F\u6700\u65B0\u503C</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// const token = uni.getStorageSync(&#39;token&#39;);</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// config.header.token = token;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        config.header.</span><span style="color:#BD976A;">Token</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">xxxxxx</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u53EF\u4EE5\u5BF9\u67D0\u4E2Aurl\u8FDB\u884C\u7279\u522B\u5904\u7406\uFF0C\u6B64url\u53C2\u6570\u4E3Athis.$u.get(url)\u4E2D\u7684url\u503C</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// if(config.url == &#39;/user/login&#39;) config.header.noToken = true;</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u6700\u540E\u9700\u8981\u5C06config\u8FDB\u884Creturn</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        return config;</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u5982\u679Creturn\u4E00\u4E2Afalse\u503C\uFF0C\u5219\u4F1A\u53D6\u6D88\u672C\u6B21\u8BF7\u6C42</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// if(config.url == &#39;/user/rest&#39;) return false; // \u53D6\u6D88\u67D0\u6B21\u8BF7\u6C42</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u54CD\u5E94\u62E6\u622A\uFF0C\u5224\u65AD\u72B6\u6001\u7801\u662F\u5426\u901A\u8FC7</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">Vue</span><span style="color:#666666;">.</span><span style="color:#B8A965;">prototype</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">http</span><span style="color:#666666;">.</span><span style="color:#BD976A;">interceptor</span><span style="color:#666666;">.</span><span style="color:#BD976A;">response</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">res</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#80A665;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#DBD7CAEE;">res.code == 401</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// \u5982\u679C\u8FD4\u56DEfalse\uFF0C\u5219\u4F1A\u8C03\u7528Promise\u7684reject\u56DE\u8C03\uFF0C</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// \u5E76\u5C06\u8FDB\u5165this.$u.post(url).then().catch(res=&gt;{})\u7684catch\u56DE\u8C03\u4E2D\uFF0Cres\u4E3A\u670D\u52A1\u7AEF\u7684\u8FD4\u56DE\u503C</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">vm</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#80A665;">toast</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u5F53\u524D\u8BF7\u6C42 API \u63A5\u53E3\u4E0D\u5B58\u5728</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> else {</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// res\u4E3A\u670D\u52A1\u7AEF\u8FD4\u56DE\u503C\uFF0C\u53EF\u80FD\u6709code\uFF0Cresult\u7B49\u5B57\u6BB5</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// \u8FD9\u91CC\u5BF9res.result\u8FDB\u884C\u8FD4\u56DE\uFF0C\u5C06\u4F1A\u5728this.$u.post(url).then(res ={})\u7684then\u56DE\u8C03\u4E2D\u7684res\u7684\u5230</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// \u5982\u679C\u914D\u7F6E\u4E86originalData\u4E3Atrue\uFF0C\u8BF7\u7559\u610F\u8FD9\u91CC\u7684\u8FD4\u56DE\u503C</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            return res;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    }</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">}</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">install</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">};</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// \u8FD9\u91CC\u7684vm\uFF0C\u5C31\u662F\u6211\u4EEC\u5728vue\u6587\u4EF6\u91CC\u9762\u7684this\uFF0C\u6240\u4EE5\u6211\u4EEC\u80FD\u5728\u8FD9\u91CC\u83B7\u53D6vuex\u7684\u53D8\u91CF\uFF0C\u6BD4\u5982\u5B58\u653E\u5728\u91CC\u9762\u7684token\u53D8\u91CF</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">install</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">Vue</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">vm</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u6B64\u4E3A\u81EA\u5B9A\u4E49\u914D\u7F6E\u53C2\u6570\uFF0C\u5177\u4F53\u53C2\u6570\u89C1\u4E0A\u65B9\u8BF4\u660E</span></span>
<span class="line"><span style="color:#393A34;">    Vue.prototype.$u.http.setConfig({</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">baseUrl</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">http://47.115.83.135/api/v2</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u8BF7\u6C42\u7684\u672C\u57DF\u540D</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">dataType</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">json</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u8BBE\u7F6E\u4E3Ajson\uFF0C\u8FD4\u56DE\u540E\u4F1A\u5BF9\u6570\u636E\u8FDB\u884C\u4E00\u6B21JSON.parse()</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">showLoading</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u662F\u5426\u663E\u793A\u8BF7\u6C42\u4E2D\u7684loading</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">loadingText</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u8BF7\u6C42\u4E2D...</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u8BF7\u6C42loading\u4E2D\u7684\u6587\u5B57\u63D0\u793A</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">loadingTime</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">800</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u5728\u6B64\u65F6\u95F4\u5185\uFF0C\u8BF7\u6C42\u8FD8\u6CA1\u56DE\u6765\u7684\u8BDD\uFF0C\u5C31\u663E\u793A\u52A0\u8F7D\u4E2D\u52A8\u753B\uFF0C\u5355\u4F4Dms</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">originalData</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u662F\u5426\u5728\u62E6\u622A\u5668\u4E2D\u8FD4\u56DE\u670D\u52A1\u7AEF\u7684\u539F\u59CB\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">loadingMask</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// \u5C55\u793Aloading\u7684\u65F6\u5019\uFF0C\u662F\u5426\u7ED9\u4E00\u4E2A\u900F\u660E\u7684\u8499\u5C42\uFF0C\u9632\u6B62\u89E6\u6478\u7A7F\u900F</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u914D\u7F6E\u8BF7\u6C42\u5934\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">header</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">content-type</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">application/json;charset=UTF-8</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span><span style="color:#393A34;">)</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u8BF7\u6C42\u62E6\u622A\uFF0C\u914D\u7F6EToken\u7B49\u53C2\u6570</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">Vue</span><span style="color:#999999;">.</span><span style="color:#998418;">prototype</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">http</span><span style="color:#999999;">.</span><span style="color:#B07D48;">interceptor</span><span style="color:#999999;">.</span><span style="color:#B07D48;">request</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">config</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u5F15\u7528token</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u65B9\u5F0F\u4E00\uFF0C\u5B58\u653E\u5728vuex\u7684token\uFF0C\u5047\u8BBE\u4F7F\u7528\u4E86uView\u5C01\u88C5\u7684vuex\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u89C1\uFF1Ahttps://uviewui.com/components/globalVariable.html</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// config.header.token = vm.token;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u65B9\u5F0F\u4E8C\uFF0C\u5982\u679C\u6CA1\u6709\u4F7F\u7528uView\u5C01\u88C5\u7684vuex\u65B9\u6CD5\uFF0C\u90A3\u4E48\u9700\u8981\u4F7F\u7528$store.state\u83B7\u53D6</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// config.header.token = vm.$store.state.token;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u65B9\u5F0F\u4E09\uFF0C\u5982\u679Ctoken\u653E\u5728\u4E86globalData\uFF0C\u901A\u8FC7getApp().globalData\u83B7\u53D6</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// config.header.token = getApp().globalData.username;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u65B9\u5F0F\u56DB\uFF0C\u5982\u679Ctoken\u653E\u5728\u4E86Storage\u672C\u5730\u5B58\u50A8\u4E2D\uFF0C\u62E6\u622A\u662F\u6BCF\u6B21\u8BF7\u6C42\u90FD\u6267\u884C\u7684</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u6240\u4EE5\u54EA\u6015\u60A8\u91CD\u65B0\u767B\u5F55\u4FEE\u6539\u4E86Storage\uFF0C\u4E0B\u4E00\u6B21\u7684\u8BF7\u6C42\u5C06\u4F1A\u662F\u6700\u65B0\u503C</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// const token = uni.getStorageSync(&#39;token&#39;);</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// config.header.token = token;</span></span>
<span class="line"><span style="color:#393A34;">        config.header.</span><span style="color:#B07D48;">Token</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">xxxxxx</span><span style="color:#B56959AA;">&#39;</span><span style="color:#393A34;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u53EF\u4EE5\u5BF9\u67D0\u4E2Aurl\u8FDB\u884C\u7279\u522B\u5904\u7406\uFF0C\u6B64url\u53C2\u6570\u4E3Athis.$u.get(url)\u4E2D\u7684url\u503C</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// if(config.url == &#39;/user/login&#39;) config.header.noToken = true;</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u6700\u540E\u9700\u8981\u5C06config\u8FDB\u884Creturn</span></span>
<span class="line"><span style="color:#393A34;">        return config;</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u5982\u679Creturn\u4E00\u4E2Afalse\u503C\uFF0C\u5219\u4F1A\u53D6\u6D88\u672C\u6B21\u8BF7\u6C42</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// if(config.url == &#39;/user/rest&#39;) return false; // \u53D6\u6D88\u67D0\u6B21\u8BF7\u6C42</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u54CD\u5E94\u62E6\u622A\uFF0C\u5224\u65AD\u72B6\u6001\u7801\u662F\u5426\u901A\u8FC7</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">Vue</span><span style="color:#999999;">.</span><span style="color:#998418;">prototype</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">http</span><span style="color:#999999;">.</span><span style="color:#B07D48;">interceptor</span><span style="color:#999999;">.</span><span style="color:#B07D48;">response</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">res</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#393A34;">res.code == 401</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// \u5982\u679C\u8FD4\u56DEfalse\uFF0C\u5219\u4F1A\u8C03\u7528Promise\u7684reject\u56DE\u8C03\uFF0C</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// \u5E76\u5C06\u8FDB\u5165this.$u.post(url).then().catch(res=&gt;{})\u7684catch\u56DE\u8C03\u4E2D\uFF0Cres\u4E3A\u670D\u52A1\u7AEF\u7684\u8FD4\u56DE\u503C</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">vm</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#59873A;">toast</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u5F53\u524D\u8BF7\u6C42 API \u63A5\u53E3\u4E0D\u5B58\u5728</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">}</span><span style="color:#393A34;"> else {</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// res\u4E3A\u670D\u52A1\u7AEF\u8FD4\u56DE\u503C\uFF0C\u53EF\u80FD\u6709code\uFF0Cresult\u7B49\u5B57\u6BB5</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// \u8FD9\u91CC\u5BF9res.result\u8FDB\u884C\u8FD4\u56DE\uFF0C\u5C06\u4F1A\u5728this.$u.post(url).then(res ={})\u7684then\u56DE\u8C03\u4E2D\u7684res\u7684\u5230</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// \u5982\u679C\u914D\u7F6E\u4E86originalData\u4E3Atrue\uFF0C\u8BF7\u7559\u610F\u8FD9\u91CC\u7684\u8FD4\u56DE\u503C</span></span>
<span class="line"><span style="color:#393A34;">            return res;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">    }</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">}</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">install</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">};</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u8BF7\u6C42 API \u96C6\u4E2D\u7BA1\u7406 <code>/common/http.api.js</code></li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// \u6B64\u5904\u7B2C\u4E8C\u4E2A\u53C2\u6570vm\uFF0C\u5C31\u662F\u6211\u4EEC\u5728\u9875\u9762\u4F7F\u7528\u7684this\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7vm\u83B7\u53D6vuex\u7B49\u64CD\u4F5C\uFF0C\u66F4\u591A\u5185\u5BB9\u8BE6\u89C1uView\u5BF9\u62E6\u622A\u5668\u7684\u4ECB\u7ECD\u90E8\u5206\uFF1A</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">install</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">Vue</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">vm</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    let </span><span style="color:#BD976A;">api</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{}</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u83B7\u53D6\u5E7F\u544A\u4F4D\u5217\u8868\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    api.</span><span style="color:#80A665;">getAdvert</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">params</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#BD976A;">vm</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#80A665;">get</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">/advertisingspace/advertising</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">params</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u83B7\u53D6\u52A8\u6001\u5217\u8868\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    api.</span><span style="color:#BD976A;">getFeeds</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">params</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#BD976A;">vm</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#80A665;">get</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">/feeds</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">params</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u83B7\u53D6\u8D44\u8BAF\u5217\u8868\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    api.</span><span style="color:#BD976A;">getNews</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">params</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#BD976A;">vm</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#80A665;">get</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">/news</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">params</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u5C06\u5404\u4E2A\u5B9A\u4E49\u7684\u63A5\u53E3\u540D\u79F0\uFF0C\u7EDF\u4E00\u653E\u8FDB\u5BF9\u8C61\u6302\u8F7D\u5230vm.$u.api(\u56E0\u4E3Avm\u5C31\u662Fthis\uFF0C\u4E5F\u5373this.$u.api)\u4E0B</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    vm.$u.</span><span style="color:#BD976A;">api</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">api</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#666666;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">install</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">};</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// \u6B64\u5904\u7B2C\u4E8C\u4E2A\u53C2\u6570vm\uFF0C\u5C31\u662F\u6211\u4EEC\u5728\u9875\u9762\u4F7F\u7528\u7684this\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7vm\u83B7\u53D6vuex\u7B49\u64CD\u4F5C\uFF0C\u66F4\u591A\u5185\u5BB9\u8BE6\u89C1uView\u5BF9\u62E6\u622A\u5668\u7684\u4ECB\u7ECD\u90E8\u5206\uFF1A</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">install</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">Vue</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">vm</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">    let </span><span style="color:#B07D48;">api</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{}</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u83B7\u53D6\u5E7F\u544A\u4F4D\u5217\u8868\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">    api.</span><span style="color:#59873A;">getAdvert</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">params</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">vm</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#59873A;">get</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">/advertisingspace/advertising</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">params</span><span style="color:#999999;">)</span><span style="color:#393A34;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u83B7\u53D6\u52A8\u6001\u5217\u8868\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">    api.</span><span style="color:#B07D48;">getFeeds</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">params</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#B07D48;">vm</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#59873A;">get</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">/feeds</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">params</span><span style="color:#999999;">)</span><span style="color:#393A34;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u83B7\u53D6\u8D44\u8BAF\u5217\u8868\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">    api.</span><span style="color:#B07D48;">getNews</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">params</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#B07D48;">vm</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#59873A;">get</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">/news</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">params</span><span style="color:#999999;">)</span><span style="color:#393A34;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u5C06\u5404\u4E2A\u5B9A\u4E49\u7684\u63A5\u53E3\u540D\u79F0\uFF0C\u7EDF\u4E00\u653E\u8FDB\u5BF9\u8C61\u6302\u8F7D\u5230vm.$u.api(\u56E0\u4E3Avm\u5C31\u662Fthis\uFF0C\u4E5F\u5373this.$u.api)\u4E0B</span></span>
<span class="line"><span style="color:#393A34;">    vm.$u.</span><span style="color:#B07D48;">api</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">api</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#999999;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">install</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">};</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u5728 main.js \u4E2D\u914D\u7F6E\uFF0C\u63D2\u4EF6\u6CE8\u518C\u7B2C\u4E8C\u4E2A\u53C2\u6570 app \u8981\u4F20\u5165\u5230\u5B9E\u4F8B\u4E2D\u53BB\uFF0C\u6240\u4EE5\u8981\u6CE8\u610F\u5F15\u5165\u987A\u5E8F</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">app</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">Vue</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">...</span><span style="color:#BD976A;">App</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#758575DD;">// http\u62E6\u622A\u5668\uFF0C\u6B64\u4E3A\u9700\u8981\u52A0\u5165\u7684\u5185\u5BB9\uFF0C\u5982\u679C\u4E0D\u662F\u5199\u5728common\u76EE\u5F55\uFF0C\u8BF7\u81EA\u884C\u4FEE\u6539\u5F15\u5165\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">httpInterceptor</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">@/common/http.interceptor.js</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#758575DD;">// \u8FD9\u91CC\u9700\u8981\u5199\u5728\u6700\u540E\uFF0C\u662F\u4E3A\u4E86\u7B49Vue\u521B\u5EFA\u5BF9\u8C61\u5B8C\u6210\uFF0C\u5F15\u5165&quot;app&quot;\u5BF9\u8C61(\u4E5F\u5373\u9875\u9762\u7684&quot;this&quot;\u5B9E\u4F8B)</span></span>
<span class="line"><span style="color:#BD976A;">Vue</span><span style="color:#666666;">.</span><span style="color:#80A665;">use</span><span style="color:#666666;">(</span><span style="color:#BD976A;">httpInterceptor</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">app</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#758575DD;">// http\u63A5\u53E3API\u96C6\u4E2D\u7BA1\u7406\u5F15\u5165\u90E8\u5206</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">httpApi</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">@/common/http.api.js</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#BD976A;">Vue</span><span style="color:#666666;">.</span><span style="color:#80A665;">use</span><span style="color:#666666;">(</span><span style="color:#BD976A;">httpApi</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">app</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#BD976A;">app</span><span style="color:#666666;">.</span><span style="color:#80A665;">$mount</span><span style="color:#666666;">();</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">app</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">Vue</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">...</span><span style="color:#B07D48;">App</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#A0ADA0;">// http\u62E6\u622A\u5668\uFF0C\u6B64\u4E3A\u9700\u8981\u52A0\u5165\u7684\u5185\u5BB9\uFF0C\u5982\u679C\u4E0D\u662F\u5199\u5728common\u76EE\u5F55\uFF0C\u8BF7\u81EA\u884C\u4FEE\u6539\u5F15\u5165\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">httpInterceptor</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">@/common/http.interceptor.js</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#A0ADA0;">// \u8FD9\u91CC\u9700\u8981\u5199\u5728\u6700\u540E\uFF0C\u662F\u4E3A\u4E86\u7B49Vue\u521B\u5EFA\u5BF9\u8C61\u5B8C\u6210\uFF0C\u5F15\u5165&quot;app&quot;\u5BF9\u8C61(\u4E5F\u5373\u9875\u9762\u7684&quot;this&quot;\u5B9E\u4F8B)</span></span>
<span class="line"><span style="color:#B07D48;">Vue</span><span style="color:#999999;">.</span><span style="color:#59873A;">use</span><span style="color:#999999;">(</span><span style="color:#B07D48;">httpInterceptor</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">app</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#A0ADA0;">// http\u63A5\u53E3API\u96C6\u4E2D\u7BA1\u7406\u5F15\u5165\u90E8\u5206</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">httpApi</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">@/common/http.api.js</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#B07D48;">Vue</span><span style="color:#999999;">.</span><span style="color:#59873A;">use</span><span style="color:#999999;">(</span><span style="color:#B07D48;">httpApi</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">app</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#B07D48;">app</span><span style="color:#999999;">.</span><span style="color:#59873A;">$mount</span><span style="color:#999999;">();</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-4-\u9996\u9875\u63A8\u8350\u3001\u8D44\u8BAF\u6A21\u5757\u5E73\u6ED1\u5207\u6362\u6548\u679C\u5B9E\u73B0" tabindex="-1">2.4 \u9996\u9875\u63A8\u8350\u3001\u8D44\u8BAF\u6A21\u5757\u5E73\u6ED1\u5207\u6362\u6548\u679C\u5B9E\u73B0 <a class="header-anchor" href="#_2-4-\u9996\u9875\u63A8\u8350\u3001\u8D44\u8BAF\u6A21\u5757\u5E73\u6ED1\u5207\u6362\u6548\u679C\u5B9E\u73B0" aria-hidden="true">#</a></h3><p>\u5173\u952E\u6280\u672F\u70B9\uFF1A</p><ol><li>\u4F7F\u7528\u8F6E\u64AD\u5668\uFF0C\u4E0D\u81EA\u52A8\u64AD\u653E\uFF0C\u6765\u6784\u5EFA\u4E00\u4E2A\u5DE6\u53F3\u6ED1\u52A8\u5207\u6362\u9875\u9762\u7684\u6548\u679C</li><li>\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u8F6E\u64AD\u5668\u7684\u9AD8\u5EA6\u8981\u8BBE\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u503C</li></ol><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">&lt;!-- \u5185\u5BB9\u8F6E\u64AD\u5BFC\u822A\u5B9E\u73B0 --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">&lt;swiper class=&quot;swiper-box&quot; style=&quot;height:1000upx&quot; :current=&quot;0&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#758575DD;">&lt;!-- \u63A8\u8350\u52A8\u6001\u5B9E\u73B0 --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			&lt;swiper-item class=&quot;swiper-item sns-now&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					&lt;view class=&quot;feeds-box&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						...\u52A8\u6001\u9875\u9762\u7011\u5E03\u6D41\u5C55\u793A</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					&lt;/view&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			&lt;/swiper-item&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#758575DD;">&lt;!-- \u8D44\u8BAF\u5217\u8868\u5B9E\u73B0 --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			&lt;swiper-item class=&quot;swiper-item sns-news&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				&lt;view v-for=&quot;(item, index) in newsList&quot; :key=&quot;index&quot;&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					...\u8D44\u8BAF\u9875\u9762\u5217\u8868\u5C55\u793A</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				&lt;/view&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			&lt;/swiper-item&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		&lt;/swiper&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">&lt;!-- \u5185\u5BB9\u8F6E\u64AD\u5BFC\u822A\u5B9E\u73B0 --&gt;</span></span>
<span class="line"><span style="color:#393A34;">&lt;swiper class=&quot;swiper-box&quot; style=&quot;height:1000upx&quot; :current=&quot;0&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#A0ADA0;">&lt;!-- \u63A8\u8350\u52A8\u6001\u5B9E\u73B0 --&gt;</span></span>
<span class="line"><span style="color:#393A34;">			&lt;swiper-item class=&quot;swiper-item sns-now&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">					&lt;view class=&quot;feeds-box&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">						...\u52A8\u6001\u9875\u9762\u7011\u5E03\u6D41\u5C55\u793A</span></span>
<span class="line"><span style="color:#393A34;">					&lt;/view&gt;</span></span>
<span class="line"><span style="color:#393A34;">			&lt;/swiper-item&gt;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#A0ADA0;">&lt;!-- \u8D44\u8BAF\u5217\u8868\u5B9E\u73B0 --&gt;</span></span>
<span class="line"><span style="color:#393A34;">			&lt;swiper-item class=&quot;swiper-item sns-news&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">				&lt;view v-for=&quot;(item, index) in newsList&quot; :key=&quot;index&quot;&gt;</span></span>
<span class="line"><span style="color:#393A34;">					...\u8D44\u8BAF\u9875\u9762\u5217\u8868\u5C55\u793A</span></span>
<span class="line"><span style="color:#393A34;">				&lt;/view&gt;</span></span>
<span class="line"><span style="color:#393A34;">			&lt;/swiper-item&gt;</span></span>
<span class="line"><span style="color:#393A34;">		&lt;/swiper&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-5-\u9996\u9875\u63A8\u8350\u7011\u5E03\u6D41\u5E03\u5C40\u6548\u679C\u5B9E\u73B0" tabindex="-1">2.5 \u9996\u9875\u63A8\u8350\u7011\u5E03\u6D41\u5E03\u5C40\u6548\u679C\u5B9E\u73B0 <a class="header-anchor" href="#_2-5-\u9996\u9875\u63A8\u8350\u7011\u5E03\u6D41\u5E03\u5C40\u6548\u679C\u5B9E\u73B0" aria-hidden="true">#</a></h3><p>\u7011\u5E03\u6D41\u5E03\u5C40\u5176\u6838\u5FC3\u662F\u57FA\u4E8E\u4E00\u4E2A\u7F51\u683C\u7684\u5E03\u5C40\uFF0C\u800C\u4E14\u6BCF\u884C\u5305\u542B\u7684\u9879\u76EE\u5217\u8868\u9AD8\u5EA6\u662F\u968F\u673A\u7684\uFF08\u968F\u7740\u81EA\u5DF1\u5185\u5BB9\u52A8\u6001\u53D8\u5316\u9AD8\u5EA6\uFF09\uFF0C\u540C\u65F6\u6BCF\u4E2A\u9879\u76EE\u5217\u8868\u5448\u5806\u6808\u5F62\u5F0F\u6392\u5217\uFF0C\u6700\u4E3A\u5173\u952E\u7684\u662F\uFF0C\u5806\u6808\u4E4B\u95F4\u5F7C\u6B64\u4E4B\u95F4\u6CA1\u6709\u591A\u4F59\u7684\u95F4\u8DDD\u5DEE\u5B58\u5927\u3002</p><p>\u5B9E\u73B0\u7011\u5E03\u6D41\u7684\u89E3\u51B3\u65B9\u6848\uFF0C\u53EF\u4EE5\u4F7F\u7528 CSS3 \u5E03\u5C40\u6765\u5B9E\u73B0\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528 JS \u811A\u672C\u6765\u5B9E\u73B0\uFF0C\u4F7F\u7528 CSS3 \u5B9E\u73B0\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">/*</span></span>
<span class="line"><span style="color:#758575DD;">  \u8FD9\u91CC\u7684\u5173\u952E\u5C5E\u6027\u662Fcolumn-count\uFF0C\u8BBE\u7F6E\u5217\u6570\u4E3A2\u3002\u7136\u540E\u662Fbreak-inside:avoid\uFF0C\u4E3A\u4E86\u63A7\u5236\u6587\u672C\u5757\u5206\u89E3\u6210\u5355\u72EC\u7684\u5217\uFF0C\u4EE5\u514D\u9879\u76EE\u5217\u8868\u7684\u5185\u5BB9\u8DE8\u5217\uFF0C\u7834\u574F\u6574\u4F53\u7684\u5E03\u5C40\uFF0C\u8FD9\u6837\u5C31\u5B9E\u73B0\u4E86\u7011\u5E03\u6D41\u5E03\u5C40\u3002</span></span>
<span class="line"><span style="color:#758575DD;">*/</span></span>
<span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">waterfall</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">width</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">80</span><span style="color:#CB7676;">%</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">margin</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">auto</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#758575DD;">/* \u7011\u5E03\u6D41\u5BB9\u5668\u5185\u5143\u7D20\u7684\u95F4\u9694 */</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">column-gap</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">10</span><span style="color:#CB7676;">px</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#758575DD;">/* \u7011\u5E03\u5BB9\u5668\u5185\u6392\u5217\u7684\u5217\u6570 */</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">column-count</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">2</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">item</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">padding</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">10</span><span style="color:#CB7676;">px</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">margin-bottom</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">10</span><span style="color:#CB7676;">px</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#758575DD;">/* avoid\u907F\u514D\u5728\u4E3B\u4F53\u6846\u4E2D\u63D2\u5165\u4EFB\u4F55\u4E2D\u65AD\uFF08\u9875\u9762\uFF0C\u5217\u6216\u533A\u57DF\uFF09 */</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">break-inside</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">avoid</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">/*</span></span>
<span class="line"><span style="color:#A0ADA0;">  \u8FD9\u91CC\u7684\u5173\u952E\u5C5E\u6027\u662Fcolumn-count\uFF0C\u8BBE\u7F6E\u5217\u6570\u4E3A2\u3002\u7136\u540E\u662Fbreak-inside:avoid\uFF0C\u4E3A\u4E86\u63A7\u5236\u6587\u672C\u5757\u5206\u89E3\u6210\u5355\u72EC\u7684\u5217\uFF0C\u4EE5\u514D\u9879\u76EE\u5217\u8868\u7684\u5185\u5BB9\u8DE8\u5217\uFF0C\u7834\u574F\u6574\u4F53\u7684\u5E03\u5C40\uFF0C\u8FD9\u6837\u5C31\u5B9E\u73B0\u4E86\u7011\u5E03\u6D41\u5E03\u5C40\u3002</span></span>
<span class="line"><span style="color:#A0ADA0;">*/</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">waterfall</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">width</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">80</span><span style="color:#AB5959;">%</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">margin</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">auto</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/* \u7011\u5E03\u6D41\u5BB9\u5668\u5185\u5143\u7D20\u7684\u95F4\u9694 */</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">column-gap</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">10</span><span style="color:#AB5959;">px</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/* \u7011\u5E03\u5BB9\u5668\u5185\u6392\u5217\u7684\u5217\u6570 */</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">column-count</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">2</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">item</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">padding</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">10</span><span style="color:#AB5959;">px</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">margin-bottom</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">10</span><span style="color:#AB5959;">px</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/* avoid\u907F\u514D\u5728\u4E3B\u4F53\u6846\u4E2D\u63D2\u5165\u4EFB\u4F55\u4E2D\u65AD\uFF08\u9875\u9762\uFF0C\u5217\u6216\u533A\u57DF\uFF09 */</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">break-inside</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">avoid</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"></span></code></pre></div><p>\u4F7F\u7528 CSS3 \u5B9E\u73B0\u7011\u5E03\u6D41\u5E03\u5C40\uFF0C\u6027\u80FD\u9AD8\u4E8E js\uFF0Cjq\uFF0C\u7F3A\u70B9\u662F\u7528\u6237\u4F53\u9A8C\u5DEE\uFF0C\u6BD4\u5982\uFF1A\u79FB\u9664\u6570\u636E\u3001\u66F4\u65B0\u6570\u636E\u4F1A\u9020\u6210\u6574\u4E2A\u9875\u9762\u7ED3\u6784\u7684\u590D\u6742\u53D8\u5316\uFF0C\u8BA9\u7528\u6237\u7A81\u7136\u5931\u53BB\u7126\u70B9\u7684\u611F\u89C9\u975E\u5E38\u4E0D\u53CB\u597D\uFF01\u6240\u4EE5\u4F7F\u7528 js \u5B9E\u73B0\u4F18\u52BF\u4E5F\u662F\u6BD4\u8F83\u660E\u663E\u7684\uFF0C\u6211\u4EEC\u8FD9\u91CC\u4F7F\u7528 uViewUI \u7684\u7011\u5E03\u6D41\u63D2\u4EF6\u6765\u5B9E\u73B0</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">u-waterfall</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">v-model</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">flowList</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">ref</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">uWaterfall</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">template</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">v-slot:left</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">{leftList}</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">view</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">v-for</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">(item, index) in leftList</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">:key</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">index</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#758575DD;">&lt;!-- \u8FD9\u91CC\u7F16\u5199\u60A8\u7684\u5185\u5BB9\uFF0Citem\u4E3A\u60A8\u4F20\u9012\u7ED9v-model\u7684\u6570\u7EC4\u5143\u7D20 --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;/</span><span style="color:#FDAEB7;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">template</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">v-slot:right</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">{rightList}</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">view</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">v-for</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">(item, index) in rightList</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">:key</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">index</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#758575DD;">&lt;!-- \u8FD9\u91CC\u7F16\u5199\u60A8\u7684\u5185\u5BB9\uFF0Citem\u4E3A\u60A8\u4F20\u9012\u7ED9v-model\u7684\u6570\u7EC4\u5143\u7D20 --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;/</span><span style="color:#FDAEB7;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">u-waterfall</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">methods</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#80A665;">remove</span><span style="color:#666666;">(</span><span style="color:#BD976A;">id</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$refs</span><span style="color:#666666;">.</span><span style="color:#BD976A;">uWaterfall</span><span style="color:#666666;">.</span><span style="color:#80A665;">remove</span><span style="color:#666666;">(</span><span style="color:#BD976A;">id</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#80A665;">clear</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$refs</span><span style="color:#666666;">.</span><span style="color:#BD976A;">uWaterfall</span><span style="color:#666666;">.</span><span style="color:#80A665;">clear</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">};</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">u-waterfall</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">v-model</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">flowList</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">ref</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">uWaterfall</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">template</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">v-slot:left</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">{leftList}</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">view</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">v-for</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">(item, index) in leftList</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">:key</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">index</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A0ADA0;">&lt;!-- \u8FD9\u91CC\u7F16\u5199\u60A8\u7684\u5185\u5BB9\uFF0Citem\u4E3A\u60A8\u4F20\u9012\u7ED9v-model\u7684\u6570\u7EC4\u5143\u7D20 --&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;/</span><span style="color:#B31D28;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">template</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">v-slot:right</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">{rightList}</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">view</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">v-for</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">(item, index) in rightList</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">:key</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">index</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A0ADA0;">&lt;!-- \u8FD9\u91CC\u7F16\u5199\u60A8\u7684\u5185\u5BB9\uFF0Citem\u4E3A\u60A8\u4F20\u9012\u7ED9v-model\u7684\u6570\u7EC4\u5143\u7D20 --&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;/</span><span style="color:#B31D28;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">u-waterfall</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">methods</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#59873A;">remove</span><span style="color:#999999;">(</span><span style="color:#B07D48;">id</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$refs</span><span style="color:#999999;">.</span><span style="color:#B07D48;">uWaterfall</span><span style="color:#999999;">.</span><span style="color:#59873A;">remove</span><span style="color:#999999;">(</span><span style="color:#B07D48;">id</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#59873A;">clear</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$refs</span><span style="color:#999999;">.</span><span style="color:#B07D48;">uWaterfall</span><span style="color:#999999;">.</span><span style="color:#59873A;">clear</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>PS \uFF1Aswiper \u5B9E\u73B0 \u6ED1\u52A8\u5207\u6362\u9875\u9762\u7684\u6548\u679C\u9700\u8981\u8BBE\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u9AD8\u5EA6\u503C\uFF0C\u4F46\u662F\u54B1\u4EEC\u7011\u5E03\u6D41\u7684\u9AD8\u5EA6\u662F\u672A\u77E5\u7684\uFF0C\u90A3\u4E48\u8BE5\u600E\u4E48\u529E\u5462\uFF1FiViewUI \u4E2D\u7684 u-waterfall \u6E90\u7801\u5206\u6790\uFF0C\u6211\u4EEC\u8981\u901A\u8FC7\u5168\u5C40\u4E8B\u4EF6\u8BBE\u7F6E\u7684\u65B9\u5F0F\u6765\u52A8\u6001\u7684\u8BBE\u7F6E \u9AD8\u5EA6\uFF0C\u540C\u65F6\uFF0C\u54B1\u4EEC\u8FD9\u4E2A\u5B9A\u5236\u5316\u7684 u-waterfall \u9700\u8981\u5355\u72EC\u518D\u62FF\u51FA\u6765\u8FDB\u884C\u4F7F\u7528\uFF0C\u62D3\u5C55\u54B1\u4EEC\u5B9A\u5236\u5316\u7684\u63D2\u4EF6</p><ol><li><p>\u5728 uViewUI \u4E2D\u521B\u5EFA\u4E00\u4E2A\u81EA\u5B9A\u4E49\u4F7F\u7528\u7684 u-waterfall-sns.vue \u63D2\u4EF6\uFF0C\u4E3B\u8981\u5206\u4E3A\u4E09\u6B65\uFF1A</p><ul><li>\u5728 uViewUI \u7EC4\u4EF6\u5E93 components \u4E2D\u627E\u5230 u-waterfall \u6587\u4EF6\uFF0C\u590D\u5236\u4E00\u4EFD\u547D\u540D\u4E3A u-waterfall-sns</li><li>\u6587\u4EF6\u5185 u-waterfall.vue \u63D2\u4EF6\uFF0C\u590D\u5236\u4E00\u4EFD\u547D\u540D\u4E3A u-waterfall-sns.vue \u63D2\u4EF6</li><li>u-waterfall-sns.vue \u63D2\u4EF6\u5185\uFF0Cname \u5C5E\u6027\u66F4\u6539\u4E3A u-waterfall-sns\uFF0C\u5C31\u53EF\u4EE5\u8C03\u7528\u54B1\u4EEC\u62D3\u5C55\u51FA\u6765\u7684\u63D2\u4EF6\u4E86</li></ul></li><li><p>\u4F7F\u7528 uni.$on \u8BBE\u7F6E\u5168\u5C40\u4E8B\u4EF6\uFF0C\u5728 u-waterfall-sns.vue \u63D2\u4EF6\u5185\u90E8\u7011\u5E03\u6D41\u6E32\u67D3\u5B8C\u6BD5\u540E\u89E6\u53D1\u8FD9\u4E2A\u4E8B\u4EF6\uFF0C\u52A8\u6001\u4FEE\u6539\u9996\u9875\u8F6E\u64AD\u5207\u6362\u9875\u9762\u5185\u7684 swiper \u9AD8\u5EA6</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#80A665;">data</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">				</span><span style="color:#758575DD;">// \u8F6E\u64AD\u5668\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">swiperSliderHeight</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">500px</span><span style="color:#C98A7DAA;">&#39;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#BD976A;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">onLoad</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// \u6839\u636E\u7011\u5E03\u6D41\u8BA1\u7B97\u7684\u9AD8\u5EA6\u8BBE\u7F6E\u5168\u5C40\u4E8B\u4EF6\uFF0C\u52A8\u6001\u4FEE\u6B63\u9875\u9762\u6ED1\u52A8\u8F6E\u64AD\u5668\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$on</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">swiperHeightChange</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">height</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=&gt;{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#BD976A;">height</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderHeight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">height</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">},</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#393A34;">		</span><span style="color:#59873A;">data</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">				</span><span style="color:#A0ADA0;">// \u8F6E\u64AD\u5668\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">swiperSliderHeight</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">500px</span><span style="color:#B56959AA;">&#39;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#B07D48;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">onLoad</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// \u6839\u636E\u7011\u5E03\u6D41\u8BA1\u7B97\u7684\u9AD8\u5EA6\u8BBE\u7F6E\u5168\u5C40\u4E8B\u4EF6\uFF0C\u52A8\u6001\u4FEE\u6B63\u9875\u9762\u6ED1\u52A8\u8F6E\u64AD\u5668\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$on</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">swiperHeightChange</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">height</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B07D48;">height</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderHeight</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">height</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">},</span></span>
<span class="line"></span></code></pre></div></li><li><p>\u8BBE\u7F6E image \u7EC4\u4EF6\u7684 mode \u5C5E\u6027\u4E3A widthFil \uFF0C\u8BA9\u52A8\u6001\u7011\u5E03\u6D41\u9519\u843D\u6709\u81F4\u7684\u72B6\u6001\u66F4\u53CB\u597D</p></li></ol><h3 id="_2-6-\u9996\u9875\u8D44\u8BAF\u9875\u9762\u9AD8\u5EA6\u52A8\u6001\u8BBE\u7F6E\u53CA\u5207\u6362\u72B6\u6001\u4FDD\u5B58" tabindex="-1">2.6 \u9996\u9875\u8D44\u8BAF\u9875\u9762\u9AD8\u5EA6\u52A8\u6001\u8BBE\u7F6E\u53CA\u5207\u6362\u72B6\u6001\u4FDD\u5B58 <a class="header-anchor" href="#_2-6-\u9996\u9875\u8D44\u8BAF\u9875\u9762\u9AD8\u5EA6\u52A8\u6001\u8BBE\u7F6E\u53CA\u5207\u6362\u72B6\u6001\u4FDD\u5B58" aria-hidden="true">#</a></h3><p>\u5173\u952E\u6280\u672F\u70B9\uFF1A\u5207\u6362 \u8D44\u8BAF\u3001\u52A8\u6001 \u7684\u65F6\u5019\uFF0C\u8F6E\u64AD\u5668\u5207\u6362\u9875\u9762\u7684\u9AD8\u5EA6\u662F\u9700\u8981\u52A8\u6001\u8C03\u6574\u7684\uFF0C\u6211\u4EEC\u9700\u8981\u76D1\u542C\u884C\u4E3A\u8FDB\u884C\u8C03\u6574</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#80A665;">data</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// \u5F53\u524D \u63A8\u8350 \u8D44\u8BAF \u6ED1\u52A8\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">currentSwiperIndex</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// \u6ED1\u52A8\u9875\u9762\u8F6E\u64AD\u5668\u7684\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">swiperSliderHeight</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">500px</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">swiperSliderFeedsHeight</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">swiperSliderNewsHeight</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">};</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#CB7676;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">onLoad</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u5728\u8FD9\u91CC\u6CE8\u518C\u4E00\u4E2A uniAPP \u7684\u9876\u5C42\u4E8B\u4EF6\uFF0C\u7528\u6765\u4F5C\u4E3A\u6570\u636E\u901A\u4FE1</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$on</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">swiperHeightChange</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">height</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            this.</span><span style="color:#BD976A;">swiperSliderFeedsHeight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">height</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            this.</span><span style="color:#BD976A;">swiperSliderHeight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">height</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u6211\u4EEC\u8981\u5728\u8FD9\u91CC\u521D\u59CB\u5316\u8BF7\u6C42\u76F8\u5173\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">getAdverts</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">getFeedsList</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">getNewsList</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">methods</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u8BF7\u6C42 \u5E7F\u544A\u8F6E\u64AD\u56FE\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#CB7676;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">getAdverts</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{},</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u8BF7\u6C42 feeds \u5217\u8868\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#CB7676;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">getFeedsList</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{},</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u8BF7\u6C42\u8D44\u8BAF\u5217\u8868\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#CB7676;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">getNewsList</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">news</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">getNews</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">newsList</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">news</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#80A665;">map</span><span style="color:#666666;">((</span><span style="color:#BD976A;">item</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                console.log(</span><span style="color:#80A665;">timeFrom</span><span style="color:#666666;">(</span><span style="color:#BD976A;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Date</span><span style="color:#DBD7CAEE;">(item.created_at</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;">));</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                return {</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#666666;">...</span><span style="color:#BD976A;">item</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">cover</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">BaseFileURL</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">image</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            }</span><span style="color:#666666;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">newsList</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[...</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">newsList</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">...</span><span style="color:#BD976A;">newsList</span><span style="color:#666666;">];</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderNewsHeight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">newsList</span><span style="color:#666666;">.</span><span style="color:#B8A965;">length</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">95</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">100</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">px</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderHeight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderNewsHeight</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u9875\u9762\u6ED1\u52A8\u5DE6\u53F3\u5206\u9875\u7684\u65F6\u5019\u5B9E\u73B0\u7684\u6548\u679C</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#80A665;">swiperSlider</span><span style="color:#666666;">(</span><span style="color:#BD976A;">event</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">event</span><span style="color:#666666;">.</span><span style="color:#BD976A;">detail</span><span style="color:#666666;">.</span><span style="color:#BD976A;">current</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderHeight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderFeedsHeight</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderHeight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderNewsHeight</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">currentSwiperIndex</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">event</span><span style="color:#666666;">.</span><span style="color:#BD976A;">detail</span><span style="color:#666666;">.</span><span style="color:#BD976A;">current</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u70B9\u51FB\u6309\u94AE\u5B9E\u73B0\u5207\u6362\u6548\u679C</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#80A665;">swiperChange</span><span style="color:#666666;">(</span><span style="color:#BD976A;">index</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">index</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderHeight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderFeedsHeight</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderHeight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderNewsHeight</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">currentSwiperIndex</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">index</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">};</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">data</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// \u5F53\u524D \u63A8\u8350 \u8D44\u8BAF \u6ED1\u52A8\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">currentSwiperIndex</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// \u6ED1\u52A8\u9875\u9762\u8F6E\u64AD\u5668\u7684\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">swiperSliderHeight</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">500px</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">swiperSliderFeedsHeight</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">swiperSliderNewsHeight</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">onLoad</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u5728\u8FD9\u91CC\u6CE8\u518C\u4E00\u4E2A uniAPP \u7684\u9876\u5C42\u4E8B\u4EF6\uFF0C\u7528\u6765\u4F5C\u4E3A\u6570\u636E\u901A\u4FE1</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$on</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">swiperHeightChange</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">height</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">            this.</span><span style="color:#B07D48;">swiperSliderFeedsHeight</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">height</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">            this.</span><span style="color:#B07D48;">swiperSliderHeight</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">height</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u6211\u4EEC\u8981\u5728\u8FD9\u91CC\u521D\u59CB\u5316\u8BF7\u6C42\u76F8\u5173\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">getAdverts</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">getFeedsList</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">getNewsList</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">methods</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u8BF7\u6C42 \u5E7F\u544A\u8F6E\u64AD\u56FE\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">getAdverts</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{},</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u8BF7\u6C42 feeds \u5217\u8868\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">getFeedsList</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{},</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u8BF7\u6C42\u8D44\u8BAF\u5217\u8868\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">getNewsList</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">news</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">getNews</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">newsList</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">news</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#59873A;">map</span><span style="color:#999999;">((</span><span style="color:#B07D48;">item</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">                console.log(</span><span style="color:#59873A;">timeFrom</span><span style="color:#999999;">(</span><span style="color:#B07D48;">new</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Date</span><span style="color:#393A34;">(item.created_at</span><span style="color:#999999;">)</span><span style="color:#393A34;">));</span></span>
<span class="line"><span style="color:#393A34;">                return {</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#999999;">...</span><span style="color:#B07D48;">item</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">cover</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">BaseFileURL</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">image</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">}</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">            }</span><span style="color:#999999;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">newsList</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">[...</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">newsList</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">...</span><span style="color:#B07D48;">newsList</span><span style="color:#999999;">];</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderNewsHeight</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">newsList</span><span style="color:#999999;">.</span><span style="color:#998418;">length</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">95</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">100</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">px</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderHeight</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderNewsHeight</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u9875\u9762\u6ED1\u52A8\u5DE6\u53F3\u5206\u9875\u7684\u65F6\u5019\u5B9E\u73B0\u7684\u6548\u679C</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">swiperSlider</span><span style="color:#999999;">(</span><span style="color:#B07D48;">event</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">event</span><span style="color:#999999;">.</span><span style="color:#B07D48;">detail</span><span style="color:#999999;">.</span><span style="color:#B07D48;">current</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderHeight</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderFeedsHeight</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderHeight</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderNewsHeight</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">currentSwiperIndex</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">event</span><span style="color:#999999;">.</span><span style="color:#B07D48;">detail</span><span style="color:#999999;">.</span><span style="color:#B07D48;">current</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u70B9\u51FB\u6309\u94AE\u5B9E\u73B0\u5207\u6362\u6548\u679C</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">swiperChange</span><span style="color:#999999;">(</span><span style="color:#B07D48;">index</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">index</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderHeight</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderFeedsHeight</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderHeight</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderNewsHeight</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">currentSwiperIndex</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">index</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">};</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-7-\u9996\u9875\u6EDA\u52A8\u3001\u5207\u6362\u52A8\u6001\u8BBE\u7F6E\u9876\u90E8-navbar-\u72B6\u6001" tabindex="-1">2.7 \u9996\u9875\u6EDA\u52A8\u3001\u5207\u6362\u52A8\u6001\u8BBE\u7F6E\u9876\u90E8 NavBar \u72B6\u6001 <a class="header-anchor" href="#_2-7-\u9996\u9875\u6EDA\u52A8\u3001\u5207\u6362\u52A8\u6001\u8BBE\u7F6E\u9876\u90E8-navbar-\u72B6\u6001" aria-hidden="true">#</a></h3><ol><li><p>\u5728\u63D2\u4EF6\u5E02\u573A\u627E\u5230\u4E00\u4E2A\u529F\u80FD\u6BD4\u8F83\u4E30\u5BCC\u7684 NavBar \u63D2\u4EF6</p><p><a href="https://ext.dcloud.net.cn/plugin?id=813" target="_blank" rel="noreferrer">https://ext.dcloud.net.cn/plugin?id=813</a></p><p>PS\uFF1A\u5BFC\u5165\u540E\uFF0C\u6CE8\u610F\uFF0C\u4E0D\u8981\u88AB\u6240\u8C13\u7684\u63D2\u4EF6\u5413\u5230\uFF0C\u54B1\u4EEC\u6539\u4E00\u6539\uFF0C\u8BA9\u5176\u66F4\u597D\u9605\u8BFB\uFF0C\u67E5\u4E00\u67E5\uFF0C\u770B\u770B\u662F\u5426\u80FD\u591F\u5168\u90E8\u517C\u987E\uFF0C\u540C\u65F6\u6CE8\u610F\u68C0\u7D22\u6587\u4EF6\u662F\u5426\u5F15\u5165\u5168\u9762\u4E86</p></li></ol><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">&lt;!-- \u9876\u90E8\u5BFC\u822A --&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">uni-nav-bar</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">v-if</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">navBarShowTag</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">view</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">tabs-box</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">view</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">one-nav</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">:class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">currentSwiperIndex === 0 ? &#39;nav-actived&#39; : &#39;&#39; </span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">@tap</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">swiperChange(0)</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">\u63A8\u8350</span><span style="color:#666666;">&lt;/</span><span style="color:#FDAEB7;">view</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">view</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">one-nav</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">:class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">currentSwiperIndex === 1 ? &#39;nav-actived&#39; : &#39;&#39; </span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">@tap</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">swiperChange(1)</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">\u8D44\u8BAF</span><span style="color:#666666;">&lt;/</span><span style="color:#FDAEB7;">view</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;/</span><span style="color:#FDAEB7;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">uni-nav-bar</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">&lt;!-- \u9876\u90E8\u5BFC\u822A --&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">uni-nav-bar</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">v-if</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">navBarShowTag</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">view</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">tabs-box</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">view</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">one-nav</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">:class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">currentSwiperIndex === 0 ? &#39;nav-actived&#39; : &#39;&#39; </span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">@tap</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">swiperChange(0)</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">\u63A8\u8350</span><span style="color:#999999;">&lt;/</span><span style="color:#B31D28;">view</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">view</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">one-nav</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">:class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">currentSwiperIndex === 1 ? &#39;nav-actived&#39; : &#39;&#39; </span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">@tap</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">swiperChange(1)</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">\u8D44\u8BAF</span><span style="color:#999999;">&lt;/</span><span style="color:#B31D28;">view</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;/</span><span style="color:#B31D28;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">uni-nav-bar</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u76D1\u542C\u9875\u9762\u6EDA\u52A8\u4E8B\u4EF6\uFF0C\u5224\u65AD\u6EDA\u52A8\u552F\u4E00\u663E\u793A\u548C\u9690\u85CF navBar \u5BFC\u822A</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#80A665;">onPageScroll</span><span style="color:#666666;">(</span><span style="color:#BD976A;">event</span><span style="color:#666666;">){</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#4D9375;">if</span><span style="color:#666666;">(</span><span style="color:#BD976A;">event</span><span style="color:#666666;">.</span><span style="color:#BD976A;">scrollTop</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">220</span><span style="color:#666666;">){</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">navBarShowTag</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span><span style="color:#4D9375;">else</span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">navBarShowTag</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#393A34;">	</span><span style="color:#59873A;">onPageScroll</span><span style="color:#999999;">(</span><span style="color:#B07D48;">event</span><span style="color:#999999;">){</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#1E754F;">if</span><span style="color:#999999;">(</span><span style="color:#B07D48;">event</span><span style="color:#999999;">.</span><span style="color:#B07D48;">scrollTop</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">220</span><span style="color:#999999;">){</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">navBarShowTag</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span><span style="color:#1E754F;">else</span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">navBarShowTag</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">}</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u8D44\u8BAF\u3001\u52A8\u6001\u5207\u6362\u52A8\u6001\u8BBE\u7F6E</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#80A665;">data</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// \u8BB0\u5F55\u6EDA\u52A8\u6240\u5728\u7684\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">oldFeedsScrollTop</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">oldNewsScrollTop</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">};</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#80A665;">onPageScroll</span><span style="color:#666666;">(</span><span style="color:#BD976A;">event</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">currentSwiperIndex</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oldFeedsScrollTop</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">event</span><span style="color:#666666;">.</span><span style="color:#BD976A;">scrollTop</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oldNewsScrollTop</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">event</span><span style="color:#666666;">.</span><span style="color:#BD976A;">scrollTop</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">methods</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u9875\u9762\u6ED1\u52A8\u5DE6\u53F3\u5206\u9875\u7684\u65F6\u5019\u5B9E\u73B0\u7684\u6548\u679C</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#80A665;">swiperSlider</span><span style="color:#666666;">(</span><span style="color:#BD976A;">event</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">event</span><span style="color:#666666;">.</span><span style="color:#BD976A;">detail</span><span style="color:#666666;">.</span><span style="color:#BD976A;">current</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderHeight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderFeedsHeight</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">pageScrollTo</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">duration</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//\u8FC7\u6E21\u65F6\u95F4\u5FC5\u987B\u4E3A0\uFF0Cuniapp bug\uFF0C\u5426\u5219\u8FD0\u884C\u5230\u624B\u673A\u4F1A\u62A5\u9519</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">scrollTop</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oldFeedsScrollTop</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//\u6EDA\u52A8\u5230\u76EE\u6807\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderHeight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderNewsHeight</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">pageScrollTo</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">duration</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//\u8FC7\u6E21\u65F6\u95F4\u5FC5\u987B\u4E3A0\uFF0Cuniapp bug\uFF0C\u5426\u5219\u8FD0\u884C\u5230\u624B\u673A\u4F1A\u62A5\u9519</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">scrollTop</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oldNewsScrollTop</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//\u6EDA\u52A8\u5230\u76EE\u6807\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">currentSwiperIndex</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">event</span><span style="color:#666666;">.</span><span style="color:#BD976A;">detail</span><span style="color:#666666;">.</span><span style="color:#BD976A;">current</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u70B9\u51FB\u6309\u94AE\u5B9E\u73B0\u5207\u6362\u6548\u679C</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#80A665;">swiperChange</span><span style="color:#666666;">(</span><span style="color:#BD976A;">index</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">index</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderHeight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderFeedsHeight</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">pageScrollTo</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">duration</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//\u8FC7\u6E21\u65F6\u95F4\u5FC5\u987B\u4E3A0\uFF0Cuniapp bug\uFF0C\u5426\u5219\u8FD0\u884C\u5230\u624B\u673A\u4F1A\u62A5\u9519</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">scrollTop</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oldFeedsScrollTop</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//\u6EDA\u52A8\u5230\u76EE\u6807\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderHeight</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">swiperSliderNewsHeight</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">pageScrollTo</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">duration</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//\u8FC7\u6E21\u65F6\u95F4\u5FC5\u987B\u4E3A0\uFF0Cuniapp bug\uFF0C\u5426\u5219\u8FD0\u884C\u5230\u624B\u673A\u4F1A\u62A5\u9519</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">scrollTop</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oldNewsScrollTop</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//\u6EDA\u52A8\u5230\u76EE\u6807\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">currentSwiperIndex</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">index</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">};</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">data</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// \u8BB0\u5F55\u6EDA\u52A8\u6240\u5728\u7684\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">oldFeedsScrollTop</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">oldNewsScrollTop</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">onPageScroll</span><span style="color:#999999;">(</span><span style="color:#B07D48;">event</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">currentSwiperIndex</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oldFeedsScrollTop</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">event</span><span style="color:#999999;">.</span><span style="color:#B07D48;">scrollTop</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oldNewsScrollTop</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">event</span><span style="color:#999999;">.</span><span style="color:#B07D48;">scrollTop</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">methods</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u9875\u9762\u6ED1\u52A8\u5DE6\u53F3\u5206\u9875\u7684\u65F6\u5019\u5B9E\u73B0\u7684\u6548\u679C</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">swiperSlider</span><span style="color:#999999;">(</span><span style="color:#B07D48;">event</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">event</span><span style="color:#999999;">.</span><span style="color:#B07D48;">detail</span><span style="color:#999999;">.</span><span style="color:#B07D48;">current</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderHeight</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderFeedsHeight</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">pageScrollTo</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">duration</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//\u8FC7\u6E21\u65F6\u95F4\u5FC5\u987B\u4E3A0\uFF0Cuniapp bug\uFF0C\u5426\u5219\u8FD0\u884C\u5230\u624B\u673A\u4F1A\u62A5\u9519</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">scrollTop</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oldFeedsScrollTop</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//\u6EDA\u52A8\u5230\u76EE\u6807\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderHeight</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderNewsHeight</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">pageScrollTo</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">duration</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//\u8FC7\u6E21\u65F6\u95F4\u5FC5\u987B\u4E3A0\uFF0Cuniapp bug\uFF0C\u5426\u5219\u8FD0\u884C\u5230\u624B\u673A\u4F1A\u62A5\u9519</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">scrollTop</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oldNewsScrollTop</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//\u6EDA\u52A8\u5230\u76EE\u6807\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">currentSwiperIndex</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">event</span><span style="color:#999999;">.</span><span style="color:#B07D48;">detail</span><span style="color:#999999;">.</span><span style="color:#B07D48;">current</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u70B9\u51FB\u6309\u94AE\u5B9E\u73B0\u5207\u6362\u6548\u679C</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">swiperChange</span><span style="color:#999999;">(</span><span style="color:#B07D48;">index</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">index</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderHeight</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderFeedsHeight</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">pageScrollTo</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">duration</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//\u8FC7\u6E21\u65F6\u95F4\u5FC5\u987B\u4E3A0\uFF0Cuniapp bug\uFF0C\u5426\u5219\u8FD0\u884C\u5230\u624B\u673A\u4F1A\u62A5\u9519</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">scrollTop</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oldFeedsScrollTop</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//\u6EDA\u52A8\u5230\u76EE\u6807\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderHeight</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">swiperSliderNewsHeight</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">pageScrollTo</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">duration</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//\u8FC7\u6E21\u65F6\u95F4\u5FC5\u987B\u4E3A0\uFF0Cuniapp bug\uFF0C\u5426\u5219\u8FD0\u884C\u5230\u624B\u673A\u4F1A\u62A5\u9519</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">scrollTop</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oldNewsScrollTop</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//\u6EDA\u52A8\u5230\u76EE\u6807\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">currentSwiperIndex</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">index</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">};</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-8-\u9876\u90E8\u4E0B\u62C9\u3001\u5E95\u90E8\u7F6E\u5E95\u8BF7\u6C42\u66F4\u65B0\u6570\u636E" tabindex="-1">2.8 \u9876\u90E8\u4E0B\u62C9\u3001\u5E95\u90E8\u7F6E\u5E95\u8BF7\u6C42\u66F4\u65B0\u6570\u636E <a class="header-anchor" href="#_2-8-\u9876\u90E8\u4E0B\u62C9\u3001\u5E95\u90E8\u7F6E\u5E95\u8BF7\u6C42\u66F4\u65B0\u6570\u636E" aria-hidden="true">#</a></h3><p>\u5173\u952E\u6280\u672F\u70B9\uFF1A</p><ol><li>onReachBottom\u3001onPullDownRefresh \u5168\u5C40\u65B9\u6CD5\u8C03\u7528</li><li>this.$refs.waterfall.clear() \u8C03\u7528\u63D2\u4EF6\u5BF9\u5E94\u65B9\u6CD5\u6E05\u7A7A\u6570\u636E\u6D41</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#80A665;">onReachBottom</span><span style="color:#666666;">(){</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u4E0B\u62C9\u5230\u5E95\u5566</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// \u8BF7\u6C42\u65B0\u7684\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#4D9375;">if</span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">currentSwiperIndex</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">){</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">getFeedsList</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span><span style="color:#4D9375;">else</span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">getNewsList</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#80A665;">onPullDownRefresh</span><span style="color:#666666;">(){</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u9876\u90E8\u4E0B\u62C9\u5237\u65B0</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">feedsList</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[]</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$refs</span><span style="color:#666666;">.</span><span style="color:#BD976A;">waterfall</span><span style="color:#666666;">.</span><span style="color:#80A665;">clear</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#4D9375;">if</span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">currentSwiperIndex</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">){</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">getFeedsList</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span><span style="color:#4D9375;">else</span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">getNewsList</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#393A34;">	</span><span style="color:#59873A;">onReachBottom</span><span style="color:#999999;">(){</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u4E0B\u62C9\u5230\u5E95\u5566</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// \u8BF7\u6C42\u65B0\u7684\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#1E754F;">if</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">currentSwiperIndex</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">){</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">getFeedsList</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span><span style="color:#1E754F;">else</span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">getNewsList</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#59873A;">onPullDownRefresh</span><span style="color:#999999;">(){</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u9876\u90E8\u4E0B\u62C9\u5237\u65B0</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">feedsList</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">[]</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$refs</span><span style="color:#999999;">.</span><span style="color:#B07D48;">waterfall</span><span style="color:#999999;">.</span><span style="color:#59873A;">clear</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#1E754F;">if</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">currentSwiperIndex</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">){</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">getFeedsList</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span><span style="color:#1E754F;">else</span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">getNewsList</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="\u4E09\u3001\u8D44\u8BAF\u52A8\u6001\u9875\u9762\u529F\u80FD\u5B9E\u73B0" tabindex="-1">\u4E09\u3001\u8D44\u8BAF\u52A8\u6001\u9875\u9762\u529F\u80FD\u5B9E\u73B0 <a class="header-anchor" href="#\u4E09\u3001\u8D44\u8BAF\u52A8\u6001\u9875\u9762\u529F\u80FD\u5B9E\u73B0" aria-hidden="true">#</a></h2><h3 id="_3-1-\u4F7F\u7528-grid-\u5E03\u5C40\u5B9E\u73B0\u52A8\u6001\u7011\u5E03\u6D41\u9875\u9762" tabindex="-1">3.1 \u4F7F\u7528 Grid \u5E03\u5C40\u5B9E\u73B0\u52A8\u6001\u7011\u5E03\u6D41\u9875\u9762 <a class="header-anchor" href="#_3-1-\u4F7F\u7528-grid-\u5E03\u5C40\u5B9E\u73B0\u52A8\u6001\u7011\u5E03\u6D41\u9875\u9762" aria-hidden="true">#</a></h3><p>\u6280\u672F\u5173\u952E\u70B9\uFF1A</p><ol><li>\u52A8\u6001\u8BF7\u6C42\u6570\u636E\uFF0C\u5E76\u5BF9\u6570\u636E\u8FDB\u884C\u52A0\u5DE5\u5904\u7406\u6210\u4E3A\u6211\u4EEC\u671F\u671B\u7684 \u5206\u7EC4\u6570\u7EC4 \u76EE\u6807\u6570\u636E</li><li>grid \u6805\u683C\u5316\u5E03\u5C40</li><li>\u9876\u90E8\u4E0B\u62C9\u5237\u65B0\u66F4\u65B0\u6570\u636E</li><li>\u6EDA\u52A8\u7F6E\u5E95\u8BF7\u6C42\u6570\u636E</li><li>\u8BF7\u6C42\u72B6\u6001\u63A7\u5236\u5668</li></ol><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">rfeeds</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">one-feeds-box</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#BD976A;">v-for</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">(</span><span style="color:#BD976A;">feedsList</span><span style="color:#666666;">, </span><span style="color:#BD976A;">i</span><span style="color:#666666;">) </span><span style="color:#CB7676;">in</span><span style="color:#666666;"> </span><span style="color:#BD976A;">showFeedsList</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">            :</span><span style="color:#BD976A;">key</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">i</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">        &gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span></span>
<span class="line"><span style="color:#666666;">                </span><span style="color:#BD976A;">v-for</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">(</span><span style="color:#BD976A;">item</span><span style="color:#666666;">, </span><span style="color:#BD976A;">k</span><span style="color:#666666;">) </span><span style="color:#CB7676;">in</span><span style="color:#666666;"> </span><span style="color:#BD976A;">feedsList</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                :</span><span style="color:#BD976A;">key</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">one-feed</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                :</span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                    </span><span style="color:#BD976A;">k</span><span style="color:#666666;"> </span><span style="color:#CB7676;">%</span><span style="color:#666666;"> </span><span style="color:#4C9A91;">6</span><span style="color:#666666;"> </span><span style="color:#CB7676;">==</span><span style="color:#666666;"> </span><span style="color:#4C9A91;">0</span></span>
<span class="line"><span style="color:#666666;">                        </span><span style="color:#CB7676;">?</span><span style="color:#666666;"> </span><span style="color:#BD976A;">i</span><span style="color:#666666;"> </span><span style="color:#CB7676;">%</span><span style="color:#666666;"> </span><span style="color:#4C9A91;">2</span><span style="color:#666666;"> </span><span style="color:#CB7676;">==</span><span style="color:#666666;"> </span><span style="color:#4C9A91;">0</span></span>
<span class="line"><span style="color:#666666;">                            </span><span style="color:#CB7676;">?</span><span style="color:#666666;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">feed-big-left</span><span style="color:#C98A7DAA;">&#39;</span></span>
<span class="line"><span style="color:#666666;">                            </span><span style="color:#CB7676;">:</span><span style="color:#666666;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">feed-big-right</span><span style="color:#C98A7DAA;">&#39;</span></span>
<span class="line"><span style="color:#666666;">                        </span><span style="color:#CB7676;">:</span><span style="color:#666666;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span></span>
<span class="line"><span style="color:#666666;">                </span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">            &gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">navigator</span><span style="color:#666666;"> :</span><span style="color:#BD976A;">url</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;&#39;</span><span style="color:#C98A7D;">/subpages/feedinfo/feedinfo?id=</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;"> </span><span style="color:#CB7676;">+</span><span style="color:#666666;"> </span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">image</span></span>
<span class="line"><span style="color:#666666;">                        :</span><span style="color:#BD976A;">src</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">cover</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                        </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">feed-content</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                        </span><span style="color:#BD976A;">mode</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">aspectFill</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                        :</span><span style="color:#BD976A;">lazy-load</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#4D9375;">true</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                    /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">navigator</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#758575DD;">&lt;!-- \u5206\u4EAB\u6309\u94AE\u7EC4\u4EF6 --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">goto-share</span><span style="color:#666666;"> /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#80A665;">data</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// \u5217\u8868\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">feedsList</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[],</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// \u7528\u6765\u5C55\u793A\u7684\u6805\u683C\u7CFB\u7EDF\u7684\u5217\u8868\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">showFeedsList</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[],</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// \u8BB0\u5F55\u8BF7\u6C42 feed \u72B6\u6001</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">canRequestFeeds</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">yes</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">};</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u53D1\u5E03\u65B0\u7684\u52A8\u6001\uFF0C\u8DF3\u8F6C\u5230\u5F53\u524D\u9875\u9762\uFF0C\u66F4\u65B0\u6700\u65B0\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#80A665;">onLoad</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">startPullDownRefresh</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u9876\u90E8\u4E0B\u62C9\u5237\u65B0\u65B0\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#80A665;">onPullDownRefresh</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">feedsList</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[];</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">getFeeds</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">timer</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">setTimeout</span><span style="color:#666666;">(</span><span style="color:#CB7676;">function</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#80A665;">clearTimeout</span><span style="color:#666666;">(</span><span style="color:#BD976A;">timer</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">stopPullDownRefresh</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">500</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u6EDA\u52A8\u7F6E\u5E95\u5237\u65B0\u8BF7\u6C42\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#80A665;">onReachBottom</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">getFeeds</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">methods</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u83B7\u53D6\u8BF7\u6C42\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#CB7676;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">getFeeds</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">canRequestFeeds</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">==</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">yes</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showToast</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u8BF7\u6C42\u4E2D...</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">icon</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">loading</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">duration</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">10000</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#666666;">                </span><span style="color:#758575DD;">// \u8BBE\u7F6E\u72B6\u6001</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">canRequestFeeds</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">no</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">getFeeds</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">feeds</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">feeds</span><span style="color:#666666;">.</span><span style="color:#80A665;">map</span><span style="color:#666666;">((</span><span style="color:#BD976A;">item</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    return {</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        </span><span style="color:#B8A965;">id</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        </span><span style="color:#B8A965;">cover</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">BaseFileURL</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">images</span><span style="color:#666666;">[</span><span style="color:#4C9A91;">0</span><span style="color:#666666;">].</span><span style="color:#BD976A;">file</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                }</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">feeds</span><span style="color:#666666;">.</span><span style="color:#B8A965;">length</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">5</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">                    </span><span style="color:#758575DD;">// \u8BB0\u5F55\u603B\u5217\u8868\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">feedsList</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[...</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">feedsList</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">...</span><span style="color:#BD976A;">feeds</span><span style="color:#666666;">];</span></span>
<span class="line"><span style="color:#666666;">                    </span><span style="color:#758575DD;">// \u5728\u8FD9\u91CC\u8981\u5904\u7406\u9875\u9762\u7684\u5185\u5BB9\u5E03\u5C40\u6A21\u5F0F\u4E3A\u6805\u683C\u6A21\u5F0F\uFF0C6\u4E2A\u5143\u7D20\u4E00\u7EC4</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">showArrList</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[];</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">i</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">i</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">feedsList</span><span style="color:#666666;">.</span><span style="color:#B8A965;">length</span><span style="color:#666666;">;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">i</span><span style="color:#CB7676;">++</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">i</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">%</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">6</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">==</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">&amp;&amp;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">!!</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">feedsList</span><span style="color:#666666;">[</span><span style="color:#BD976A;">i</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">5</span><span style="color:#666666;">])</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">                            </span><span style="color:#758575DD;">// \u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u6570\u7EC4\uFF0C\u5305\u542B\u4ECE start \u5230 end \uFF08\u4E0D\u5305\u62EC\u8BE5\u5143\u7D20\uFF09\u5143\u7D20\u3002</span></span>
<span class="line"><span style="color:#666666;">                            </span><span style="color:#758575DD;">// \u8BE5\u65B9\u6CD5\u5E76\u4E0D\u4F1A\u4FEE\u6539\u6570\u7EC4\uFF0C\u800C\u662F\u8FD4\u56DE\u4E00\u4E2A\u5B50\u6570\u7EC4\u3002\u5982\u679C\u60F3\u5220\u9664\u6570\u7EC4\u4E2D\u7684\u4E00\u6BB5\u5143\u7D20\uFF0C\u5E94\u8BE5\u4F7F\u7528\u65B9\u6CD5 Array.splice()\u3002</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                            </span><span style="color:#BD976A;">showArrList</span><span style="color:#666666;">.</span><span style="color:#80A665;">push</span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">feedsList</span><span style="color:#666666;">.</span><span style="color:#80A665;">slice</span><span style="color:#666666;">(</span><span style="color:#BD976A;">i</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">i</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">6</span><span style="color:#666666;">));</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">showFeedsList</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">showArrList</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">timer</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">setTimeout</span><span style="color:#666666;">(()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        </span><span style="color:#80A665;">clearTimeout</span><span style="color:#666666;">(</span><span style="color:#BD976A;">timer</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        this.</span><span style="color:#BD976A;">canRequestFeeds</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">yes</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#666666;">},</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">500</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">canRequestFeeds</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">end</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showToast</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        </span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u5230\u5E95\u5566\uFF01</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        </span><span style="color:#B8A965;">icon</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">success</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        </span><span style="color:#B8A965;">duration</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1000</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">hideToast</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// \u5982\u679C\u8BF7\u6C42\u72B6\u6001\u5230\u5E95\u4E86\u540E\uFF0C\u5219\u63D0\u793A\u5230\u5E95\u4E86</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">canRequestFeeds</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">==</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">end</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">hideToast</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showToast</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u5230\u5E95\u5566\uFF01</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">icon</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">success</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">duration</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1000</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">};</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">style</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">lang</span><span style="color:#DBD7CAEE;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">scss</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">scoped</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">rfeeds</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">background-color</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">#</span><span style="color:#C99076;">ffffff</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">padding-bottom</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">20</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">.</span><span style="color:#BD976A;">one-feeds-box</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">width</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">704</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">margin</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">4</span><span style="color:#DBD7CAEE;">upx </span><span style="color:#4C9A91;">22</span><span style="color:#DBD7CAEE;">upx </span><span style="color:#4C9A91;">0</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">22</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#758575DD;">// \u5B9A\u4E49\u6805\u683C\u5E03\u5C40</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">display</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">grid</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#758575DD;">// \u5B9A\u4E49\u6805\u683C\u6BCF\u4E00\u5217\u7684\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">grid-template-columns</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">232</span><span style="color:#DBD7CAEE;">upx </span><span style="color:#4C9A91;">232</span><span style="color:#DBD7CAEE;">upx </span><span style="color:#4C9A91;">232</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#758575DD;">// \u5B9A\u4E49\u6805\u683C\u6BCF\u4E00\u884C\u7684\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">grid-template-rows</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">232</span><span style="color:#DBD7CAEE;">upx </span><span style="color:#4C9A91;">232</span><span style="color:#DBD7CAEE;">upx </span><span style="color:#4C9A91;">232</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#758575DD;">// grid-row-gap\u5C5E\u6027\u8BBE\u7F6E\u884C\u4E0E\u884C\u7684\u95F4\u9694\uFF08\u884C\u95F4\u8DDD\uFF09\uFF0Cgrid-column-gap\u5C5E\u6027\u8BBE\u7F6E\u5217\u4E0E\u5217\u7684\u95F4\u9694\uFF08\u5217\u95F4\u8DDD\uFF09</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">grid-row-gap</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">4</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">grid-column-gap</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">4</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">background-color</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">#</span><span style="color:#C99076;">dadada</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">.</span><span style="color:#BD976A;">one-feed</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">position</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">relative</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">.</span><span style="color:#BD976A;">feed-content</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">width</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">232</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">height</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">232</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">border</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1</span><span style="color:#CB7676;">px</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">solid</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">#</span><span style="color:#C99076;">eeeeee</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">border-radius</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">4</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">.</span><span style="color:#BD976A;">icon</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">position</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">absolute</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">right</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">10</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">top</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">10</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">.</span><span style="color:#BD976A;">play-icon</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">width</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">40</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">height</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">40</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#4D9375;">&amp;</span><span style="color:#666666;">.</span><span style="color:#BD976A;">feed-big-left</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">grid-column-start</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">grid-column-end</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">3</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">grid-row-start</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">grid-row-end</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">3</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">background-color</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">#</span><span style="color:#C99076;">dadada</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">.</span><span style="color:#BD976A;">feed-content</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">width</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">466</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">height</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">466</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">border</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1</span><span style="color:#CB7676;">px</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">solid</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">#</span><span style="color:#C99076;">eeeeee</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#4D9375;">&amp;</span><span style="color:#666666;">.</span><span style="color:#BD976A;">feed-big-right</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">grid-column-start</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">2</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">grid-column-end</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">4</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">grid-row-start</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">grid-row-end</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">3</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">background-color</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">#</span><span style="color:#C99076;">dadada</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">.</span><span style="color:#BD976A;">feed-content</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">width</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">466</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">height</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">466</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">border</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1</span><span style="color:#CB7676;">px</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">solid</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">#</span><span style="color:#C99076;">eeeeee</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">style</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">rfeeds</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">one-feeds-box</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#B07D48;">v-for</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">(</span><span style="color:#B07D48;">feedsList</span><span style="color:#999999;">, </span><span style="color:#B07D48;">i</span><span style="color:#999999;">) </span><span style="color:#AB5959;">in</span><span style="color:#999999;"> </span><span style="color:#B07D48;">showFeedsList</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">            :</span><span style="color:#B07D48;">key</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">i</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">        &gt;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span></span>
<span class="line"><span style="color:#999999;">                </span><span style="color:#B07D48;">v-for</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">(</span><span style="color:#B07D48;">item</span><span style="color:#999999;">, </span><span style="color:#B07D48;">k</span><span style="color:#999999;">) </span><span style="color:#AB5959;">in</span><span style="color:#999999;"> </span><span style="color:#B07D48;">feedsList</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                :</span><span style="color:#B07D48;">key</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">one-feed</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                :</span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                    </span><span style="color:#B07D48;">k</span><span style="color:#999999;"> </span><span style="color:#AB5959;">%</span><span style="color:#999999;"> </span><span style="color:#2F798A;">6</span><span style="color:#999999;"> </span><span style="color:#AB5959;">==</span><span style="color:#999999;"> </span><span style="color:#2F798A;">0</span></span>
<span class="line"><span style="color:#999999;">                        </span><span style="color:#AB5959;">?</span><span style="color:#999999;"> </span><span style="color:#B07D48;">i</span><span style="color:#999999;"> </span><span style="color:#AB5959;">%</span><span style="color:#999999;"> </span><span style="color:#2F798A;">2</span><span style="color:#999999;"> </span><span style="color:#AB5959;">==</span><span style="color:#999999;"> </span><span style="color:#2F798A;">0</span></span>
<span class="line"><span style="color:#999999;">                            </span><span style="color:#AB5959;">?</span><span style="color:#999999;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">feed-big-left</span><span style="color:#B56959AA;">&#39;</span></span>
<span class="line"><span style="color:#999999;">                            </span><span style="color:#AB5959;">:</span><span style="color:#999999;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">feed-big-right</span><span style="color:#B56959AA;">&#39;</span></span>
<span class="line"><span style="color:#999999;">                        </span><span style="color:#AB5959;">:</span><span style="color:#999999;"> </span><span style="color:#B56959AA;">&#39;&#39;</span></span>
<span class="line"><span style="color:#999999;">                </span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">            &gt;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">navigator</span><span style="color:#999999;"> :</span><span style="color:#B07D48;">url</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;&#39;</span><span style="color:#B56959;">/subpages/feedinfo/feedinfo?id=</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;"> </span><span style="color:#AB5959;">+</span><span style="color:#999999;"> </span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">image</span></span>
<span class="line"><span style="color:#999999;">                        :</span><span style="color:#B07D48;">src</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">cover</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                        </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">feed-content</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                        </span><span style="color:#B07D48;">mode</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">aspectFill</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                        :</span><span style="color:#B07D48;">lazy-load</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#1E754F;">true</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                    /&gt;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">navigator</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">&lt;!-- \u5206\u4EAB\u6309\u94AE\u7EC4\u4EF6 --&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">goto-share</span><span style="color:#999999;"> /&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">data</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// \u5217\u8868\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">feedsList</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[],</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// \u7528\u6765\u5C55\u793A\u7684\u6805\u683C\u7CFB\u7EDF\u7684\u5217\u8868\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">showFeedsList</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[],</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// \u8BB0\u5F55\u8BF7\u6C42 feed \u72B6\u6001</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">canRequestFeeds</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">yes</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u53D1\u5E03\u65B0\u7684\u52A8\u6001\uFF0C\u8DF3\u8F6C\u5230\u5F53\u524D\u9875\u9762\uFF0C\u66F4\u65B0\u6700\u65B0\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">onLoad</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">startPullDownRefresh</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u9876\u90E8\u4E0B\u62C9\u5237\u65B0\u65B0\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">onPullDownRefresh</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">feedsList</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">[];</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">getFeeds</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">timer</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">setTimeout</span><span style="color:#999999;">(</span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#59873A;">clearTimeout</span><span style="color:#999999;">(</span><span style="color:#B07D48;">timer</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">stopPullDownRefresh</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">500</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u6EDA\u52A8\u7F6E\u5E95\u5237\u65B0\u8BF7\u6C42\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">onReachBottom</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">getFeeds</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">methods</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u83B7\u53D6\u8BF7\u6C42\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">getFeeds</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">canRequestFeeds</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">yes</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showToast</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u8BF7\u6C42\u4E2D...</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">icon</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">loading</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">duration</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">10000</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#999999;">                </span><span style="color:#A0ADA0;">// \u8BBE\u7F6E\u72B6\u6001</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">canRequestFeeds</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">no</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">getFeeds</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">feeds</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">feeds</span><span style="color:#999999;">.</span><span style="color:#59873A;">map</span><span style="color:#999999;">((</span><span style="color:#B07D48;">item</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">                    return {</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#998418;">id</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#998418;">cover</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">BaseFileURL</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">images</span><span style="color:#999999;">[</span><span style="color:#2F798A;">0</span><span style="color:#999999;">].</span><span style="color:#B07D48;">file</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#999999;">}</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">                }</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">feeds</span><span style="color:#999999;">.</span><span style="color:#998418;">length</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">5</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">                    </span><span style="color:#A0ADA0;">// \u8BB0\u5F55\u603B\u5217\u8868\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">feedsList</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">[...</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">feedsList</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">...</span><span style="color:#B07D48;">feeds</span><span style="color:#999999;">];</span></span>
<span class="line"><span style="color:#999999;">                    </span><span style="color:#A0ADA0;">// \u5728\u8FD9\u91CC\u8981\u5904\u7406\u9875\u9762\u7684\u5185\u5BB9\u5E03\u5C40\u6A21\u5F0F\u4E3A\u6805\u683C\u6A21\u5F0F\uFF0C6\u4E2A\u5143\u7D20\u4E00\u7EC4</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">showArrList</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">[];</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#1E754F;">for</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">i</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">feedsList</span><span style="color:#999999;">.</span><span style="color:#998418;">length</span><span style="color:#999999;">;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">i</span><span style="color:#AB5959;">++</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">%</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">6</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&amp;&amp;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">!!</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">feedsList</span><span style="color:#999999;">[</span><span style="color:#B07D48;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">5</span><span style="color:#999999;">])</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">                            </span><span style="color:#A0ADA0;">// \u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u6570\u7EC4\uFF0C\u5305\u542B\u4ECE start \u5230 end \uFF08\u4E0D\u5305\u62EC\u8BE5\u5143\u7D20\uFF09\u5143\u7D20\u3002</span></span>
<span class="line"><span style="color:#999999;">                            </span><span style="color:#A0ADA0;">// \u8BE5\u65B9\u6CD5\u5E76\u4E0D\u4F1A\u4FEE\u6539\u6570\u7EC4\uFF0C\u800C\u662F\u8FD4\u56DE\u4E00\u4E2A\u5B50\u6570\u7EC4\u3002\u5982\u679C\u60F3\u5220\u9664\u6570\u7EC4\u4E2D\u7684\u4E00\u6BB5\u5143\u7D20\uFF0C\u5E94\u8BE5\u4F7F\u7528\u65B9\u6CD5 Array.splice()\u3002</span></span>
<span class="line"><span style="color:#393A34;">                            </span><span style="color:#B07D48;">showArrList</span><span style="color:#999999;">.</span><span style="color:#59873A;">push</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">feedsList</span><span style="color:#999999;">.</span><span style="color:#59873A;">slice</span><span style="color:#999999;">(</span><span style="color:#B07D48;">i</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">6</span><span style="color:#999999;">));</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">showFeedsList</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">showArrList</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">timer</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">setTimeout</span><span style="color:#999999;">(()</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#59873A;">clearTimeout</span><span style="color:#999999;">(</span><span style="color:#B07D48;">timer</span><span style="color:#999999;">)</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">                        this.</span><span style="color:#B07D48;">canRequestFeeds</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">yes</span><span style="color:#B56959AA;">&#39;</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#999999;">},</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">500</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">canRequestFeeds</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">end</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showToast</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u5230\u5E95\u5566\uFF01</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#998418;">icon</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">success</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#998418;">duration</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1000</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">hideToast</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// \u5982\u679C\u8BF7\u6C42\u72B6\u6001\u5230\u5E95\u4E86\u540E\uFF0C\u5219\u63D0\u793A\u5230\u5E95\u4E86</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">canRequestFeeds</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">end</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">hideToast</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showToast</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u5230\u5E95\u5566\uFF01</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">icon</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">success</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">duration</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1000</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">style</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">lang</span><span style="color:#393A34;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">scss</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">scoped</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">rfeeds</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">background-color</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">#</span><span style="color:#A65E2B;">ffffff</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">padding-bottom</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">20</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">.</span><span style="color:#B07D48;">one-feeds-box</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">width</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">704</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">margin</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">4</span><span style="color:#393A34;">upx </span><span style="color:#2F798A;">22</span><span style="color:#393A34;">upx </span><span style="color:#2F798A;">0</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">22</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">// \u5B9A\u4E49\u6805\u683C\u5E03\u5C40</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">display</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">grid</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">// \u5B9A\u4E49\u6805\u683C\u6BCF\u4E00\u5217\u7684\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">grid-template-columns</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">232</span><span style="color:#393A34;">upx </span><span style="color:#2F798A;">232</span><span style="color:#393A34;">upx </span><span style="color:#2F798A;">232</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">// \u5B9A\u4E49\u6805\u683C\u6BCF\u4E00\u884C\u7684\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">grid-template-rows</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">232</span><span style="color:#393A34;">upx </span><span style="color:#2F798A;">232</span><span style="color:#393A34;">upx </span><span style="color:#2F798A;">232</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">// grid-row-gap\u5C5E\u6027\u8BBE\u7F6E\u884C\u4E0E\u884C\u7684\u95F4\u9694\uFF08\u884C\u95F4\u8DDD\uFF09\uFF0Cgrid-column-gap\u5C5E\u6027\u8BBE\u7F6E\u5217\u4E0E\u5217\u7684\u95F4\u9694\uFF08\u5217\u95F4\u8DDD\uFF09</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">grid-row-gap</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">4</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">grid-column-gap</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">4</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">background-color</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">#</span><span style="color:#A65E2B;">dadada</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">.</span><span style="color:#B07D48;">one-feed</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">position</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">relative</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">.</span><span style="color:#B07D48;">feed-content</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">width</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">232</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">height</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">232</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">border</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1</span><span style="color:#AB5959;">px</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">solid</span><span style="color:#393A34;"> </span><span style="color:#999999;">#</span><span style="color:#A65E2B;">eeeeee</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">border-radius</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">4</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">.</span><span style="color:#B07D48;">icon</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">position</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">absolute</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">right</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">10</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">top</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">10</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">.</span><span style="color:#B07D48;">play-icon</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">width</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">40</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">height</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">40</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1E754F;">&amp;</span><span style="color:#999999;">.</span><span style="color:#B07D48;">feed-big-left</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">grid-column-start</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">grid-column-end</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">3</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">grid-row-start</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">grid-row-end</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">3</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">background-color</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">#</span><span style="color:#A65E2B;">dadada</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">.</span><span style="color:#B07D48;">feed-content</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">width</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">466</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">height</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">466</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">border</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1</span><span style="color:#AB5959;">px</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">solid</span><span style="color:#393A34;"> </span><span style="color:#999999;">#</span><span style="color:#A65E2B;">eeeeee</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1E754F;">&amp;</span><span style="color:#999999;">.</span><span style="color:#B07D48;">feed-big-right</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">grid-column-start</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">2</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">grid-column-end</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">4</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">grid-row-start</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">grid-row-end</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">3</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">background-color</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">#</span><span style="color:#A65E2B;">dadada</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">.</span><span style="color:#B07D48;">feed-content</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">width</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">466</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">height</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">466</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">border</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1</span><span style="color:#AB5959;">px</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">solid</span><span style="color:#393A34;"> </span><span style="color:#999999;">#</span><span style="color:#A65E2B;">eeeeee</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">style</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="_3-2-\u4F7F\u7528\u5C0F\u7A0B\u5E8F\u5206\u5305\u6784\u5EFA\u4E1A\u52A1\u6A21\u5757" tabindex="-1">3.2 \u4F7F\u7528\u5C0F\u7A0B\u5E8F\u5206\u5305\u6784\u5EFA\u4E1A\u52A1\u6A21\u5757 <a class="header-anchor" href="#_3-2-\u4F7F\u7528\u5C0F\u7A0B\u5E8F\u5206\u5305\u6784\u5EFA\u4E1A\u52A1\u6A21\u5757" aria-hidden="true">#</a></h3><p>\u6280\u672F\u5173\u952E\u70B9\uFF1Apage.json \u4E2D\u914D\u7F6E\u5206\u5305\u4E1A\u52A1\u903B\u8F91</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">subPackages</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;">: </span><span style="color:#666666;">[{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">root</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">subpages</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">pages</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">path</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">feedinfo/feedinfo</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">style</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">navigationBarTitleText</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">\u52A8\u6001\u8BE6\u60C5</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">navigationBarBackgroundColor</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">#FFFFFF</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">navigationBarTextStyle</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">black</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">backgroundColor</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">#FFFFFF</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">},</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">path</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">newinfo/newinfo</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">style</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">navigationStyle</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">custom</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">enablePullDownRefresh</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">},</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">path</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">setting/setting</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">style</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">navigationBarTitleText</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">enablePullDownRefresh</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">},</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">path</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">share/share</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">style</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">navigationBarTitleText</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">enablePullDownRefresh</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">}]</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">}]</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">subPackages</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;">: </span><span style="color:#999999;">[{</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">root</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">subpages</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">pages</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">path</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">feedinfo/feedinfo</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">style</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">navigationBarTitleText</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">\u52A8\u6001\u8BE6\u60C5</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">navigationBarBackgroundColor</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">#FFFFFF</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">navigationBarTextStyle</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">black</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">backgroundColor</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">#FFFFFF</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">},</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">path</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">newinfo/newinfo</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">style</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">navigationStyle</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">custom</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">enablePullDownRefresh</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">},</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">path</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">setting/setting</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">style</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">navigationBarTitleText</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">enablePullDownRefresh</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">},</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">path</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">share/share</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">style</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">navigationBarTitleText</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">enablePullDownRefresh</span><span style="color:#998418AA;">&quot;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">}]</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">}]</span></span>
<span class="line"></span></code></pre></div><h3 id="_3-3-\u56FE\u6587\u7C7B\u52A8\u6001\u8BE6\u60C5\u9875\u9762\u529F\u80FD\u5B9E\u73B0" tabindex="-1">3.3 \u56FE\u6587\u7C7B\u52A8\u6001\u8BE6\u60C5\u9875\u9762\u529F\u80FD\u5B9E\u73B0 <a class="header-anchor" href="#_3-3-\u56FE\u6587\u7C7B\u52A8\u6001\u8BE6\u60C5\u9875\u9762\u529F\u80FD\u5B9E\u73B0" aria-hidden="true">#</a></h3><p>\u6280\u672F\u5173\u952E\u70B9\uFF1A</p><ol><li>\u5206\u4EAB\u670B\u53CB\u5708</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#BD976A;">wx</span><span style="color:#666666;">.</span><span style="color:#80A665;">showShareMenu</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">withShareTicket</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">menus</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">shareAppMessage</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">shareTimeline</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">],</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#B07D48;">wx</span><span style="color:#999999;">.</span><span style="color:#59873A;">showShareMenu</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">withShareTicket</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">menus</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">shareAppMessage</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">shareTimeline</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">],</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u56FE\u7247\u9884\u89C8</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#80A665;">methods</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#80A665;">previewImage</span><span style="color:#666666;">(</span><span style="color:#BD976A;">index</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">previewImage</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">current</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">index</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">urls</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">feedInfo</span><span style="color:#666666;">.</span><span style="color:#BD976A;">images</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#59873A;">methods</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#59873A;">previewImage</span><span style="color:#999999;">(</span><span style="color:#B07D48;">index</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">previewImage</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">current</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">index</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">urls</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">feedInfo</span><span style="color:#999999;">.</span><span style="color:#B07D48;">images</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u4F7F\u7528\u65E5\u671F\u683C\u5F0F\u5316\u8FC7\u6EE4\u5668\u663E\u793A\u65F6\u95F4</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// \u5F15\u5165 \u65F6\u95F4\u65E5\u671F\u683C\u5F0F\u5316\u663E\u793A\u51FD\u6570</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">timeFrom</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">@/tools/timeFrom.js</span><span style="color:#C98A7DAA;">&#39;</span></span>
<span class="line"><span style="color:#758575DD;">// \u8BBE\u7F6E\u8FC7\u6EE4\u5668</span></span>
<span class="line"><span style="color:#80A665;">filters</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#80A665;">timeFormate</span><span style="color:#666666;">(</span><span style="color:#BD976A;">timeDate</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Time</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">Date</span><span style="color:#666666;">(</span><span style="color:#BD976A;">timeDate</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">timestemp</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Time</span><span style="color:#666666;">.</span><span style="color:#80A665;">getTime</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">t</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">timeFrom</span><span style="color:#666666;">(</span><span style="color:#BD976A;">timestemp</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">yyyy\u5E74mm\u6708dd\u65E5</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">t</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#758575DD;">// \u8C03\u7528\u8FC7\u6EE4\u5668</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">text</span><span style="color:#666666;">&gt;{{</span><span style="color:#DBD7CAEE;"> feedInfo.created_at | </span><span style="color:#BD976A;">timeFormate</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}}</span><span style="color:#DBD7CAEE;"> \u53D1\u5E03</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">text</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// \u5F15\u5165 \u65F6\u95F4\u65E5\u671F\u683C\u5F0F\u5316\u663E\u793A\u51FD\u6570</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">timeFrom</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">@/tools/timeFrom.js</span><span style="color:#B56959AA;">&#39;</span></span>
<span class="line"><span style="color:#A0ADA0;">// \u8BBE\u7F6E\u8FC7\u6EE4\u5668</span></span>
<span class="line"><span style="color:#59873A;">filters</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#59873A;">timeFormate</span><span style="color:#999999;">(</span><span style="color:#B07D48;">timeDate</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Time</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">Date</span><span style="color:#999999;">(</span><span style="color:#B07D48;">timeDate</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">timestemp</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Time</span><span style="color:#999999;">.</span><span style="color:#59873A;">getTime</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">t</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">timeFrom</span><span style="color:#999999;">(</span><span style="color:#B07D48;">timestemp</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">yyyy\u5E74mm\u6708dd\u65E5</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">t</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#A0ADA0;">// \u8C03\u7528\u8FC7\u6EE4\u5668</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">text</span><span style="color:#999999;">&gt;{{</span><span style="color:#393A34;"> feedInfo.created_at | </span><span style="color:#B07D48;">timeFormate</span><span style="color:#393A34;"> </span><span style="color:#999999;">}}</span><span style="color:#393A34;"> \u53D1\u5E03</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">text</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="_3-4-\u5BCC\u6587\u672C\u89E3\u6790\u8D44\u8BAF\u8BE6\u60C5\u9875\u9762\u529F\u80FD\u5B9E\u73B0" tabindex="-1">3.4 \u5BCC\u6587\u672C\u89E3\u6790\u8D44\u8BAF\u8BE6\u60C5\u9875\u9762\u529F\u80FD\u5B9E\u73B0 <a class="header-anchor" href="#_3-4-\u5BCC\u6587\u672C\u89E3\u6790\u8D44\u8BAF\u8BE6\u60C5\u9875\u9762\u529F\u80FD\u5B9E\u73B0" aria-hidden="true">#</a></h3><p>\u6280\u672F\u5173\u952E\u70B9\uFF1A</p><ol><li>\u9876\u90E8\u6BDB\u73BB\u7483\u63D2\u4EF6\u7684\u5F15\u5165\u53CA\u4F7F\u7528</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#666666;">	</span><span style="color:#758575DD;">// \u5F15\u5165\u6BDB\u73BB\u7483\u7EC4\u4EF6</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">picBlur</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">@/components/pic-blur/pic-blur.vue</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#80A665;">components</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#BD976A;">picBlur</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#CB7676;">&lt;!--</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">\u9876\u90E8\u6BDB\u73BB\u7483\u80CC\u666F\u56FE</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">--&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#CB7676;">&lt;!--</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">\u53EF\u9009\u503C</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">xs</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">s</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">m</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">l</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">xl</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">--&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">&lt;</span><span style="color:#B8A965;">pic-blur</span><span style="color:#DBD7CAEE;"> </span><span style="color:#FDAEB7;">:params=&quot;{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		        </span><span style="color:#FDAEB7;">width:&#39;750rpx&#39;,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		        </span><span style="color:#FDAEB7;">height:&#39;520rpx&#39;,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		        </span><span style="color:#FDAEB7;">image:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#FDAEB7;">newInfo.cover,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		        </span><span style="color:#FDAEB7;">blur:&#39;xs&#39;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#FDAEB7;">}&quot;&gt;&lt;/pic-blur&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#999999;">	</span><span style="color:#A0ADA0;">// \u5F15\u5165\u6BDB\u73BB\u7483\u7EC4\u4EF6</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">picBlur</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">@/components/pic-blur/pic-blur.vue</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#59873A;">components</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#B07D48;">picBlur</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">&lt;!--</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">\u9876\u90E8\u6BDB\u73BB\u7483\u80CC\u666F\u56FE</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">--&gt;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#AB5959;">&lt;!--</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">\u53EF\u9009\u503C</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">xs</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">s</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">m</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">l</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">xl</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">--&gt;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">&lt;</span><span style="color:#998418;">pic-blur</span><span style="color:#393A34;"> </span><span style="color:#B31D28;">:params=&quot;{</span></span>
<span class="line"><span style="color:#393A34;">		        </span><span style="color:#B31D28;">width:&#39;750rpx&#39;,</span></span>
<span class="line"><span style="color:#393A34;">		        </span><span style="color:#B31D28;">height:&#39;520rpx&#39;,</span></span>
<span class="line"><span style="color:#393A34;">		        </span><span style="color:#B31D28;">image:</span><span style="color:#393A34;"> </span><span style="color:#B31D28;">newInfo.cover,</span></span>
<span class="line"><span style="color:#393A34;">		        </span><span style="color:#B31D28;">blur:&#39;xs&#39;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B31D28;">}&quot;&gt;&lt;/pic-blur&gt;</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u8D44\u8BAF\u8BE6\u60C5\u5185\u5BB9 \u5BCC\u6587\u672C\u5185\u5BB9 \u6DF1\u5EA6\u89E3\u6790</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">htmlParse</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">@/components/html-parse/parse.vue</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">info-content</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">&lt;</span><span style="color:#B8A965;">html-parse</span><span style="color:#DBD7CAEE;"> </span><span style="color:#FDAEB7;">:content=&quot;newInfo.content&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">/&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#BD976A;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">onLoad</span><span style="color:#666666;">(</span><span style="color:#BD976A;">options</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// \u5206\u4EAB</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#BD976A;">wx</span><span style="color:#666666;">.</span><span style="color:#80A665;">showShareMenu</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">withShareTicket</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">menus</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">shareAppMessage</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">shareTimeline</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">]</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">getNewInfo</span><span style="color:#666666;">(</span><span style="color:#BD976A;">options</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#BD976A;">res</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// let cp = res.content.replace(/@!\\[(\\d*).jpg\\]\\((\\d*)\\)/g,&quot;&lt;img src=&#39;&quot; +this.BaseFileURL +&#39;$2&#39; + &quot;&#39; /&gt;&quot;)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">cp</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">content</span><span style="color:#666666;">.</span><span style="color:#80A665;">replace</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">/</span><span style="color:#C4704F;">@!</span><span style="color:#E6CC77;">\\[</span><span style="color:#C99076;">.</span><span style="color:#CB7676;">*</span><span style="color:#E6CC77;">\\]\\(</span><span style="color:#666666;">(</span><span style="color:#C99076;">\\d</span><span style="color:#CB7676;">*</span><span style="color:#666666;">)</span><span style="color:#E6CC77;">\\)</span><span style="color:#C98A7DAA;">/</span><span style="color:#4D9375;">g</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">&lt;img src=&#39;</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">BaseFileURL</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">$1</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">&#39; /&gt;</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">newInfo</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">...</span><span style="color:#BD976A;">res</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">cutTitle</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">title</span><span style="color:#666666;">.</span><span style="color:#B8A965;">length</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">11</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">?</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">title</span><span style="color:#666666;">.</span><span style="color:#80A665;">substring</span><span style="color:#666666;">(</span><span style="color:#4C9A91;">0</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">11</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">...</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">title</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">cover</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">BaseFileURL</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">image</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">userId</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">user_id</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">content</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">cp</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">views_count</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">hits</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">getRequestOK</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#393A34;">	</span><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">htmlParse</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">@/components/html-parse/parse.vue</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">info-content</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">&lt;</span><span style="color:#998418;">html-parse</span><span style="color:#393A34;"> </span><span style="color:#B31D28;">:content=&quot;newInfo.content&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">/&gt;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B07D48;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">onLoad</span><span style="color:#999999;">(</span><span style="color:#B07D48;">options</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// \u5206\u4EAB</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#B07D48;">wx</span><span style="color:#999999;">.</span><span style="color:#59873A;">showShareMenu</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">withShareTicket</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">menus</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">shareAppMessage</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">shareTimeline</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">getNewInfo</span><span style="color:#999999;">(</span><span style="color:#B07D48;">options</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#B07D48;">res</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// let cp = res.content.replace(/@!\\[(\\d*).jpg\\]\\((\\d*)\\)/g,&quot;&lt;img src=&#39;&quot; +this.BaseFileURL +&#39;$2&#39; + &quot;&#39; /&gt;&quot;)</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">cp</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">content</span><span style="color:#999999;">.</span><span style="color:#59873A;">replace</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">/</span><span style="color:#AB5E3F;">@!</span><span style="color:#BDA437;">\\[</span><span style="color:#A65E2B;">.</span><span style="color:#AB5959;">*</span><span style="color:#BDA437;">\\]\\(</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">\\d</span><span style="color:#AB5959;">*</span><span style="color:#999999;">)</span><span style="color:#BDA437;">\\)</span><span style="color:#B56959AA;">/</span><span style="color:#1E754F;">g</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">&lt;img src=&#39;</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">BaseFileURL</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">$1</span><span style="color:#B56959AA;">&#39;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">&#39; /&gt;</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">newInfo</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">...</span><span style="color:#B07D48;">res</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">cutTitle</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">title</span><span style="color:#999999;">.</span><span style="color:#998418;">length</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">11</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">?</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">title</span><span style="color:#999999;">.</span><span style="color:#59873A;">substring</span><span style="color:#999999;">(</span><span style="color:#2F798A;">0</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">11</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">...</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">title</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">cover</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">BaseFileURL</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">image</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">userId</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">user_id</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">content</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">cp</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">views_count</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">hits</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">getRequestOK</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">}</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>NavBar \u6839\u636E\u6EDA\u52A8\u52A8\u6001\u663E\u793A</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&lt;!--</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">\u9876\u90E8\u5BFC\u822A</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">--&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">&lt;</span><span style="color:#B8A965;">uni-nav-bar</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">backState</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">2000</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">fontColor</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">#FFF</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#FDAEB7;">:titleCenter=&quot;false&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">type</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">transparent</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">slot</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">left</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">image</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">hicon</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">src</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">/static/home.png</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">mode</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">aspectFit</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#FDAEB7;">@tap=&quot;goHome&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">/&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">&lt;/</span><span style="color:#B8A965;">uni-nav-bar</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">&lt;</span><span style="color:#B8A965;">uni-nav-bar</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">v-if</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">navBarShow</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">backState</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">1000</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#FDAEB7;">:titleCenter=&quot;false&quot;&gt;{{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#FDAEB7;">newInfo.cutTitle</span><span style="color:#DBD7CAEE;"> </span><span style="color:#FDAEB7;">}}&lt;/uni-nav-bar&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#FDAEB7;">data()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#BD976A;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">				</span><span style="color:#758575DD;">// \u662F\u5426\u663E\u793A navbar</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">navBarShow</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">}</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#FDAEB7;">onPageScroll(res)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#80A665;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">scrollTop</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">100</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				this.</span><span style="color:#BD976A;">navBarShow</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">else</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				this.</span><span style="color:#BD976A;">navBarShow</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#AB5959;">&lt;!--</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">\u9876\u90E8\u5BFC\u822A</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">--&gt;</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">&lt;</span><span style="color:#998418;">uni-nav-bar</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">backState</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">2000</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">fontColor</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">#FFF</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B31D28;">:titleCenter=&quot;false&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">type</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">transparent</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">slot</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">left</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">image</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">hicon</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">src</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">/static/home.png</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">mode</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">aspectFit</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B31D28;">@tap=&quot;goHome&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">/&gt;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">&lt;/</span><span style="color:#998418;">uni-nav-bar</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">&lt;</span><span style="color:#998418;">uni-nav-bar</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">v-if</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">navBarShow</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">backState</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">1000</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B31D28;">:titleCenter=&quot;false&quot;&gt;{{</span><span style="color:#393A34;"> </span><span style="color:#B31D28;">newInfo.cutTitle</span><span style="color:#393A34;"> </span><span style="color:#B31D28;">}}&lt;/uni-nav-bar&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#B31D28;">data()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#B07D48;">return</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">				</span><span style="color:#A0ADA0;">// \u662F\u5426\u663E\u793A navbar</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">navBarShow</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">}</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#B31D28;">onPageScroll(res)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#59873A;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">scrollTop</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">100</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				this.</span><span style="color:#B07D48;">navBarShow</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				this.</span><span style="color:#B07D48;">navBarShow</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_3-5-\u8BC4\u8BBA\u7EC4\u4EF6\u8BC4\u8BBA\u5217\u8868\u5C55\u793A\u529F\u80FD\u5B9E\u73B0" tabindex="-1">3.5 \u8BC4\u8BBA\u7EC4\u4EF6\u8BC4\u8BBA\u5217\u8868\u5C55\u793A\u529F\u80FD\u5B9E\u73B0 <a class="header-anchor" href="#_3-5-\u8BC4\u8BBA\u7EC4\u4EF6\u8BC4\u8BBA\u5217\u8868\u5C55\u793A\u529F\u80FD\u5B9E\u73B0" aria-hidden="true">#</a></h3><p>\u5173\u952E\u6280\u672F\u70B9\uFF1A\u4F7F\u7528 props \u63A5\u6536\u5230\u7684\u6570\u636E\u53EF\u4EE5\u76F4\u63A5\u6E32\u67D3\u5230\u9875\u9762\u4E0A\uFF0C\u4F46\u662F props \u63A5\u6536\u5230\u7684\u6570\u636E\u5982\u679C\u4FEE\u6539\u540E\uFF0C\u5219\u4E0D\u4F1A\u52A8\u6001\u89E6\u53D1 \u5BF9\u5E94 dom \u7ED3\u6784\u7684\u5185\u5BB9\u66F4\u65B0\uFF0C\u6211\u4EEC\u9700\u8981\u505A\u4E00\u4E2A\u53D8\u91CF\u53BB\u4FDD\u5B58 props \u4F20\u9012\u7684\u521D\u59CB\u5316\u503C\u7136\u540E\u57FA\u4E8E\u6B64\u53D8\u91CF\u66F4\u65B0\u9875\u9762\u7ED3\u6784\u548C\u5185\u5BB9</p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#758575DD;">&lt;!-- \u8BC4\u8BBA\u5217\u8868 --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">comments</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">title gohere</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">id</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">gohere</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">ref</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">gohere</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">\u6700\u65B0\u8BC4\u8BBA</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">no-comment</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">v-if</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">commintsList</span><span style="color:#666666;">.</span><span style="color:#B8A965;">length</span><span style="color:#666666;"> </span><span style="color:#CB7676;">==</span><span style="color:#666666;"> </span><span style="color:#4C9A91;">0</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                &gt;</span><span style="color:#DBD7CAEE;">\u6682\u65E0\u8BC4\u8BBA</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span></span>
<span class="line"><span style="color:#666666;">            &gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span></span>
<span class="line"><span style="color:#666666;">                </span><span style="color:#BD976A;">v-for</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">(</span><span style="color:#BD976A;">commentItem</span><span style="color:#666666;">, </span><span style="color:#BD976A;">index</span><span style="color:#666666;">) </span><span style="color:#CB7676;">in</span><span style="color:#666666;"> </span><span style="color:#BD976A;">commintsList</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                :</span><span style="color:#BD976A;">key</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">index</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">one-comment</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">            &gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#758575DD;">&lt;!-- \u4E00\u7EA7\u8BC4\u8BBA\u76F8\u5173 --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">commenter</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">info</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">left</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                            </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">u-avatar</span></span>
<span class="line"><span style="color:#666666;">                                </span><span style="color:#BD976A;">size</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">50</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                                </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">avatar</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                                :</span><span style="color:#BD976A;">src</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                                    </span><span style="color:#CB7676;">!!</span><span style="color:#BD976A;">commentItem</span><span style="color:#666666;">.</span><span style="color:#BD976A;">user</span><span style="color:#666666;">.</span><span style="color:#BD976A;">avatar</span></span>
<span class="line"><span style="color:#666666;">                                        </span><span style="color:#CB7676;">?</span><span style="color:#666666;"> </span><span style="color:#BD976A;">commentItem</span><span style="color:#666666;">.</span><span style="color:#BD976A;">user</span><span style="color:#666666;">.</span><span style="color:#BD976A;">avatar</span><span style="color:#666666;">.</span><span style="color:#BD976A;">url</span></span>
<span class="line"><span style="color:#666666;">                                        </span><span style="color:#CB7676;">:</span><span style="color:#666666;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span></span>
<span class="line"><span style="color:#666666;">                                </span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                            /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                            </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">name</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;{{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                                </span><span style="color:#BD976A;">commentItem</span><span style="color:#666666;">.</span><span style="color:#BD976A;">user</span><span style="color:#666666;">.</span><span style="color:#BD976A;">name</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                            </span><span style="color:#666666;">}}&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">content</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;{{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">commentItem</span><span style="color:#666666;">.</span><span style="color:#BD976A;">body</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}}&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">uptime</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">                        &gt;{{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">commentItem</span><span style="color:#666666;">.</span><span style="color:#BD976A;">created_at</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">timeFormate</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}}</span><span style="color:#DBD7CAEE;"> \u8BC4\u8BBA</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span></span>
<span class="line"><span style="color:#666666;">                    &gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">timeFrom</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">@/tools/timeFrom.js</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">props</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">oneInfo</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Object</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">type</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">String</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#80A665;">data</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// \u5F53\u524D\u52A8\u6001\u8BC4\u8BBA\u5217\u8868\u8BE6\u60C5</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">commintsList</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[],</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// props \u4F20\u9012\u7684\u6570\u636E\u65E0\u6CD5\u6539\u53D8\u89E6\u53D1 DOM \u66F4\u65B0</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">oneInfoClone</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[],</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">};</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#CB7676;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">created</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfoClone</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfo</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">getCommentsList</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">methods</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u83B7\u53D6\u8BC4\u8BBA\u5217\u8868</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#CB7676;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">getCommentsList</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">type</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">feed</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">                </span><span style="color:#758575DD;">// \u83B7\u53D6\u5F53\u524D\u52A8\u6001\u8BC4\u8BBA\u5217\u8868\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">getFeedComments</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">id</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfo</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">commintsList</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">comments</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">                </span><span style="color:#758575DD;">// \u83B7\u53D6\u5F53\u524D\u8D44\u8BAF\u8BC4\u8BBA\u5217\u8868\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">getNewComments</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">id</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfo</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">commintsList</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">comments</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u8FC7\u6EE4\u5668</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">filters</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#80A665;">timeFormate</span><span style="color:#666666;">(</span><span style="color:#BD976A;">timeDate</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Time</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">Date</span><span style="color:#666666;">(</span><span style="color:#BD976A;">timeDate</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">timestemp</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Time</span><span style="color:#666666;">.</span><span style="color:#80A665;">getTime</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">t</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">timeFrom</span><span style="color:#666666;">(</span><span style="color:#BD976A;">timestemp</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">yyyy\u5E74mm\u6708dd\u65E5</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">t</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">};</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">&lt;!-- \u8BC4\u8BBA\u5217\u8868 --&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">comments</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">title gohere</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">id</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">gohere</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">ref</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">gohere</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">\u6700\u65B0\u8BC4\u8BBA</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">no-comment</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">v-if</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">commintsList</span><span style="color:#999999;">.</span><span style="color:#998418;">length</span><span style="color:#999999;"> </span><span style="color:#AB5959;">==</span><span style="color:#999999;"> </span><span style="color:#2F798A;">0</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                &gt;</span><span style="color:#393A34;">\u6682\u65E0\u8BC4\u8BBA</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span></span>
<span class="line"><span style="color:#999999;">            &gt;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span></span>
<span class="line"><span style="color:#999999;">                </span><span style="color:#B07D48;">v-for</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">(</span><span style="color:#B07D48;">commentItem</span><span style="color:#999999;">, </span><span style="color:#B07D48;">index</span><span style="color:#999999;">) </span><span style="color:#AB5959;">in</span><span style="color:#999999;"> </span><span style="color:#B07D48;">commintsList</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                :</span><span style="color:#B07D48;">key</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">index</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">one-comment</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">            &gt;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A0ADA0;">&lt;!-- \u4E00\u7EA7\u8BC4\u8BBA\u76F8\u5173 --&gt;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">commenter</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">info</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">left</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">                            </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">u-avatar</span></span>
<span class="line"><span style="color:#999999;">                                </span><span style="color:#B07D48;">size</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">50</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                                </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">avatar</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                                :</span><span style="color:#B07D48;">src</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                                    </span><span style="color:#AB5959;">!!</span><span style="color:#B07D48;">commentItem</span><span style="color:#999999;">.</span><span style="color:#B07D48;">user</span><span style="color:#999999;">.</span><span style="color:#B07D48;">avatar</span></span>
<span class="line"><span style="color:#999999;">                                        </span><span style="color:#AB5959;">?</span><span style="color:#999999;"> </span><span style="color:#B07D48;">commentItem</span><span style="color:#999999;">.</span><span style="color:#B07D48;">user</span><span style="color:#999999;">.</span><span style="color:#B07D48;">avatar</span><span style="color:#999999;">.</span><span style="color:#B07D48;">url</span></span>
<span class="line"><span style="color:#999999;">                                        </span><span style="color:#AB5959;">:</span><span style="color:#999999;"> </span><span style="color:#B56959AA;">&#39;&#39;</span></span>
<span class="line"><span style="color:#999999;">                                </span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                            /&gt;</span></span>
<span class="line"><span style="color:#393A34;">                            </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">name</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;{{</span></span>
<span class="line"><span style="color:#393A34;">                                </span><span style="color:#B07D48;">commentItem</span><span style="color:#999999;">.</span><span style="color:#B07D48;">user</span><span style="color:#999999;">.</span><span style="color:#B07D48;">name</span></span>
<span class="line"><span style="color:#393A34;">                            </span><span style="color:#999999;">}}&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">content</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;{{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">commentItem</span><span style="color:#999999;">.</span><span style="color:#B07D48;">body</span><span style="color:#393A34;"> </span><span style="color:#999999;">}}&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">uptime</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">                        &gt;{{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">commentItem</span><span style="color:#999999;">.</span><span style="color:#B07D48;">created_at</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">timeFormate</span><span style="color:#393A34;"> </span><span style="color:#999999;">}}</span><span style="color:#393A34;"> \u8BC4\u8BBA</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span></span>
<span class="line"><span style="color:#999999;">                    &gt;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">timeFrom</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">@/tools/timeFrom.js</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">props</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">oneInfo</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Object</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">type</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">String</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">data</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// \u5F53\u524D\u52A8\u6001\u8BC4\u8BBA\u5217\u8868\u8BE6\u60C5</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">commintsList</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[],</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// props \u4F20\u9012\u7684\u6570\u636E\u65E0\u6CD5\u6539\u53D8\u89E6\u53D1 DOM \u66F4\u65B0</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">oneInfoClone</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[],</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">created</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfoClone</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfo</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">getCommentsList</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">methods</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u83B7\u53D6\u8BC4\u8BBA\u5217\u8868</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">getCommentsList</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">type</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">feed</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">                </span><span style="color:#A0ADA0;">// \u83B7\u53D6\u5F53\u524D\u52A8\u6001\u8BC4\u8BBA\u5217\u8868\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">getFeedComments</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">id</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfo</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">commintsList</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">comments</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">                </span><span style="color:#A0ADA0;">// \u83B7\u53D6\u5F53\u524D\u8D44\u8BAF\u8BC4\u8BBA\u5217\u8868\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">getNewComments</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">id</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfo</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">commintsList</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">comments</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u8FC7\u6EE4\u5668</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">filters</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">timeFormate</span><span style="color:#999999;">(</span><span style="color:#B07D48;">timeDate</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Time</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">Date</span><span style="color:#999999;">(</span><span style="color:#B07D48;">timeDate</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">timestemp</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Time</span><span style="color:#999999;">.</span><span style="color:#59873A;">getTime</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">t</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">timeFrom</span><span style="color:#999999;">(</span><span style="color:#B07D48;">timestemp</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">yyyy\u5E74mm\u6708dd\u65E5</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">t</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="\u56DB\u3001\u7528\u6237\u6CE8\u518C\u3001\u767B\u9646\u4E1A\u52A1\u529F\u80FD\u5B9E\u73B0" tabindex="-1">\u56DB\u3001\u7528\u6237\u6CE8\u518C\u3001\u767B\u9646\u4E1A\u52A1\u529F\u80FD\u5B9E\u73B0 <a class="header-anchor" href="#\u56DB\u3001\u7528\u6237\u6CE8\u518C\u3001\u767B\u9646\u4E1A\u52A1\u529F\u80FD\u5B9E\u73B0" aria-hidden="true">#</a></h2><h3 id="_4-1-\u7528\u6237\u767B\u9646\u3001\u6CE8\u518C\u529F\u80FD\u7EC4\u4EF6\u5B9E\u73B0\u53CA\u89E6\u53D1\u663E\u793A" tabindex="-1">4.1 \u7528\u6237\u767B\u9646\u3001\u6CE8\u518C\u529F\u80FD\u7EC4\u4EF6\u5B9E\u73B0\u53CA\u89E6\u53D1\u663E\u793A <a class="header-anchor" href="#_4-1-\u7528\u6237\u767B\u9646\u3001\u6CE8\u518C\u529F\u80FD\u7EC4\u4EF6\u5B9E\u73B0\u53CA\u89E6\u53D1\u663E\u793A" aria-hidden="true">#</a></h3><p>\u5173\u952E\u6280\u672F\u70B9\uFF1A</p><ol><li>\u83B7\u53D6\u5F53\u524D\u5FAE\u4FE1\u7528\u6237\u7684 \u6635\u79F0 \u548C \u5934\u50CF\u4FE1\u606F</li><li>\u4F7F\u7528 u-form \u5B9E\u73B0\u767B\u9646\u3001\u624B\u673A\u6CE8\u518C\u3001\u90AE\u7BB1\u6CE8\u518C\u57FA\u7840\u903B\u8F91</li><li>\u4F7F\u7528 u-form \u5B9E\u73B0\u8868\u5355\u9A8C\u8BC1\u76F8\u5173\u903B\u8F91</li></ol><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">login</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> :</span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">{</span><span style="color:#B8A965;">show</span><span style="color:#666666;">:</span><span style="color:#BD976A;">show</span><span style="color:#666666;">}</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">button</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">submit-btn</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">open-type</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">getUserInfo</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> @</span><span style="color:#BD976A;">getuserinfo</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">getWechatUserInfo</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">v-if</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">getUserInfoTag</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">image</span><span style="color:#666666;"> </span><span style="color:#BD976A;">src</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">/static/wechat.png</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">wechat-img</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">text</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">\u4E00\u952E\u83B7\u53D6\u5FAE\u4FE1\u4FE1\u606F</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">text</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">button</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">u-form</span><span style="color:#666666;"> :</span><span style="color:#BD976A;">model</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">form</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">ref</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">uForm</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">v-show</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#CB7676;">!</span><span style="color:#BD976A;">getUserInfoTag</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">u-form-item</span><span style="color:#666666;"> </span><span style="color:#BD976A;">label</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">\u8D26\u53F7</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">prop</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">login</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">label-width</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">150</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">required</span><span style="color:#666666;"> </span><span style="color:#BD976A;">v-if</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">loginType</span><span style="color:#666666;"> </span><span style="color:#CB7676;">===</span><span style="color:#666666;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">login</span><span style="color:#C98A7DAA;">&#39;&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">u-input</span><span style="color:#666666;"> </span><span style="color:#BD976A;">v-model</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">form</span><span style="color:#666666;">.</span><span style="color:#BD976A;">login</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">placeholder</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u8F93\u5165\u624B\u673A\u53F7/\u90AE\u7BB1/\u6635\u79F0</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;"> /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">u-form-item</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">u-form-item</span><span style="color:#666666;"> </span><span style="color:#BD976A;">label</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">\u5BC6\u7801</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">label-width</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">150</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">required</span><span style="color:#666666;"> </span><span style="color:#BD976A;">prop</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">password</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">u-input</span><span style="color:#666666;"> </span><span style="color:#BD976A;">v-model</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">form</span><span style="color:#666666;">.</span><span style="color:#BD976A;">password</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">type</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">password</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">placeholder</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u96504-20\u4E2A\u5B57\u7B26,\u533A\u5206\u5927\u5C0F\u5199</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;"> /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">u-form-item</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">btns</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">u-button</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">ubtn</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> @</span><span style="color:#BD976A;">click</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">submit</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">\u63D0\u4EA4</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">u-button</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">u-button</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">ubtn</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> @</span><span style="color:#BD976A;">click</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">cancel</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">\u53D6\u6D88</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">u-button</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">type</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">u-subsection</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">active-color</span><span style="color:#DBD7CAEE;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">#007cba</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">font-size</span><span style="color:#DBD7CAEE;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">24</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">height</span><span style="color:#DBD7CAEE;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">52</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#BD976A;">list</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">subsectionList</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#BD976A;">current</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#4C9A91;">0</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">@</span><span style="color:#BD976A;">change</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">sectionChange</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;&lt;/</span><span style="color:#4D9375;">u-subsection</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">u-form</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#80A665;">data</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">				</span><span style="color:#758575DD;">// \u767B\u9646\u7EC4\u4EF6\u662F\u5426\u663E\u793A</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">show</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">				</span><span style="color:#758575DD;">// \u767B\u9646\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">loginType</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">login</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">				</span><span style="color:#758575DD;">// \u767B\u9646\u65B9\u5F0F\u9009\u62E9\u5668</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">subsectionList</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[{</span><span style="color:#DBD7CAEE;">	</span><span style="color:#B8A965;">name</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u8D26\u53F7\u767B\u9646</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;">	</span><span style="color:#B8A965;">name</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u624B\u673A\u6CE8\u518C</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;">	</span><span style="color:#B8A965;">name</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u90AE\u7BB1\u6CE8\u518C</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">],</span></span>
<span class="line"><span style="color:#666666;">				</span><span style="color:#758575DD;">// \u662F\u5426\u83B7\u53D6\u7528\u6237\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">getUserInfoTag</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">				</span><span style="color:#758575DD;">// \u7528\u6237\u4FE1\u606F\u8F93\u5165\u6846</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">form</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">login</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">avatar</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">name</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">phone</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">email</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">code</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">password</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">repassword</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">				</span><span style="color:#758575DD;">// \u7528\u6237\u8F93\u5165\u89C4\u5219\u6821\u9A8C</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">rules</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">login</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#B8A965;">validator</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">rule</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">value</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">callback</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#80A665;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#DBD7CAEE;">this.loginType === </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">login</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">!</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">test</span><span style="color:#666666;">.</span><span style="color:#80A665;">isEmpty</span><span style="color:#666666;">(</span><span style="color:#BD976A;">value</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> else {</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								return </span><span style="color:#BD976A;">true</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#BD976A;">message</span><span style="color:#DBD7CAEE;">: </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u5FC5\u586B * \u8F93\u5165\u5185\u5BB9\u4E0D\u8BB8\u4E3A\u7A7A</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#BD976A;">trigger</span><span style="color:#DBD7CAEE;">: </span><span style="color:#666666;">[</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">change</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">blur</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">],</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					}</span><span style="color:#666666;">],</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">name</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#B8A965;">asyncValidator</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">rule</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">value</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">callback</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								this.$u.api.findUser({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">									</span><span style="color:#B8A965;">name</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">value</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">)</span><span style="color:#666666;">.</span><span style="color:#80A665;">then</span><span style="color:#666666;">(</span><span style="color:#BD976A;">res</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#666666;">									</span><span style="color:#758575DD;">// \u5982\u679C\u9A8C\u8BC1\u4E0D\u901A\u8FC7\uFF0C\u9700\u8981\u5728callback()\u629B\u51FAnew Error(&#39;\u9519\u8BEF\u63D0\u793A\u4FE1\u606F&#39;)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">									</span><span style="color:#80A665;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#DBD7CAEE;">!!</span><span style="color:#BD976A;">value</span><span style="color:#DBD7CAEE;"> &amp;&amp; res.statusCode === 200</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">										</span><span style="color:#80A665;">callback</span><span style="color:#666666;">(</span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">Error</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u5F53\u524D\u7528\u6237\u6635\u79F0\u5DF2\u5B58\u5728</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">));</span></span>
<span class="line"><span style="color:#DBD7CAEE;">									</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> else {</span></span>
<span class="line"><span style="color:#666666;">										</span><span style="color:#758575DD;">// \u5982\u679C\u6821\u9A8C\u901A\u8FC7\uFF0C\u4E5F\u8981\u6267\u884Ccallback()\u56DE\u8C03</span></span>
<span class="line"><span style="color:#DBD7CAEE;">										</span><span style="color:#80A665;">callback</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">									</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								}</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#BD976A;">trigger</span><span style="color:#DBD7CAEE;">: </span><span style="color:#666666;">[</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">blur</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">],</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">],</span></span>
<span class="line"><span style="color:#666666;">         </span><span style="color:#758575DD;">// ... \u5176\u4ED6\u9A8C\u8BC1\u89C4\u5219</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">		</span><span style="color:#758575DD;">// \u5FC5\u987B\u8981\u5728onReady\u751F\u547D\u5468\u671F\u8BBE\u7F6E\u6821\u9A8C\u89C4\u5219\uFF0C\u56E0\u4E3AonLoad\u751F\u547D\u5468\u671F\u7EC4\u4EF6\u53EF\u80FD\u5C1A\u672A\u521B\u5EFA\u5B8C\u6BD5</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#80A665;">onReady</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$refs</span><span style="color:#666666;">.</span><span style="color:#BD976A;">uForm</span><span style="color:#666666;">.</span><span style="color:#80A665;">setRules</span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">rules</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#CB7676;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">created</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// \u6BCF\u6B21\u8FD9\u4E2A\u7EC4\u4EF6\u5C55\u5F00\uFF0C\u6211\u4EEC\u5C31\u53BB\u5224\u65AD\u4E00\u4E0B\u5F53\u524D token \u662F\u5426\u53EF\u4EE5\u83B7\u53D6\u65B0\u7684 token \u5982\u679C\u53EF\u4EE5\u83B7\u53D6\uFF0C\u54B1\u4EEC\u5C31\u5173\u95ED\u767B\u9646\u72B6\u6001</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">getUserMsg</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// \u70B9\u8D5E\u6D88\u606F\u6570\u91CF</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">statusCode</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">200</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">show</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#4D9375;">return</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">show</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#BD976A;">wx</span><span style="color:#666666;">.</span><span style="color:#80A665;">getSetting</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">success</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#80A665;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#DBD7CAEE;">res.authSetting</span><span style="color:#666666;">[</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">scope.userInfo</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">])</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">getUserInfo</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#B8A965;">success</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#666666;">								</span><span style="color:#758575DD;">// \u5982\u679C\u7528\u6237\u6388\u6743\u4E86\uFF0C\u5219\u505A\u4E24\u4EF6\u4E8B\uFF0C\u7B2C\u4E00\u4EF6\u4E8B</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								this.form.</span><span style="color:#BD976A;">login</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">userInfo</span><span style="color:#666666;">.</span><span style="color:#BD976A;">nickName</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								this.form.</span><span style="color:#BD976A;">name</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">userInfo</span><span style="color:#666666;">.</span><span style="color:#BD976A;">nickName</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								this.form.</span><span style="color:#BD976A;">avatar</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">userInfo</span><span style="color:#666666;">.</span><span style="color:#BD976A;">avatarUrl</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								this.</span><span style="color:#BD976A;">getUserInfoTag</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#B8A965;">fail</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								console.log(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u7528\u6237\u672A\u6388\u6743\uFF01</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#B8A965;">)</span></span>
<span class="line"><span style="color:#B8A965;">							}</span></span>
<span class="line"><span style="color:#B8A965;">						})</span></span>
<span class="line"><span style="color:#B8A965;">					}</span></span>
<span class="line"><span style="color:#B8A965;">				}</span></span>
<span class="line"><span style="color:#B8A965;">			})</span></span>
<span class="line"><span style="color:#B8A965;">		},</span></span>
<span class="line"><span style="color:#B8A965;">		methods</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// \u5173\u95ED\u5F39\u7A97</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#80A665;">closeLogin</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">show</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// \u6253\u5F00\u767B\u9646\u5F39\u7A97</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#80A665;">openLogin</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">show</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// \u8DF3\u8F6C\u5230 H5 \u9875\u9762</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#80A665;">gotoWeb</span><span style="color:#666666;">(</span><span style="color:#BD976A;">url</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#BD976A;">wx</span><span style="color:#666666;">.</span><span style="color:#80A665;">navigateTo</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">url</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">/pages/webview/webview?url=</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">encodeURI</span><span style="color:#666666;">(</span><span style="color:#BD976A;">url</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// \u5FAE\u4FE1\u6388\u6743</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#80A665;">getWechatUserInfo</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">getUserInfo</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">success</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#666666;">						</span><span style="color:#758575DD;">// \u8FDB\u884C\u4E0B\u4E00\u6B65\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						this.</span><span style="color:#BD976A;">getUserInfoTag</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						this.form.</span><span style="color:#BD976A;">login</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">userInfo</span><span style="color:#666666;">.</span><span style="color:#BD976A;">nickName</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						this.form.</span><span style="color:#BD976A;">name</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">userInfo</span><span style="color:#666666;">.</span><span style="color:#BD976A;">nickName</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						this.form.</span><span style="color:#BD976A;">avatar</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">userInfo</span><span style="color:#666666;">.</span><span style="color:#BD976A;">avatarUrl</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">fail</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						console.log(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u7528\u6237\u672A\u6388\u6743\uFF01</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#B8A965;">)</span></span>
<span class="line"><span style="color:#B8A965;">					}</span></span>
<span class="line"><span style="color:#B8A965;">				})</span></span>
<span class="line"><span style="color:#B8A965;">			},</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// \u83B7\u53D6\u9A8C\u8BC1\u7801</span></span>
<span class="line"><span style="color:#B8A965;">			getCode() {</span></span>
<span class="line"><span style="color:#B8A965;">				uni.showModal({</span></span>
<span class="line"><span style="color:#B8A965;">					title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u9A8C\u8BC1\u7801\u83B7\u53D6\u6210\u529F</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">content</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">8888</span><span style="color:#C98A7DAA;">&#39;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// \u53D6\u6D88\u8868\u5355\u8F93\u5165</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#80A665;">cancel</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				this.</span><span style="color:#BD976A;">form</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">login</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">name</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">phone</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">email</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">code</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">password</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">repassword</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// \u63D0\u4EA4\u8868\u5355\u9A8C\u8BC1</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#80A665;">submit</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				this.$refs.uForm.validate(async </span><span style="color:#BD976A;">valid</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#80A665;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#DBD7CAEE;">!</span><span style="color:#BD976A;">valid</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showToast</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u8BF7\u68C0\u67E5\u8F93\u5165</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#B8A965;">icon</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">loading</span><span style="color:#C98A7DAA;">&#39;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#80A665;">switch</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#DBD7CAEE;">this.loginType</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#4D9375;">case</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">login</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;">:</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">resa</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">userLogin</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#B8A965;">login</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">form</span><span style="color:#666666;">.</span><span style="color:#BD976A;">login</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#B8A965;">password</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">form</span><span style="color:#666666;">.</span><span style="color:#BD976A;">password</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">resa</span><span style="color:#666666;">.</span><span style="color:#BD976A;">statusCode</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">200</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">								</span><span style="color:#758575DD;">// \u767B\u9646\u6210\u529F</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">loginAfter</span><span style="color:#666666;">(</span><span style="color:#BD976A;">resa</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">access_token</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showModal</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">									</span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u767B\u9646\u5931\u8D25</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">									</span><span style="color:#B8A965;">content</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">resa</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">message</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#4D9375;">break</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#4D9375;">case</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">phone</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;">:</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">resb</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">userRegister</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">								</span><span style="color:#758575DD;">// \u5FC5\u987B\uFF0C\u7528\u6237\u540D</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#B8A965;">name</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">form</span><span style="color:#666666;">.</span><span style="color:#BD976A;">name</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">								</span><span style="color:#758575DD;">// \u5FC5\u987B\uFF0C\u9A8C\u8BC1\u7801\u53D1\u9001\u6A21\u5F0F\u3002</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#B8A965;">verifiable_type</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">sms</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">								</span><span style="color:#758575DD;">// \u5FC5\u987B\uFF0C\u7528\u6237\u6536\u5230\u7684\u9A8C\u8BC1\u7801\u3002(\u6559\u5B66\u9636\u6BB5\u9A8C\u8BC1\u7801\u7EDF\u4E00\u4F7F\u7528 8888 )</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#B8A965;">verifiable_code</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">8888</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">								</span><span style="color:#758575DD;">// \u5982\u679C \`verifiable_type\` \u4E3A \`sms\` \u5219\u5FC5\u987B, \u624B\u673A\u53F7\u7801\u3002</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#B8A965;">phone</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">form</span><span style="color:#666666;">.</span><span style="color:#BD976A;">phone</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">								</span><span style="color:#758575DD;">// \u53EF\u9009\uFF0C\u5BC6\u7801\uFF0C\u5982\u679C\u4E0D\u8F93\u5165\u5BC6\u7801\uFF0C\u5141\u8BB8\u7528\u6237\u65E0\u5BC6\u7801\u6CE8\u518C\u3002</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#B8A965;">password</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">form</span><span style="color:#666666;">.</span><span style="color:#BD976A;">password</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#BD976A;">resb</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">resb</span><span style="color:#666666;">.</span><span style="color:#BD976A;">statusCode</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">201</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">								</span><span style="color:#758575DD;">// \u767B\u9646\u6210\u529F</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">loginAfter</span><span style="color:#666666;">(</span><span style="color:#BD976A;">resb</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">token</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showModal</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">									</span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u767B\u9646\u5931\u8D25</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">									</span><span style="color:#B8A965;">content</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">resb</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">message</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#4D9375;">break</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#4D9375;">case</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">email</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;">:</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">resc</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">userRegister</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">								</span><span style="color:#758575DD;">// \u5FC5\u987B\uFF0C\u7528\u6237\u540D</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#B8A965;">name</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">form</span><span style="color:#666666;">.</span><span style="color:#BD976A;">name</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">								</span><span style="color:#758575DD;">// \u5FC5\u987B\uFF0C\u9A8C\u8BC1\u7801\u53D1\u9001\u6A21\u5F0F\u3002</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#B8A965;">verifiable_type</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">mail</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">								</span><span style="color:#758575DD;">// \u5FC5\u987B\uFF0C\u7528\u6237\u6536\u5230\u7684\u9A8C\u8BC1\u7801\u3002(\u6559\u5B66\u9636\u6BB5\u9A8C\u8BC1\u7801\u7EDF\u4E00\u4F7F\u7528 8888 )</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#B8A965;">verifiable_code</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">8888</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">								</span><span style="color:#758575DD;">// \u5982\u679C \`verifiable_type\` \u4E3A \`mail\` \u5219\u5FC5\u987B, E-Mail\u3002</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#B8A965;">email</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">form</span><span style="color:#666666;">.</span><span style="color:#BD976A;">email</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">								</span><span style="color:#758575DD;">// \u53EF\u9009\uFF0C\u5BC6\u7801\uFF0C\u5982\u679C\u4E0D\u8F93\u5165\u5BC6\u7801\uFF0C\u5141\u8BB8\u7528\u6237\u65E0\u5BC6\u7801\u6CE8\u518C\u3002</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#B8A965;">password</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">form</span><span style="color:#666666;">.</span><span style="color:#BD976A;">password</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#BD976A;">resc</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">resc</span><span style="color:#666666;">.</span><span style="color:#BD976A;">statusCode</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">201</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">								</span><span style="color:#758575DD;">// \u767B\u9646\u6210\u529F</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">loginAfter</span><span style="color:#666666;">(</span><span style="color:#BD976A;">resc</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">token</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showModal</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">									</span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u767B\u9646\u5931\u8D25</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">									</span><span style="color:#B8A965;">content</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">resc</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">message</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#4D9375;">break</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;">:</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showToast</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u672A\u77E5\u7528\u6237\u72B6\u6001</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">								</span><span style="color:#B8A965;">icon</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">loading</span><span style="color:#C98A7DAA;">&#39;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#4D9375;">break</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// \u6CE8\u518C\u3001\u767B\u9646\u6210\u529F\u540E\u8BBE\u7F6E\u76F8\u5173\u903B\u8F91</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#BD976A;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">loginAfter</span><span style="color:#666666;">(</span><span style="color:#BD976A;">token</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				this.</span><span style="color:#BD976A;">show</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				uni.setStorageSync(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">token</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> token)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">				</span><span style="color:#758575DD;">// \u83B7\u53D6\u672A\u8BFB\u6D88\u606F\u63D0\u793A</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				let </span><span style="color:#BD976A;">res</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">getUserMsg</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				let </span><span style="color:#BD976A;">name</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">form</span><span style="color:#666666;">.</span><span style="color:#BD976A;">name</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#80A665;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#DBD7CAEE;">this.loginType === </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">login</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#BD976A;">name</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">form</span><span style="color:#666666;">.</span><span style="color:#BD976A;">login</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				let </span><span style="color:#BD976A;">loginInfo</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#BD976A;">name</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">avatar</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">form</span><span style="color:#666666;">.</span><span style="color:#BD976A;">avatar</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">liked</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">user</span><span style="color:#666666;">.</span><span style="color:#BD976A;">liked</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">commented</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">user</span><span style="color:#666666;">.</span><span style="color:#BD976A;">commented</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				this.userLoginAction(loginInfo)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				uni.$emit(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">userLogin</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#B8A965;">)</span></span>
<span class="line"><span style="color:#B8A965;">			},</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// \u66F4\u6539 \u767B\u9646 \u6CE8\u518C \u65B9\u5F0F\u9009\u62E9</span></span>
<span class="line"><span style="color:#B8A965;">			sectionChange(index) {</span></span>
<span class="line"><span style="color:#B8A965;">				switch (index) {</span></span>
<span class="line"><span style="color:#B8A965;">					case 1</span><span style="color:#666666;">:</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">loginType</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">phone</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#BD976A;">break</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#BD976A;">case</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">2</span><span style="color:#DBD7CAEE;">:</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">loginType</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">email</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#BD976A;">break</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#BD976A;">default</span><span style="color:#DBD7CAEE;">:</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">loginType</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">login</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#BD976A;">break</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">		}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	}</span></span>
<span class="line"><span style="color:#CB7676;">&lt;/</span><span style="color:#BD976A;">script</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">login</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> :</span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">{</span><span style="color:#998418;">show</span><span style="color:#999999;">:</span><span style="color:#B07D48;">show</span><span style="color:#999999;">}</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">button</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">submit-btn</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">open-type</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">getUserInfo</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> @</span><span style="color:#B07D48;">getuserinfo</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">getWechatUserInfo</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">v-if</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">getUserInfoTag</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">image</span><span style="color:#999999;"> </span><span style="color:#B07D48;">src</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">/static/wechat.png</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">wechat-img</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> /&gt;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">text</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">\u4E00\u952E\u83B7\u53D6\u5FAE\u4FE1\u4FE1\u606F</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">text</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">button</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">u-form</span><span style="color:#999999;"> :</span><span style="color:#B07D48;">model</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">form</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">ref</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">uForm</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">v-show</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#AB5959;">!</span><span style="color:#B07D48;">getUserInfoTag</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">u-form-item</span><span style="color:#999999;"> </span><span style="color:#B07D48;">label</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">\u8D26\u53F7</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">prop</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">login</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">label-width</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">150</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">required</span><span style="color:#999999;"> </span><span style="color:#B07D48;">v-if</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">loginType</span><span style="color:#999999;"> </span><span style="color:#AB5959;">===</span><span style="color:#999999;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">login</span><span style="color:#B56959AA;">&#39;&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">u-input</span><span style="color:#999999;"> </span><span style="color:#B07D48;">v-model</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">form</span><span style="color:#999999;">.</span><span style="color:#B07D48;">login</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">placeholder</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u8F93\u5165\u624B\u673A\u53F7/\u90AE\u7BB1/\u6635\u79F0</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;"> /&gt;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">u-form-item</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">u-form-item</span><span style="color:#999999;"> </span><span style="color:#B07D48;">label</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">\u5BC6\u7801</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">label-width</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">150</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">required</span><span style="color:#999999;"> </span><span style="color:#B07D48;">prop</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">password</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">u-input</span><span style="color:#999999;"> </span><span style="color:#B07D48;">v-model</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">form</span><span style="color:#999999;">.</span><span style="color:#B07D48;">password</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">type</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">password</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">placeholder</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u96504-20\u4E2A\u5B57\u7B26,\u533A\u5206\u5927\u5C0F\u5199</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;"> /&gt;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">u-form-item</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">btns</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">u-button</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">ubtn</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> @</span><span style="color:#B07D48;">click</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">submit</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">\u63D0\u4EA4</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">u-button</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">u-button</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">ubtn</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> @</span><span style="color:#B07D48;">click</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">cancel</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">\u53D6\u6D88</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">u-button</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">type</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">u-subsection</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">active-color</span><span style="color:#393A34;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">#007cba</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">font-size</span><span style="color:#393A34;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">24</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">height</span><span style="color:#393A34;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">52</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#B07D48;">list</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">subsectionList</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#B07D48;">current</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#2F798A;">0</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">@</span><span style="color:#B07D48;">change</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">sectionChange</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;&lt;/</span><span style="color:#1E754F;">u-subsection</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">u-form</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#59873A;">data</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">				</span><span style="color:#A0ADA0;">// \u767B\u9646\u7EC4\u4EF6\u662F\u5426\u663E\u793A</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">show</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">				</span><span style="color:#A0ADA0;">// \u767B\u9646\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">loginType</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">login</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">				</span><span style="color:#A0ADA0;">// \u767B\u9646\u65B9\u5F0F\u9009\u62E9\u5668</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">subsectionList</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[{</span><span style="color:#393A34;">	</span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u8D26\u53F7\u767B\u9646</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">{</span><span style="color:#393A34;">	</span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u624B\u673A\u6CE8\u518C</span><span style="color:#B56959AA;">&#39;</span><span style="color:#393A34;">	</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">{</span><span style="color:#393A34;">	</span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u90AE\u7BB1\u6CE8\u518C</span><span style="color:#B56959AA;">&#39;</span><span style="color:#393A34;">	</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">],</span></span>
<span class="line"><span style="color:#999999;">				</span><span style="color:#A0ADA0;">// \u662F\u5426\u83B7\u53D6\u7528\u6237\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">getUserInfoTag</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">				</span><span style="color:#A0ADA0;">// \u7528\u6237\u4FE1\u606F\u8F93\u5165\u6846</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">form</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">login</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">avatar</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">phone</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">email</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">code</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">password</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">repassword</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">				</span><span style="color:#A0ADA0;">// \u7528\u6237\u8F93\u5165\u89C4\u5219\u6821\u9A8C</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">rules</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">login</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[{</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#998418;">validator</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">rule</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">value</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">callback</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#59873A;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#393A34;">this.loginType === </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">login</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">!</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">test</span><span style="color:#999999;">.</span><span style="color:#59873A;">isEmpty</span><span style="color:#999999;">(</span><span style="color:#B07D48;">value</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#999999;">}</span><span style="color:#393A34;"> else {</span></span>
<span class="line"><span style="color:#393A34;">								return </span><span style="color:#B07D48;">true</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#B07D48;">message</span><span style="color:#393A34;">: </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u5FC5\u586B * \u8F93\u5165\u5185\u5BB9\u4E0D\u8BB8\u4E3A\u7A7A</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#B07D48;">trigger</span><span style="color:#393A34;">: </span><span style="color:#999999;">[</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">change</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">blur</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">],</span></span>
<span class="line"><span style="color:#393A34;">					}</span><span style="color:#999999;">],</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[{</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#998418;">asyncValidator</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">rule</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">value</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">callback</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">								this.$u.api.findUser({</span></span>
<span class="line"><span style="color:#393A34;">									</span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">value</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#999999;">}</span><span style="color:#393A34;">)</span><span style="color:#999999;">.</span><span style="color:#59873A;">then</span><span style="color:#999999;">(</span><span style="color:#B07D48;">res</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#999999;">									</span><span style="color:#A0ADA0;">// \u5982\u679C\u9A8C\u8BC1\u4E0D\u901A\u8FC7\uFF0C\u9700\u8981\u5728callback()\u629B\u51FAnew Error(&#39;\u9519\u8BEF\u63D0\u793A\u4FE1\u606F&#39;)</span></span>
<span class="line"><span style="color:#393A34;">									</span><span style="color:#59873A;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#393A34;">!!</span><span style="color:#B07D48;">value</span><span style="color:#393A34;"> &amp;&amp; res.statusCode === 200</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">										</span><span style="color:#59873A;">callback</span><span style="color:#999999;">(</span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">Error</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u5F53\u524D\u7528\u6237\u6635\u79F0\u5DF2\u5B58\u5728</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">));</span></span>
<span class="line"><span style="color:#393A34;">									</span><span style="color:#999999;">}</span><span style="color:#393A34;"> else {</span></span>
<span class="line"><span style="color:#999999;">										</span><span style="color:#A0ADA0;">// \u5982\u679C\u6821\u9A8C\u901A\u8FC7\uFF0C\u4E5F\u8981\u6267\u884Ccallback()\u56DE\u8C03</span></span>
<span class="line"><span style="color:#393A34;">										</span><span style="color:#59873A;">callback</span><span style="color:#999999;">()</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">									</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">								}</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#B07D48;">trigger</span><span style="color:#393A34;">: </span><span style="color:#999999;">[</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">blur</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">],</span></span>
<span class="line"><span style="color:#393A34;">						}</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">],</span></span>
<span class="line"><span style="color:#999999;">         </span><span style="color:#A0ADA0;">// ... \u5176\u4ED6\u9A8C\u8BC1\u89C4\u5219</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">		</span><span style="color:#A0ADA0;">// \u5FC5\u987B\u8981\u5728onReady\u751F\u547D\u5468\u671F\u8BBE\u7F6E\u6821\u9A8C\u89C4\u5219\uFF0C\u56E0\u4E3AonLoad\u751F\u547D\u5468\u671F\u7EC4\u4EF6\u53EF\u80FD\u5C1A\u672A\u521B\u5EFA\u5B8C\u6BD5</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#59873A;">onReady</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$refs</span><span style="color:#999999;">.</span><span style="color:#B07D48;">uForm</span><span style="color:#999999;">.</span><span style="color:#59873A;">setRules</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">rules</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#AB5959;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">created</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// \u6BCF\u6B21\u8FD9\u4E2A\u7EC4\u4EF6\u5C55\u5F00\uFF0C\u6211\u4EEC\u5C31\u53BB\u5224\u65AD\u4E00\u4E0B\u5F53\u524D token \u662F\u5426\u53EF\u4EE5\u83B7\u53D6\u65B0\u7684 token \u5982\u679C\u53EF\u4EE5\u83B7\u53D6\uFF0C\u54B1\u4EEC\u5C31\u5173\u95ED\u767B\u9646\u72B6\u6001</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">getUserMsg</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// \u70B9\u8D5E\u6D88\u606F\u6570\u91CF</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">statusCode</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">200</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">show</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#1E754F;">return</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">show</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#B07D48;">wx</span><span style="color:#999999;">.</span><span style="color:#59873A;">getSetting</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">success</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#59873A;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#393A34;">res.authSetting</span><span style="color:#999999;">[</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">scope.userInfo</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">])</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">getUserInfo</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#998418;">success</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#999999;">								</span><span style="color:#A0ADA0;">// \u5982\u679C\u7528\u6237\u6388\u6743\u4E86\uFF0C\u5219\u505A\u4E24\u4EF6\u4E8B\uFF0C\u7B2C\u4E00\u4EF6\u4E8B</span></span>
<span class="line"><span style="color:#393A34;">								this.form.</span><span style="color:#B07D48;">login</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userInfo</span><span style="color:#999999;">.</span><span style="color:#B07D48;">nickName</span></span>
<span class="line"><span style="color:#393A34;">								this.form.</span><span style="color:#B07D48;">name</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userInfo</span><span style="color:#999999;">.</span><span style="color:#B07D48;">nickName</span></span>
<span class="line"><span style="color:#393A34;">								this.form.</span><span style="color:#B07D48;">avatar</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userInfo</span><span style="color:#999999;">.</span><span style="color:#B07D48;">avatarUrl</span></span>
<span class="line"><span style="color:#393A34;">								this.</span><span style="color:#B07D48;">getUserInfoTag</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#998418;">fail</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">								console.log(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u7528\u6237\u672A\u6388\u6743\uFF01</span><span style="color:#B56959AA;">&#39;</span><span style="color:#998418;">)</span></span>
<span class="line"><span style="color:#998418;">							}</span></span>
<span class="line"><span style="color:#998418;">						})</span></span>
<span class="line"><span style="color:#998418;">					}</span></span>
<span class="line"><span style="color:#998418;">				}</span></span>
<span class="line"><span style="color:#998418;">			})</span></span>
<span class="line"><span style="color:#998418;">		},</span></span>
<span class="line"><span style="color:#998418;">		methods</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// \u5173\u95ED\u5F39\u7A97</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#59873A;">closeLogin</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">show</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// \u6253\u5F00\u767B\u9646\u5F39\u7A97</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#59873A;">openLogin</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">show</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// \u8DF3\u8F6C\u5230 H5 \u9875\u9762</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#59873A;">gotoWeb</span><span style="color:#999999;">(</span><span style="color:#B07D48;">url</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#B07D48;">wx</span><span style="color:#999999;">.</span><span style="color:#59873A;">navigateTo</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">url</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">/pages/webview/webview?url=</span><span style="color:#B56959AA;">&#39;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#59873A;">encodeURI</span><span style="color:#999999;">(</span><span style="color:#B07D48;">url</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// \u5FAE\u4FE1\u6388\u6743</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#59873A;">getWechatUserInfo</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">getUserInfo</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">success</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#999999;">						</span><span style="color:#A0ADA0;">// \u8FDB\u884C\u4E0B\u4E00\u6B65\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#393A34;">						this.</span><span style="color:#B07D48;">getUserInfoTag</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span></span>
<span class="line"><span style="color:#393A34;">						this.form.</span><span style="color:#B07D48;">login</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userInfo</span><span style="color:#999999;">.</span><span style="color:#B07D48;">nickName</span></span>
<span class="line"><span style="color:#393A34;">						this.form.</span><span style="color:#B07D48;">name</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userInfo</span><span style="color:#999999;">.</span><span style="color:#B07D48;">nickName</span></span>
<span class="line"><span style="color:#393A34;">						this.form.</span><span style="color:#B07D48;">avatar</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userInfo</span><span style="color:#999999;">.</span><span style="color:#B07D48;">avatarUrl</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">fail</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">						console.log(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u7528\u6237\u672A\u6388\u6743\uFF01</span><span style="color:#B56959AA;">&#39;</span><span style="color:#998418;">)</span></span>
<span class="line"><span style="color:#998418;">					}</span></span>
<span class="line"><span style="color:#998418;">				})</span></span>
<span class="line"><span style="color:#998418;">			},</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// \u83B7\u53D6\u9A8C\u8BC1\u7801</span></span>
<span class="line"><span style="color:#998418;">			getCode() {</span></span>
<span class="line"><span style="color:#998418;">				uni.showModal({</span></span>
<span class="line"><span style="color:#998418;">					title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u9A8C\u8BC1\u7801\u83B7\u53D6\u6210\u529F</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">content</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">8888</span><span style="color:#B56959AA;">&#39;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">}</span><span style="color:#393A34;">)</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// \u53D6\u6D88\u8868\u5355\u8F93\u5165</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#59873A;">cancel</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				this.</span><span style="color:#B07D48;">form</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">login</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">phone</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">email</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">code</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">password</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">repassword</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// \u63D0\u4EA4\u8868\u5355\u9A8C\u8BC1</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#59873A;">submit</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				this.$refs.uForm.validate(async </span><span style="color:#B07D48;">valid</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#59873A;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#393A34;">!</span><span style="color:#B07D48;">valid</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showToast</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u8BF7\u68C0\u67E5\u8F93\u5165</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#998418;">icon</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">loading</span><span style="color:#B56959AA;">&#39;</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#59873A;">switch</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#393A34;">this.loginType</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#1E754F;">case</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">login</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;">:</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">resa</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">userLogin</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#998418;">login</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">form</span><span style="color:#999999;">.</span><span style="color:#B07D48;">login</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#998418;">password</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">form</span><span style="color:#999999;">.</span><span style="color:#B07D48;">password</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">resa</span><span style="color:#999999;">.</span><span style="color:#B07D48;">statusCode</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">200</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">								</span><span style="color:#A0ADA0;">// \u767B\u9646\u6210\u529F</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">loginAfter</span><span style="color:#999999;">(</span><span style="color:#B07D48;">resa</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">access_token</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showModal</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">									</span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u767B\u9646\u5931\u8D25</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">									</span><span style="color:#998418;">content</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">resa</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">message</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#1E754F;">break</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#1E754F;">case</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">phone</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;">:</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">resb</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">userRegister</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">								</span><span style="color:#A0ADA0;">// \u5FC5\u987B\uFF0C\u7528\u6237\u540D</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">form</span><span style="color:#999999;">.</span><span style="color:#B07D48;">name</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">								</span><span style="color:#A0ADA0;">// \u5FC5\u987B\uFF0C\u9A8C\u8BC1\u7801\u53D1\u9001\u6A21\u5F0F\u3002</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#998418;">verifiable_type</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">sms</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">								</span><span style="color:#A0ADA0;">// \u5FC5\u987B\uFF0C\u7528\u6237\u6536\u5230\u7684\u9A8C\u8BC1\u7801\u3002(\u6559\u5B66\u9636\u6BB5\u9A8C\u8BC1\u7801\u7EDF\u4E00\u4F7F\u7528 8888 )</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#998418;">verifiable_code</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">8888</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">								</span><span style="color:#A0ADA0;">// \u5982\u679C \`verifiable_type\` \u4E3A \`sms\` \u5219\u5FC5\u987B, \u624B\u673A\u53F7\u7801\u3002</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#998418;">phone</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">form</span><span style="color:#999999;">.</span><span style="color:#B07D48;">phone</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">								</span><span style="color:#A0ADA0;">// \u53EF\u9009\uFF0C\u5BC6\u7801\uFF0C\u5982\u679C\u4E0D\u8F93\u5165\u5BC6\u7801\uFF0C\u5141\u8BB8\u7528\u6237\u65E0\u5BC6\u7801\u6CE8\u518C\u3002</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#998418;">password</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">form</span><span style="color:#999999;">.</span><span style="color:#B07D48;">password</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B07D48;">resb</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">resb</span><span style="color:#999999;">.</span><span style="color:#B07D48;">statusCode</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">201</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">								</span><span style="color:#A0ADA0;">// \u767B\u9646\u6210\u529F</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">loginAfter</span><span style="color:#999999;">(</span><span style="color:#B07D48;">resb</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">token</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showModal</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">									</span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u767B\u9646\u5931\u8D25</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">									</span><span style="color:#998418;">content</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">resb</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">message</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#1E754F;">break</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#1E754F;">case</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">email</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;">:</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">resc</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">userRegister</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">								</span><span style="color:#A0ADA0;">// \u5FC5\u987B\uFF0C\u7528\u6237\u540D</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">form</span><span style="color:#999999;">.</span><span style="color:#B07D48;">name</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">								</span><span style="color:#A0ADA0;">// \u5FC5\u987B\uFF0C\u9A8C\u8BC1\u7801\u53D1\u9001\u6A21\u5F0F\u3002</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#998418;">verifiable_type</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">mail</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">								</span><span style="color:#A0ADA0;">// \u5FC5\u987B\uFF0C\u7528\u6237\u6536\u5230\u7684\u9A8C\u8BC1\u7801\u3002(\u6559\u5B66\u9636\u6BB5\u9A8C\u8BC1\u7801\u7EDF\u4E00\u4F7F\u7528 8888 )</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#998418;">verifiable_code</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">8888</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">								</span><span style="color:#A0ADA0;">// \u5982\u679C \`verifiable_type\` \u4E3A \`mail\` \u5219\u5FC5\u987B, E-Mail\u3002</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#998418;">email</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">form</span><span style="color:#999999;">.</span><span style="color:#B07D48;">email</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">								</span><span style="color:#A0ADA0;">// \u53EF\u9009\uFF0C\u5BC6\u7801\uFF0C\u5982\u679C\u4E0D\u8F93\u5165\u5BC6\u7801\uFF0C\u5141\u8BB8\u7528\u6237\u65E0\u5BC6\u7801\u6CE8\u518C\u3002</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#998418;">password</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">form</span><span style="color:#999999;">.</span><span style="color:#B07D48;">password</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B07D48;">resc</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">resc</span><span style="color:#999999;">.</span><span style="color:#B07D48;">statusCode</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">201</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">								</span><span style="color:#A0ADA0;">// \u767B\u9646\u6210\u529F</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">loginAfter</span><span style="color:#999999;">(</span><span style="color:#B07D48;">resc</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">token</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showModal</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">									</span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u767B\u9646\u5931\u8D25</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">									</span><span style="color:#998418;">content</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">resc</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">message</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#1E754F;">break</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#1E754F;">default</span><span style="color:#393A34;">:</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showToast</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u672A\u77E5\u7528\u6237\u72B6\u6001</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">								</span><span style="color:#998418;">icon</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">loading</span><span style="color:#B56959AA;">&#39;</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#1E754F;">break</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">}</span><span style="color:#393A34;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// \u6CE8\u518C\u3001\u767B\u9646\u6210\u529F\u540E\u8BBE\u7F6E\u76F8\u5173\u903B\u8F91</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#B07D48;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">loginAfter</span><span style="color:#999999;">(</span><span style="color:#B07D48;">token</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				this.</span><span style="color:#B07D48;">show</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span></span>
<span class="line"><span style="color:#393A34;">				uni.setStorageSync(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">token</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> token)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">				</span><span style="color:#A0ADA0;">// \u83B7\u53D6\u672A\u8BFB\u6D88\u606F\u63D0\u793A</span></span>
<span class="line"><span style="color:#393A34;">				let </span><span style="color:#B07D48;">res</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">getUserMsg</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#393A34;">				let </span><span style="color:#B07D48;">name</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">form</span><span style="color:#999999;">.</span><span style="color:#B07D48;">name</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#59873A;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#393A34;">this.loginType === </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">login</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#B07D48;">name</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">form</span><span style="color:#999999;">.</span><span style="color:#B07D48;">login</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">				let </span><span style="color:#B07D48;">loginInfo</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#B07D48;">name</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">avatar</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">form</span><span style="color:#999999;">.</span><span style="color:#B07D48;">avatar</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">liked</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">user</span><span style="color:#999999;">.</span><span style="color:#B07D48;">liked</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">commented</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">user</span><span style="color:#999999;">.</span><span style="color:#B07D48;">commented</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">				this.userLoginAction(loginInfo)</span></span>
<span class="line"><span style="color:#393A34;">				uni.$emit(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">userLogin</span><span style="color:#B56959AA;">&#39;</span><span style="color:#998418;">)</span></span>
<span class="line"><span style="color:#998418;">			},</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// \u66F4\u6539 \u767B\u9646 \u6CE8\u518C \u65B9\u5F0F\u9009\u62E9</span></span>
<span class="line"><span style="color:#998418;">			sectionChange(index) {</span></span>
<span class="line"><span style="color:#998418;">				switch (index) {</span></span>
<span class="line"><span style="color:#998418;">					case 1</span><span style="color:#999999;">:</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">loginType</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">phone</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#B07D48;">break</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#B07D48;">case</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">2</span><span style="color:#393A34;">:</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">loginType</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">email</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#B07D48;">break</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#B07D48;">default</span><span style="color:#393A34;">:</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">loginType</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">login</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#B07D48;">break</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">			}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">		}</span></span>
<span class="line"><span style="color:#393A34;">	}</span></span>
<span class="line"><span style="color:#AB5959;">&lt;/</span><span style="color:#B07D48;">script</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="_4-2-vuex-storage-\u767B\u9646\u72B6\u6001\u7BA1\u7406" tabindex="-1">4.2 Vuex + Storage \u767B\u9646\u72B6\u6001\u7BA1\u7406 <a class="header-anchor" href="#_4-2-vuex-storage-\u767B\u9646\u72B6\u6001\u7BA1\u7406" aria-hidden="true">#</a></h3><p>\u5173\u952E\u6280\u672F\u70B9\uFF1A</p><ol><li>\u6784\u5EFA vuex \u6CE8\u518C main.js \u5168\u5C40\uFF0C\u5E76\u914D\u5408\u4F7F\u7528 storage \u5B9E\u73B0\u5237\u65B0\u540E\u6570\u636E\u4FDD\u5B58</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Vue</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">vue</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Vuex</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">vuex</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#BD976A;">Vue</span><span style="color:#666666;">.</span><span style="color:#80A665;">use</span><span style="color:#666666;">(</span><span style="color:#BD976A;">Vuex</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">store</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">Vuex</span><span style="color:#666666;">.</span><span style="color:#80A665;">Store</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u8FD9\u4E2A\u4EE3\u8868\u5168\u5C40\u53EF\u4EE5\u8BBF\u95EE\u6570\u636E\u5BF9\u8C61\uFF0C\u5C31\u50CF\u662F\u54B1\u4EEC\u5728\u7EC4\u4EF6\u4E2D\u58F0\u660E\u7684 data \u5C5E\u6027</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">state</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">loginState</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">!!</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">getStorageSync</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">loginState</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">?</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">userInfo</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">!!</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">getStorageSync</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">userInfo</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#CB7676;">?</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">JSON</span><span style="color:#666666;">.</span><span style="color:#80A665;">parse</span><span style="color:#666666;">(</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">getStorageSync</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">userInfo</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">))</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#CB7676;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                  </span><span style="color:#B8A965;">name</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u672A\u77E5\u7528\u6237</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                  </span><span style="color:#B8A965;">avatar</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">/static/nopic.png</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                  </span><span style="color:#B8A965;">liked</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                  </span><span style="color:#B8A965;">commented</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">              </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u8FD9\u4E2A\u5B9E\u65F6\u76D1\u542C state \u5185\u7684\u6570\u636E\u5BF9\u8C61\u53D8\u5316\uFF0C\u7C7B\u4F3C \u54B1\u4EEC\u7EC4\u4EF6\u4E2D\u7684 computed \u5C5E\u6027\uFF0C\u4F1A\u4F9D\u8D56 state \u6570\u636E\u53D8\u5316\u800C\u53D8\u5316</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">getters</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{},</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u7528\u6765\u540C\u6B65\u8BBE\u7F6E state \u7684\u503C</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">mutations</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#80A665;">userLogin</span><span style="color:#666666;">(</span><span style="color:#BD976A;">state</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">userInfo</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">state</span><span style="color:#666666;">.</span><span style="color:#BD976A;">loginState</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">state</span><span style="color:#666666;">.</span><span style="color:#BD976A;">userInfo</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">userInfo</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">setStorageSync</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">loginState</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">ok</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">setStorageSync</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">userInfo</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">JSON</span><span style="color:#666666;">.</span><span style="color:#80A665;">stringify</span><span style="color:#666666;">(</span><span style="color:#BD976A;">userInfo</span><span style="color:#666666;">));</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#80A665;">userLogout</span><span style="color:#666666;">(</span><span style="color:#BD976A;">state</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">state</span><span style="color:#666666;">.</span><span style="color:#BD976A;">loginState</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">state</span><span style="color:#666666;">.</span><span style="color:#BD976A;">userInfo</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">name</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u672A\u77E5\u7528\u6237</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">avatar</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">/static/nopic.png</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">liked</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">commented</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">};</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">clearStorageSync</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">userInfo</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">clearStorageSync</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">loginState</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">clearStorageSync</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">token</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u901A\u8FC7\u63D0\u4EA4 mutations \u5185\u90E8\u7684\u65B9\u6CD5\uFF0C\u5F02\u6B65\u66F4\u65B0 state \u7684\u72B6\u6001\uFF0C\u5B98\u65B9\u63A8\u8350\u90FD\u4F7F\u7528\u8FD9\u79CD\u65B9\u6CD5\u6BD4\u8F83\u5408\u9002</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">actions</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#80A665;">userLoginAction</span><span style="color:#666666;">(</span><span style="color:#BD976A;">context</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">userInfo</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">context</span><span style="color:#666666;">.</span><span style="color:#80A665;">commit</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">userLogin</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">userInfo</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#80A665;">userLogoutAction</span><span style="color:#666666;">(</span><span style="color:#BD976A;">context</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">context</span><span style="color:#666666;">.</span><span style="color:#80A665;">commit</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">userLogout</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">store</span><span style="color:#666666;">;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Vue</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">vue</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Vuex</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">vuex</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#B07D48;">Vue</span><span style="color:#999999;">.</span><span style="color:#59873A;">use</span><span style="color:#999999;">(</span><span style="color:#B07D48;">Vuex</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">store</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">Vuex</span><span style="color:#999999;">.</span><span style="color:#59873A;">Store</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u8FD9\u4E2A\u4EE3\u8868\u5168\u5C40\u53EF\u4EE5\u8BBF\u95EE\u6570\u636E\u5BF9\u8C61\uFF0C\u5C31\u50CF\u662F\u54B1\u4EEC\u5728\u7EC4\u4EF6\u4E2D\u58F0\u660E\u7684 data \u5C5E\u6027</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">state</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">loginState</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">!!</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">getStorageSync</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">loginState</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">?</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">userInfo</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">!!</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">getStorageSync</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">userInfo</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#AB5959;">?</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">JSON</span><span style="color:#999999;">.</span><span style="color:#59873A;">parse</span><span style="color:#999999;">(</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">getStorageSync</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">userInfo</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">))</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u672A\u77E5\u7528\u6237</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#998418;">avatar</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">/static/nopic.png</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#998418;">liked</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#998418;">commented</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u8FD9\u4E2A\u5B9E\u65F6\u76D1\u542C state \u5185\u7684\u6570\u636E\u5BF9\u8C61\u53D8\u5316\uFF0C\u7C7B\u4F3C \u54B1\u4EEC\u7EC4\u4EF6\u4E2D\u7684 computed \u5C5E\u6027\uFF0C\u4F1A\u4F9D\u8D56 state \u6570\u636E\u53D8\u5316\u800C\u53D8\u5316</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">getters</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{},</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u7528\u6765\u540C\u6B65\u8BBE\u7F6E state \u7684\u503C</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">mutations</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">userLogin</span><span style="color:#999999;">(</span><span style="color:#B07D48;">state</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">userInfo</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">state</span><span style="color:#999999;">.</span><span style="color:#B07D48;">loginState</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">state</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userInfo</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">userInfo</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">setStorageSync</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">loginState</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">ok</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">setStorageSync</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">userInfo</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">JSON</span><span style="color:#999999;">.</span><span style="color:#59873A;">stringify</span><span style="color:#999999;">(</span><span style="color:#B07D48;">userInfo</span><span style="color:#999999;">));</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">userLogout</span><span style="color:#999999;">(</span><span style="color:#B07D48;">state</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">state</span><span style="color:#999999;">.</span><span style="color:#B07D48;">loginState</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">state</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userInfo</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u672A\u77E5\u7528\u6237</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">avatar</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">/static/nopic.png</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">liked</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">commented</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">clearStorageSync</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">userInfo</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">clearStorageSync</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">loginState</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">clearStorageSync</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">token</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u901A\u8FC7\u63D0\u4EA4 mutations \u5185\u90E8\u7684\u65B9\u6CD5\uFF0C\u5F02\u6B65\u66F4\u65B0 state \u7684\u72B6\u6001\uFF0C\u5B98\u65B9\u63A8\u8350\u90FD\u4F7F\u7528\u8FD9\u79CD\u65B9\u6CD5\u6BD4\u8F83\u5408\u9002</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">actions</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">userLoginAction</span><span style="color:#999999;">(</span><span style="color:#B07D48;">context</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">userInfo</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">context</span><span style="color:#999999;">.</span><span style="color:#59873A;">commit</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">userLogin</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">userInfo</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">userLogoutAction</span><span style="color:#999999;">(</span><span style="color:#B07D48;">context</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">context</span><span style="color:#999999;">.</span><span style="color:#59873A;">commit</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">userLogout</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">store</span><span style="color:#999999;">;</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u4F7F\u7528 mapState\u3001mapActions \u5B9E\u73B0 vuex \u53D8\u91CF\u5FEB\u901F\u8C03\u7528</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#BD976A;">mapState</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#BD976A;">mapActions</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">vuex</span><span style="color:#C98A7DAA;">&#39;</span></span>
<span class="line"><span style="color:#80A665;">computed</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">...</span><span style="color:#80A665;">mapState</span><span style="color:#666666;">([</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">loginState</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">userInfo</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">])</span></span>
<span class="line"><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#80A665;">methods</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">...</span><span style="color:#80A665;">mapActions</span><span style="color:#666666;">([</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">userLoginAction</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">userLogoutAction</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">])</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#B07D48;">mapState</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#B07D48;">mapActions</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">vuex</span><span style="color:#B56959AA;">&#39;</span></span>
<span class="line"><span style="color:#59873A;">computed</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">...</span><span style="color:#59873A;">mapState</span><span style="color:#999999;">([</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">loginState</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">userInfo</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">])</span></span>
<span class="line"><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#59873A;">methods</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">...</span><span style="color:#59873A;">mapActions</span><span style="color:#999999;">([</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">userLoginAction</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">userLogoutAction</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">])</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u4F7F\u7528 uni.$on $emit \u89E6\u53D1\u9996\u9875\u53CA\u4E2A\u4EBA\u4E2D\u5FC3\u9875\u9762\u767B\u5F55\u540E\u5BF9\u5E94\u7684\u6570\u636E\u66F4\u65B0</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// index onload</span></span>
<span class="line"><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$on</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">indexUserLogin</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.</span><span style="color:#BD976A;">currentSwiperIndex</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.</span><span style="color:#BD976A;">feedsList</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[]</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.$refs.waterfall.clear();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.getFeedsList();</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#758575DD;">// me onload</span></span>
<span class="line"><span style="color:#758575DD;">// \u7528\u6237\u767B\u5F55\u540E\u89E6\u53D1\u6570\u636E\u66F4\u65B0</span></span>
<span class="line"><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$on</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">meUserLogin</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">getInfos</span><span style="color:#666666;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$emit</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">meUserLogin</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$emit</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">indexUserLogin</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// index onload</span></span>
<span class="line"><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$on</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">indexUserLogin</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">    this.</span><span style="color:#B07D48;">currentSwiperIndex</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    this.</span><span style="color:#B07D48;">feedsList</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">[]</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    this.$refs.waterfall.clear();</span></span>
<span class="line"><span style="color:#393A34;">    this.getFeedsList();</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#A0ADA0;">// me onload</span></span>
<span class="line"><span style="color:#A0ADA0;">// \u7528\u6237\u767B\u5F55\u540E\u89E6\u53D1\u6570\u636E\u66F4\u65B0</span></span>
<span class="line"><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$on</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">meUserLogin</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">getInfos</span><span style="color:#999999;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$emit</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">meUserLogin</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$emit</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">indexUserLogin</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"></span></code></pre></div><h3 id="_4-3-\u4E2A\u4EBA\u4E2D\u5FC3\u9875\u9762\u57FA\u7840\u529F\u80FD\u5B9E\u73B0" tabindex="-1">4.3 \u4E2A\u4EBA\u4E2D\u5FC3\u9875\u9762\u57FA\u7840\u529F\u80FD\u5B9E\u73B0 <a class="header-anchor" href="#_4-3-\u4E2A\u4EBA\u4E2D\u5FC3\u9875\u9762\u57FA\u7840\u529F\u80FD\u5B9E\u73B0" aria-hidden="true">#</a></h3><p>\u5173\u952E\u6280\u672F\u70B9\uFF1A</p><ol><li>\u8BF7\u6C42\u5F53\u524D\u767B\u5F55\u7528\u6237\u53D1\u5E03\u52A8\u6001\u5217\u8868\u6570\u636E</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// \u83B7\u53D6\u5F53\u524D\u7528\u6237\u7684 \u52A8\u6001\u4FE1\u606F</span></span>
<span class="line"><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">getFeeds</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">type</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">users</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// \u83B7\u53D6\u5F53\u524D\u7528\u6237\u7684 \u52A8\u6001\u4FE1\u606F</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">getFeeds</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">type</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">users</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u4F7F\u7528 \u7011\u5E03\u6D41 \u63D2\u4EF6\u5B9E\u73B0\u6392\u7248\u5E03\u5C40</li></ol><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">u-waterfall</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">v-model</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">feedsList</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">ref</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">waterfall</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">template</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">v-slot:left</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">{leftList}</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">... </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">template</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">v-slot:left</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">{leftList}</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">... </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">u-waterfall</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">u-waterfall</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">v-model</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">feedsList</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">ref</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">waterfall</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">template</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">v-slot:left</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">{leftList}</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">... </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">template</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">v-slot:left</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">{leftList}</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">... </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">u-waterfall</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u4F7F\u7528 vuex \u72B6\u6001\u6570\u636E\u663E\u793A\u7528\u6237\u767B\u5F55\u72B6\u6001</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#BD976A;">mapState</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#BD976A;">mapActions</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">vuex</span><span style="color:#C98A7DAA;">&#39;</span></span>
<span class="line"><span style="color:#80A665;">computed</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">...</span><span style="color:#80A665;">mapState</span><span style="color:#666666;">([</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">loginState</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">userInfo</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">])</span></span>
<span class="line"><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#80A665;">methods</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">...</span><span style="color:#80A665;">mapActions</span><span style="color:#666666;">([</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">userLoginAction</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">userLogoutAction</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">])</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#B07D48;">mapState</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#B07D48;">mapActions</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">vuex</span><span style="color:#B56959AA;">&#39;</span></span>
<span class="line"><span style="color:#59873A;">computed</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">...</span><span style="color:#59873A;">mapState</span><span style="color:#999999;">([</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">loginState</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">userInfo</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">])</span></span>
<span class="line"><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#59873A;">methods</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">...</span><span style="color:#59873A;">mapActions</span><span style="color:#999999;">([</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">userLoginAction</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">userLogoutAction</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">])</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u7528\u6237\u5220\u9664\u4E00\u6761\u52A8\u6001\u66F4\u65B0\u7011\u5E03\u6D41\u5E76\u901A\u4FE1 index \u9875\u9762\u540C\u6B65\u66F4\u65B0</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// \u9009\u62E9\u5220\u9664\u4E00\u6761\u52A8\u6001</span></span>
<span class="line"><span style="color:#BD976A;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">openSheet</span><span style="color:#666666;">(</span><span style="color:#BD976A;">fid</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showActionSheet</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">itemList</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">\u5220\u9664</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">],</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">success</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">						console.log(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u5220\u9664 id \u4E3A</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#B8A965;"> + fid + </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u7684\u52A8\u6001</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#B8A965;">)</span></span>
<span class="line"><span style="color:#B8A965;">						await this.$u.api.deleteFeed({</span></span>
<span class="line"><span style="color:#B8A965;">							id</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">fid</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$refs</span><span style="color:#666666;">.</span><span style="color:#BD976A;">waterfall</span><span style="color:#666666;">.</span><span style="color:#80A665;">remove</span><span style="color:#666666;">(</span><span style="color:#BD976A;">fid</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">						</span><span style="color:#758575DD;">// \u89E6\u53D1 \u9996\u9875\u52A8\u6001 \u540C\u6B65\u5220\u9664\u4E8B\u4EF6</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$emit</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">indexFeedRemove</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">fid</span><span style="color:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showToast</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">\u5F53\u524D\u52A8\u6001\u5DF2\u5220\u9664</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#B8A965;">duration</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1000</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#666666;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				}</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#758575DD;">// index \u9875\u9762</span></span>
<span class="line"><span style="color:#758575DD;">// \u4E2A\u4EBA\u4E2D\u5FC3\u5220\u9664\u4E00\u6761\u52A8\u6001\u540E\uFF0C\u89E6\u53D1\u66F4\u65B0\u9996\u9875\u6570\u636E</span></span>
<span class="line"><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$on</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">indexFeedRemove</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">fid</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=&gt;{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$refs</span><span style="color:#666666;">.</span><span style="color:#BD976A;">waterfall</span><span style="color:#666666;">.</span><span style="color:#80A665;">remove</span><span style="color:#666666;">(</span><span style="color:#BD976A;">fid</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#666666;">})</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// \u9009\u62E9\u5220\u9664\u4E00\u6761\u52A8\u6001</span></span>
<span class="line"><span style="color:#B07D48;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">openSheet</span><span style="color:#999999;">(</span><span style="color:#B07D48;">fid</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showActionSheet</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">itemList</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">\u5220\u9664</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">],</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">success</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">async</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">						console.log(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u5220\u9664 id \u4E3A</span><span style="color:#B56959AA;">&#39;</span><span style="color:#998418;"> + fid + </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u7684\u52A8\u6001</span><span style="color:#B56959AA;">&#39;</span><span style="color:#998418;">)</span></span>
<span class="line"><span style="color:#998418;">						await this.$u.api.deleteFeed({</span></span>
<span class="line"><span style="color:#998418;">							id</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">fid</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#999999;">}</span><span style="color:#393A34;">)</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$refs</span><span style="color:#999999;">.</span><span style="color:#B07D48;">waterfall</span><span style="color:#999999;">.</span><span style="color:#59873A;">remove</span><span style="color:#999999;">(</span><span style="color:#B07D48;">fid</span><span style="color:#999999;">)</span><span style="color:#393A34;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">						</span><span style="color:#A0ADA0;">// \u89E6\u53D1 \u9996\u9875\u52A8\u6001 \u540C\u6B65\u5220\u9664\u4E8B\u4EF6</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$emit</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">indexFeedRemove</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">fid</span><span style="color:#999999;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showToast</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">\u5F53\u524D\u52A8\u6001\u5DF2\u5220\u9664</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#998418;">duration</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1000</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#999999;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">				}</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#A0ADA0;">// index \u9875\u9762</span></span>
<span class="line"><span style="color:#A0ADA0;">// \u4E2A\u4EBA\u4E2D\u5FC3\u5220\u9664\u4E00\u6761\u52A8\u6001\u540E\uFF0C\u89E6\u53D1\u66F4\u65B0\u9996\u9875\u6570\u636E</span></span>
<span class="line"><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$on</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">indexFeedRemove</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">fid</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$refs</span><span style="color:#999999;">.</span><span style="color:#B07D48;">waterfall</span><span style="color:#999999;">.</span><span style="color:#59873A;">remove</span><span style="color:#999999;">(</span><span style="color:#B07D48;">fid</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#999999;">})</span></span>
<span class="line"></span></code></pre></div><h3 id="_4-4-\u7528\u6237\u8BBE\u7F6E\u9875\u9762\u57FA\u7840\u529F\u80FD\u5B9E\u73B0" tabindex="-1">4.4 \u7528\u6237\u8BBE\u7F6E\u9875\u9762\u57FA\u7840\u529F\u80FD\u5B9E\u73B0 <a class="header-anchor" href="#_4-4-\u7528\u6237\u8BBE\u7F6E\u9875\u9762\u57FA\u7840\u529F\u80FD\u5B9E\u73B0" aria-hidden="true">#</a></h3><p>\u5173\u952E\u6280\u672F\u70B9\uFF1A</p><ol><li>\u4F7F\u7528 vuex \u72B6\u6001\u7BA1\u7406\u5668 actions \u65B9\u6CD5\u5FEB\u901F\u9000\u51FA</li><li>\u4F7F\u7528 uni.$on $emit \u89E6\u53D1\u9996\u9875\u53CA\u4E2A\u4EBA\u4E2D\u5FC3\u9875\u9762\u7528\u6237\u9000\u51FA\u540E\u5BF9\u5E94\u7684\u6570\u636E\u66F4\u65B0</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// index onload</span></span>
<span class="line"><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$on</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">indexUserLogout</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.</span><span style="color:#BD976A;">currentSwiperIndex</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.</span><span style="color:#BD976A;">feedsList</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[]</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.$refs.waterfall.clear();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.getFeedsList();</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#758575DD;">// me onload</span></span>
<span class="line"><span style="color:#758575DD;">// \u7528\u6237\u9000\u51FA\u540E\u89E6\u53D1\u6570\u636E\u66F4\u65B0</span></span>
<span class="line"><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$on</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">meUserLogout</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    console.log(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u89E6\u53D1\u4E86\u9000\u51FA\u64CD\u4F5C</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#B8A965;">);</span></span>
<span class="line"><span style="color:#B8A965;">    this.feedsList = [];</span></span>
<span class="line"><span style="color:#B8A965;">    this.avatar = </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#B8A965;">;</span></span>
<span class="line"><span style="color:#B8A965;">    this.bio = </span><span style="color:#C98A7DAA;">&#39;&#39;</span><span style="color:#B8A965;">;</span></span>
<span class="line"><span style="color:#B8A965;">    this.$refs.waterfall.clear();</span></span>
<span class="line"><span style="color:#B8A965;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B8A965;">uni.$emit(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">meUserLogout</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#B8A965;">);</span></span>
<span class="line"><span style="color:#B8A965;">uni.$emit(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">indexUserLogout</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#B8A965;">);</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// index onload</span></span>
<span class="line"><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$on</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">indexUserLogout</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">    this.</span><span style="color:#B07D48;">currentSwiperIndex</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    this.</span><span style="color:#B07D48;">feedsList</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">[]</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    this.$refs.waterfall.clear();</span></span>
<span class="line"><span style="color:#393A34;">    this.getFeedsList();</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#A0ADA0;">// me onload</span></span>
<span class="line"><span style="color:#A0ADA0;">// \u7528\u6237\u9000\u51FA\u540E\u89E6\u53D1\u6570\u636E\u66F4\u65B0</span></span>
<span class="line"><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$on</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">meUserLogout</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">    console.log(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u89E6\u53D1\u4E86\u9000\u51FA\u64CD\u4F5C</span><span style="color:#B56959AA;">&#39;</span><span style="color:#998418;">);</span></span>
<span class="line"><span style="color:#998418;">    this.feedsList = [];</span></span>
<span class="line"><span style="color:#998418;">    this.avatar = </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#998418;">;</span></span>
<span class="line"><span style="color:#998418;">    this.bio = </span><span style="color:#B56959AA;">&#39;&#39;</span><span style="color:#998418;">;</span></span>
<span class="line"><span style="color:#998418;">    this.$refs.waterfall.clear();</span></span>
<span class="line"><span style="color:#998418;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#998418;">uni.$emit(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">meUserLogout</span><span style="color:#B56959AA;">&#39;</span><span style="color:#998418;">);</span></span>
<span class="line"><span style="color:#998418;">uni.$emit(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">indexUserLogout</span><span style="color:#B56959AA;">&#39;</span><span style="color:#998418;">);</span></span>
<span class="line"></span></code></pre></div><h2 id="\u4E94\u3001\u767B\u9646\u6001\u4E0B\u4E1A\u52A1\u529F\u80FD\u5B9E\u73B0" tabindex="-1">\u4E94\u3001\u767B\u9646\u6001\u4E0B\u4E1A\u52A1\u529F\u80FD\u5B9E\u73B0 <a class="header-anchor" href="#\u4E94\u3001\u767B\u9646\u6001\u4E0B\u4E1A\u52A1\u529F\u80FD\u5B9E\u73B0" aria-hidden="true">#</a></h2><h3 id="_5-1-\u4F7F\u7528-mixins-\u5B9E\u73B0\u52A8\u6001\u70B9\u8D5E\u3001\u53D6\u6D88\u70B9\u8D5E\u529F\u80FD" tabindex="-1">5.1 \u4F7F\u7528 mixins \u5B9E\u73B0\u52A8\u6001\u70B9\u8D5E\u3001\u53D6\u6D88\u70B9\u8D5E\u529F\u80FD <a class="header-anchor" href="#_5-1-\u4F7F\u7528-mixins-\u5B9E\u73B0\u52A8\u6001\u70B9\u8D5E\u3001\u53D6\u6D88\u70B9\u8D5E\u529F\u80FD" aria-hidden="true">#</a></h3><p>\u5173\u952E\u6280\u672F\u70B9\uFF1A</p><ol><li>\u4F7F\u7528 mixins \u6784\u5EFA\u590D\u7528\u7684\u52A8\u6001 \u70B9\u8D5E\u3001\u53D6\u6D88\u70B9\u8D5E \u4E8B\u4EF6\u65B9\u6CD5</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">feedMixin</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">methods</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u70B9\u8D5E\u6216\u8005\u53D6\u6D88\u70B9\u8D5E\u4E00\u6761\u52A8\u6001</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#CB7676;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">clickLove</span><span style="color:#666666;">(</span><span style="color:#BD976A;">item</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// \u5224\u65AD\u5F53\u524D\u767B\u5F55\u72B6\u6001</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#CB7676;">!</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">loginState</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$refs</span><span style="color:#666666;">.</span><span style="color:#BD976A;">login</span><span style="color:#666666;">.</span><span style="color:#80A665;">openLogin</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#4D9375;">return</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#758575DD;">// \u52A8\u6001\u70B9\u8D5E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">has_like</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#CB7676;">--</span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">like_count</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">has_like</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">unlikeThisFeed</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">id</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showToast</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u53D6\u6D88\u70B9\u8D5E</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">icon</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">success</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">duration</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1000</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#CB7676;">++</span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">like_count</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">has_like</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">likeThisFeed</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">id</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showToast</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u70B9\u8D5E\u6210\u529F</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">icon</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">success</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965;">duration</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1000</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$emit</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">indexFeedLoveChange</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">item</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$emit</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">myFeedLoveChange</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">item</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">};</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">feedMixin</span><span style="color:#666666;">;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">feedMixin</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">methods</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u70B9\u8D5E\u6216\u8005\u53D6\u6D88\u70B9\u8D5E\u4E00\u6761\u52A8\u6001</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">clickLove</span><span style="color:#999999;">(</span><span style="color:#B07D48;">item</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// \u5224\u65AD\u5F53\u524D\u767B\u5F55\u72B6\u6001</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#AB5959;">!</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">loginState</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$refs</span><span style="color:#999999;">.</span><span style="color:#B07D48;">login</span><span style="color:#999999;">.</span><span style="color:#59873A;">openLogin</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#1E754F;">return</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#A0ADA0;">// \u52A8\u6001\u70B9\u8D5E</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">has_like</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#AB5959;">--</span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">like_count</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">has_like</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">unlikeThisFeed</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">id</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showToast</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u53D6\u6D88\u70B9\u8D5E</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">icon</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">success</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">duration</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1000</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#AB5959;">++</span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">like_count</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">has_like</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">likeThisFeed</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">id</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showToast</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u70B9\u8D5E\u6210\u529F</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">icon</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">success</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418;">duration</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1000</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$emit</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">indexFeedLoveChange</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">item</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$emit</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">myFeedLoveChange</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">item</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">feedMixin</span><span style="color:#999999;">;</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u8C03\u7528 mixins \u5B9E\u73B0\u70B9\u8D5E\u529F\u80FD</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// index \\ me \u4E24\u4E2A\u9875\u9762</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">feedMixin</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">@/mixins/todoFeed.js</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#80A665;">mixins</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span><span style="color:#BD976A;">feedMixin</span><span style="color:#666666;">];</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// index \\ me \u4E24\u4E2A\u9875\u9762</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">feedMixin</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">@/mixins/todoFeed.js</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#59873A;">mixins</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span><span style="color:#B07D48;">feedMixin</span><span style="color:#999999;">];</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u70B9\u8D5E\u5B8C\u6210\u540E\u901A\u4FE1\u76F8\u5173\u9875\u9762\u66F4\u65B0\u663E\u793A\u72B6\u6001</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// me \u9875\u9762 \u7528\u6237\u70B9\u8D5E\u4E00\u6761\u52A8\u6001\u540E\u89E6\u53D1\u6570\u636E\u66F4\u65B0</span></span>
<span class="line"><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$on</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">myFeedLoveChange</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">item</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.$refs.waterfall.modify(item.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">like_count</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> item.like_count);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.$refs.waterfall.modify(item.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">has_like</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> item.has_like);</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#758575DD;">// index \u7528\u6237\u70B9\u8D5E\u4E00\u6761\u52A8\u6001\u540E\u89E6\u53D1\u6570\u636E\u66F4\u65B0</span></span>
<span class="line"><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$on</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">indexFeedLoveChange</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">item</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.$refs.waterfall.modify(item.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">like_count</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> item.like_count);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.$refs.waterfall.modify(item.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">has_like</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> item.has_like);</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD;">// minxins \u4E2D\u89E6\u53D1\u901A\u4FE1</span></span>
<span class="line"><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$emit</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">indexFeedLoveChange</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">item</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$emit</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">myFeedLoveChange</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">item</span><span style="color:#666666;">);</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// me \u9875\u9762 \u7528\u6237\u70B9\u8D5E\u4E00\u6761\u52A8\u6001\u540E\u89E6\u53D1\u6570\u636E\u66F4\u65B0</span></span>
<span class="line"><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$on</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">myFeedLoveChange</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">item</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">    this.$refs.waterfall.modify(item.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">like_count</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> item.like_count);</span></span>
<span class="line"><span style="color:#393A34;">    this.$refs.waterfall.modify(item.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">has_like</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> item.has_like);</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#A0ADA0;">// index \u7528\u6237\u70B9\u8D5E\u4E00\u6761\u52A8\u6001\u540E\u89E6\u53D1\u6570\u636E\u66F4\u65B0</span></span>
<span class="line"><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$on</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">indexFeedLoveChange</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">item</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">    this.$refs.waterfall.modify(item.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">like_count</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> item.like_count);</span></span>
<span class="line"><span style="color:#393A34;">    this.$refs.waterfall.modify(item.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">has_like</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> item.has_like);</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// minxins \u4E2D\u89E6\u53D1\u901A\u4FE1</span></span>
<span class="line"><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$emit</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">indexFeedLoveChange</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">item</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$emit</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">myFeedLoveChange</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">item</span><span style="color:#999999;">);</span></span>
<span class="line"></span></code></pre></div><h3 id="_5-2-\u8BC4\u8BBA\u7EC4\u4EF6\u8BC4\u8BBA\u529F\u80FD\u5B9E\u73B0" tabindex="-1">5.2 \u8BC4\u8BBA\u7EC4\u4EF6\u8BC4\u8BBA\u529F\u80FD\u5B9E\u73B0 <a class="header-anchor" href="#_5-2-\u8BC4\u8BBA\u7EC4\u4EF6\u8BC4\u8BBA\u529F\u80FD\u5B9E\u73B0" aria-hidden="true">#</a></h3><p>\u5173\u952E\u6280\u672F\u70B9\uFF1A</p><ol><li>\u767B\u9646\u63D2\u4EF6\u5F15\u5165\u53CA\u767B\u9646\u72B6\u6001\u5224\u65AD</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&lt;!--</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">\u767B\u9646\u7EC4\u4EF6</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">--&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">login</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">ref</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">login</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;&lt;/</span><span style="color:#4D9375;">login</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#758575DD;">// \u5224\u65AD\u5F53\u524D\u767B\u5F55\u72B6\u6001</span></span>
<span class="line"><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#CB7676;">!</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">loginState</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$refs</span><span style="color:#666666;">.</span><span style="color:#BD976A;">login</span><span style="color:#666666;">.</span><span style="color:#80A665;">openLogin</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#4D9375;">return</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#AB5959;">&lt;!--</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">\u767B\u9646\u7EC4\u4EF6</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">--&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">login</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">ref</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">login</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;&lt;/</span><span style="color:#1E754F;">login</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#A0ADA0;">// \u5224\u65AD\u5F53\u524D\u767B\u5F55\u72B6\u6001</span></span>
<span class="line"><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#AB5959;">!</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">loginState</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$refs</span><span style="color:#999999;">.</span><span style="color:#B07D48;">login</span><span style="color:#999999;">.</span><span style="color:#59873A;">openLogin</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#1E754F;">return</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u4F7F\u7528 mixins \u5B9E\u73B0\u52A8\u6001\u70B9\u8D5E\u529F\u80FD\uFF0C\u6B63\u5E38\u5B9E\u73B0\u8D44\u8BAF\u70B9\u8D5E\u529F\u80FD</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">feedMixin</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">@/mixins/todoFeed.js</span><span style="color:#C98A7DAA;">&#39;</span></span>
<span class="line"><span style="color:#80A665;">mixins</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span><span style="color:#BD976A;">feedMixin</span><span style="color:#666666;">]</span></span>
<span class="line"><span style="color:#758575DD;">// \u70B9\u8D5E\u903B\u8F91\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#BD976A;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">sendLove</span><span style="color:#666666;">(){</span></span>
<span class="line"><span style="color:#666666;">				</span><span style="color:#758575DD;">// \u5224\u65AD\u5F53\u524D\u767B\u5F55\u72B6\u6001</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#CB7676;">!</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">loginState</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$refs</span><span style="color:#666666;">.</span><span style="color:#BD976A;">login</span><span style="color:#666666;">.</span><span style="color:#80A665;">openLogin</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#4D9375;">return</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">type</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">feed</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">clickLove</span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfoClone</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">}</span><span style="color:#4D9375;">else</span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">					</span><span style="color:#758575DD;">// \u52A8\u6001\u70B9\u8D5E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfoClone</span><span style="color:#666666;">.</span><span style="color:#BD976A;">has_like</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#CB7676;">--</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfoClone</span><span style="color:#666666;">.</span><span style="color:#BD976A;">digg_count</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfoClone</span><span style="color:#666666;">.</span><span style="color:#BD976A;">has_like</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">unlikeThisNew</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#B8A965;">id</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfoClone</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showToast</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">\u53D6\u6D88\u70B9\u8D5E</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#B8A965;">icon</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">success</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#B8A965;">duration</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1000</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#CB7676;">++</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfoClone</span><span style="color:#666666;">.</span><span style="color:#BD976A;">digg_count</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfoClone</span><span style="color:#666666;">.</span><span style="color:#BD976A;">has_like</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">likeThisNew</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#B8A965;">id</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfoClone</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showToast</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">\u70B9\u8D5E\u6210\u529F</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#B8A965;">icon</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">success</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">							</span><span style="color:#B8A965;">duration</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1000</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">feedMixin</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">@/mixins/todoFeed.js</span><span style="color:#B56959AA;">&#39;</span></span>
<span class="line"><span style="color:#59873A;">mixins</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span><span style="color:#B07D48;">feedMixin</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#A0ADA0;">// \u70B9\u8D5E\u903B\u8F91\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#B07D48;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">sendLove</span><span style="color:#999999;">(){</span></span>
<span class="line"><span style="color:#999999;">				</span><span style="color:#A0ADA0;">// \u5224\u65AD\u5F53\u524D\u767B\u5F55\u72B6\u6001</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#AB5959;">!</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">loginState</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$refs</span><span style="color:#999999;">.</span><span style="color:#B07D48;">login</span><span style="color:#999999;">.</span><span style="color:#59873A;">openLogin</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#1E754F;">return</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">type</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">feed</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">clickLove</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfoClone</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">}</span><span style="color:#1E754F;">else</span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">					</span><span style="color:#A0ADA0;">// \u52A8\u6001\u70B9\u8D5E</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfoClone</span><span style="color:#999999;">.</span><span style="color:#B07D48;">has_like</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#AB5959;">--</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfoClone</span><span style="color:#999999;">.</span><span style="color:#B07D48;">digg_count</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfoClone</span><span style="color:#999999;">.</span><span style="color:#B07D48;">has_like</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">unlikeThisNew</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#998418;">id</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfoClone</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showToast</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">\u53D6\u6D88\u70B9\u8D5E</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#998418;">icon</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">success</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#998418;">duration</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1000</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">else</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#AB5959;">++</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfoClone</span><span style="color:#999999;">.</span><span style="color:#B07D48;">digg_count</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfoClone</span><span style="color:#999999;">.</span><span style="color:#B07D48;">has_like</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">likeThisNew</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#998418;">id</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfoClone</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showToast</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">\u70B9\u8D5E\u6210\u529F</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#998418;">icon</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">success</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">							</span><span style="color:#998418;">duration</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1000</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u5B9E\u73B0\u8BC4\u8BBA\u529F\u80FD\uFF0C\u6CE8\u610F\uFF1A\u8BC4\u8BBA\u5B8C\u6210\u540E\u4FEE\u6539\u9875\u9762\u6570\u636E\u4E0D\u80FD\u76F4\u63A5\u4FEE\u6539 props \u4E2D\u7684\u6570\u636E\uFF0C\u901A\u77E5\u4E2A\u4EBA\u4E2D\u5FC3\u8BC4\u8BBA\u6570\u91CF\u589E\u52A0</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// \u53D1\u9001\u8BC4\u8BBA\u4FE1\u606F</span></span>
<span class="line"><span style="color:#BD976A;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">sendComment</span><span style="color:#666666;">(){</span></span>
<span class="line"><span style="color:#666666;">				</span><span style="color:#758575DD;">// \u53D1\u9001\u72B6\u6001\u5224\u5B9A</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#4D9375;">if</span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">disableSendCommentTag</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">return</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">disableSendCommentTag</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#4D9375;">if</span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">type</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">===</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">feed</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">){</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">commentOneFeed</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#B8A965;">id</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfoClone</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#B8A965;">body</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">cinput</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#CB7676;">++</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfoClone</span><span style="color:#666666;">.</span><span style="color:#BD976A;">feed_comment_count</span></span>
<span class="line"><span style="color:#666666;">					</span><span style="color:#758575DD;">// \u901A\u77E5 \u4E2A\u4EBA\u4E2D\u5FC3\u5F53\u524D\u52A8\u6001\u8BC4\u8BBA\u589E\u52A0</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$emit</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">myFeedCommentChange</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfoClone</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">}</span><span style="color:#4D9375;">else</span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">commentOneInfo</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#B8A965;">id</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfoClone</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#B8A965;">body</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">cinput</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#CB7676;">++</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">oneInfoClone</span><span style="color:#666666;">.</span><span style="color:#BD976A;">comment_count</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showToast</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">\u8BC4\u8BBA\u6210\u529F</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">icon</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">success</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#B8A965;">duration</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1000</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">cinput</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;&#39;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">closeComment</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">getCommentsList</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// \u53D1\u9001\u8BC4\u8BBA\u4FE1\u606F</span></span>
<span class="line"><span style="color:#B07D48;">async</span><span style="color:#393A34;"> </span><span style="color:#59873A;">sendComment</span><span style="color:#999999;">(){</span></span>
<span class="line"><span style="color:#999999;">				</span><span style="color:#A0ADA0;">// \u53D1\u9001\u72B6\u6001\u5224\u5B9A</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#1E754F;">if</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">disableSendCommentTag</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">return</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">disableSendCommentTag</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#1E754F;">if</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">type</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">===</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">feed</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">){</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">commentOneFeed</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#998418;">id</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfoClone</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#998418;">body</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">cinput</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#AB5959;">++</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfoClone</span><span style="color:#999999;">.</span><span style="color:#B07D48;">feed_comment_count</span></span>
<span class="line"><span style="color:#999999;">					</span><span style="color:#A0ADA0;">// \u901A\u77E5 \u4E2A\u4EBA\u4E2D\u5FC3\u5F53\u524D\u52A8\u6001\u8BC4\u8BBA\u589E\u52A0</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$emit</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">myFeedCommentChange</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfoClone</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">}</span><span style="color:#1E754F;">else</span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">commentOneInfo</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#998418;">id</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfoClone</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#998418;">body</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">cinput</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#AB5959;">++</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">oneInfoClone</span><span style="color:#999999;">.</span><span style="color:#B07D48;">comment_count</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showToast</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">\u8BC4\u8BBA\u6210\u529F</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">icon</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">success</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#998418;">duration</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1000</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">cinput</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;&#39;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">closeComment</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">getCommentsList</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_5-3-\u8BC4\u8BBA\u654F\u611F\u8BCD-\u7EFF\u7F51-\u529F\u80FD\u5B9E\u73B0" tabindex="-1">5.3 \u8BC4\u8BBA\u654F\u611F\u8BCD \u201C\u7EFF\u7F51\u201D \u529F\u80FD\u5B9E\u73B0 <a class="header-anchor" href="#_5-3-\u8BC4\u8BBA\u654F\u611F\u8BCD-\u7EFF\u7F51-\u529F\u80FD\u5B9E\u73B0" aria-hidden="true">#</a></h3><p>\u5173\u952E\u6280\u672F\u70B9\uFF1A</p><ol><li><p>\u5C01\u88C5\u53CA\u8C03\u7528</p><p>\u5728\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u6587\u6863\uFF0C\u670D\u52A1\u5E73\u53F0 - AI \u80FD\u529B\u4E2D\u627E\u5230 <a href="https://developers.weixin.qq.com/miniprogram/dev/extended/service-market/intro.html#AI" target="_blank" rel="noreferrer">\u201C\u73CA\u745A\u6587\u672C\u5185\u5BB9\u5B89\u5168\u201D</a></p><p>\u8D2D\u4E70\u53CA\u4F7F\u7528\u5F53\u524D <a href="https://developers.weixin.qq.com/community/servicemarket/detail/00040275a14468e0e689194b251015" target="_blank" rel="noreferrer">\u6587\u672C\u5185\u5BB9\u5B89\u5168\u670D\u52A1</a></p></li><li><p>\u5C01\u88C5\u548C\u8C03\u7528\u654F\u611F\u8BCD\u9274\u5B9A\u529F\u80FD</p></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#dbd7caee;">// \u5728\u8FD9\u91CC\u8BBE\u8BA1 \u654F\u611F\u8BCD \u9274\u5B9A\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#dbd7caee;">doMsgSecCheck(text) {</span></span>
<span class="line"><span style="color:#dbd7caee;">			    return wx.serviceMarket.invokeService({</span></span>
<span class="line"><span style="color:#dbd7caee;">			      service: &#39;wxee446d7507c68b11&#39;,</span></span>
<span class="line"><span style="color:#dbd7caee;">			      api: &#39;msgSecCheck&#39;,</span></span>
<span class="line"><span style="color:#dbd7caee;">			      data: {</span></span>
<span class="line"><span style="color:#dbd7caee;">			        &quot;Action&quot;: &quot;TextApproval&quot;,</span></span>
<span class="line"><span style="color:#dbd7caee;">			        &quot;Text&quot;: text</span></span>
<span class="line"><span style="color:#dbd7caee;">			      },</span></span>
<span class="line"><span style="color:#dbd7caee;">			    })</span></span>
<span class="line"><span style="color:#dbd7caee;">},</span></span>
<span class="line"><span style="color:#dbd7caee;">// \u654F\u611F\u8BCD\u4FE1\u606F\u5224\u5B9A</span></span>
<span class="line"><span style="color:#dbd7caee;">let cres = await this.doMsgSecCheck(this.cinput)</span></span>
<span class="line"><span style="color:#dbd7caee;">if(cres.data.Response.EvilTokens.length 0){</span></span>
<span class="line"><span style="color:#dbd7caee;">		uni.showModal({</span></span>
<span class="line"><span style="color:#dbd7caee;">				title:&#39;\u654F\u611F\u8BCD\u5BA1\u6838&#39;,</span></span>
<span class="line"><span style="color:#dbd7caee;">				content: &#39;\u8BC4\u8BBA\u6D89\u53CA\u654F\u611F\u8BCD\uFF1A&#39;+cres.data.Response.EvilTokens[0].EvilKeywords</span></span>
<span class="line"><span style="color:#dbd7caee;">		})</span></span>
<span class="line"><span style="color:#dbd7caee;">		return</span></span>
<span class="line"><span style="color:#dbd7caee;">}</span></span>
<span class="line"><span style="color:#dbd7caee;"></span></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#393a34;">// \u5728\u8FD9\u91CC\u8BBE\u8BA1 \u654F\u611F\u8BCD \u9274\u5B9A\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#393a34;">doMsgSecCheck(text) {</span></span>
<span class="line"><span style="color:#393a34;">			    return wx.serviceMarket.invokeService({</span></span>
<span class="line"><span style="color:#393a34;">			      service: &#39;wxee446d7507c68b11&#39;,</span></span>
<span class="line"><span style="color:#393a34;">			      api: &#39;msgSecCheck&#39;,</span></span>
<span class="line"><span style="color:#393a34;">			      data: {</span></span>
<span class="line"><span style="color:#393a34;">			        &quot;Action&quot;: &quot;TextApproval&quot;,</span></span>
<span class="line"><span style="color:#393a34;">			        &quot;Text&quot;: text</span></span>
<span class="line"><span style="color:#393a34;">			      },</span></span>
<span class="line"><span style="color:#393a34;">			    })</span></span>
<span class="line"><span style="color:#393a34;">},</span></span>
<span class="line"><span style="color:#393a34;">// \u654F\u611F\u8BCD\u4FE1\u606F\u5224\u5B9A</span></span>
<span class="line"><span style="color:#393a34;">let cres = await this.doMsgSecCheck(this.cinput)</span></span>
<span class="line"><span style="color:#393a34;">if(cres.data.Response.EvilTokens.length 0){</span></span>
<span class="line"><span style="color:#393a34;">		uni.showModal({</span></span>
<span class="line"><span style="color:#393a34;">				title:&#39;\u654F\u611F\u8BCD\u5BA1\u6838&#39;,</span></span>
<span class="line"><span style="color:#393a34;">				content: &#39;\u8BC4\u8BBA\u6D89\u53CA\u654F\u611F\u8BCD\uFF1A&#39;+cres.data.Response.EvilTokens[0].EvilKeywords</span></span>
<span class="line"><span style="color:#393a34;">		})</span></span>
<span class="line"><span style="color:#393a34;">		return</span></span>
<span class="line"><span style="color:#393a34;">}</span></span>
<span class="line"><span style="color:#393a34;"></span></span></code></pre></div><h3 id="_5-4-ugc-\u52A8\u6001\u53D1\u5E03\u529F\u80FD\u5B9E\u73B0" tabindex="-1">5.4 UGC \u52A8\u6001\u53D1\u5E03\u529F\u80FD\u5B9E\u73B0 <a class="header-anchor" href="#_5-4-ugc-\u52A8\u6001\u53D1\u5E03\u529F\u80FD\u5B9E\u73B0" aria-hidden="true">#</a></h3><p>\u5173\u952E\u6280\u672F\u70B9\uFF1A</p><ol><li>\u516C\u5171\u7EC4\u4EF6 \u53D1\u5E03\u6309\u94AE \uFF0C\u6CE8\u610F\u7528\u6237\u672A\u767B\u5F55\u72B6\u6001\u4E0B\u4E0D\u663E\u793A\u8FD9\u4E2A\u6309\u94AE</li></ol><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">view</span><span style="color:#666666;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">goto-share</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">v-if</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#BD976A;">loginState</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#758575DD;">&lt;!-- \u4E2A\u4EBA\u5206\u4EAB \u9009\u62E9\u5668 --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">image</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">share-img</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#BD976A;">src</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">@/static/carm.png</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">            @</span><span style="color:#BD976A;">tap</span><span style="color:#666666;">.</span><span style="color:#BD976A;">stop</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#80A665;">gotoShare</span><span style="color:#666666;">()</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">            </span><span style="color:#BD976A;">mode</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">aspectFit</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#666666;">        /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">template</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">mapState</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">vuex</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#80A665;">data</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{};</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">computed</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">...</span><span style="color:#80A665;">mapState</span><span style="color:#666666;">([</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">loginState</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">]),</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">methods</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// \u5E95\u90E8\u4E2A\u4EBA\u5206\u4EAB \u5F39\u7A97\u76F8\u5173\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#80A665;">gotoShare</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">navigateTo</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">url</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">/subpages/share/share</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">};</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">view</span><span style="color:#999999;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">goto-share</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">v-if</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B07D48;">loginState</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">&lt;!-- \u4E2A\u4EBA\u5206\u4EAB \u9009\u62E9\u5668 --&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">image</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">share-img</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#B07D48;">src</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">@/static/carm.png</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">            @</span><span style="color:#B07D48;">tap</span><span style="color:#999999;">.</span><span style="color:#B07D48;">stop</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#59873A;">gotoShare</span><span style="color:#999999;">()</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">            </span><span style="color:#B07D48;">mode</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">aspectFit</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#999999;">        /&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">template</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">mapState</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">vuex</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">data</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#999999;">{};</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">computed</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">...</span><span style="color:#59873A;">mapState</span><span style="color:#999999;">([</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">loginState</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">]),</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">methods</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// \u5E95\u90E8\u4E2A\u4EBA\u5206\u4EAB \u5F39\u7A97\u76F8\u5173\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">gotoShare</span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">navigateTo</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">url</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">/subpages/share/share</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u6784\u5EFA share \u9875\u9762\u7528\u6765\u4E13\u95E8\u5B9E\u73B0\u52A8\u6001\u4E0A\u4F20\u80FD\u529B</li></ol><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">view</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">share</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#758575DD;">&lt;!-- \u5185\u5BB9\u8F93\u5165\u6846 --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">view</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">uni-textarea</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">textarea</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">placeholder-style</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">color:#AAAAAA</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">placeholder</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">\u6DFB\u52A0\u63CF\u8FF0...</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">@input</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">bindTextAreaInput</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">/</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;/</span><span style="color:#FDAEB7;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#758575DD;">&lt;!-- \u5185\u5BB9\u53D1\u5E03 --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">view</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">pics</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">view</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">medias</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">v-for</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">( image, index ) in uploadPicsList</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">:key</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">index</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">image</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">img</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">:src</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">image.path</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">:data-src</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">image</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">@tap</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">previewImage(index)</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">mode</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">aspectFill</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">           </span><span style="color:#666666;"> /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">u-icon</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">name</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">close</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">iclose</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">color</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">#eee</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">size</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">20</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#BD976A;">@tap</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">removeImage(index)</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">/&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;/</span><span style="color:#FDAEB7;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#758575DD;">&lt;!-- \u9009\u62E9\u7167\u7247\u6309\u94AE --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">view</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">uploadBtn</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">@tap</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">chosePicsAndUpload</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">v-if</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">uploadPicsList.length </span><span style="color:#FDAEB7;">&lt;</span><span style="color:#C98A7D;"> 9</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">u-icon</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">name</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">plus</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">size</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">60</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">color</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">#aaa</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">/&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">view</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">text</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">\u9009\u62E9\u7167\u7247</span><span style="color:#666666;">&lt;/</span><span style="color:#FDAEB7;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;/</span><span style="color:#FDAEB7;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;/</span><span style="color:#FDAEB7;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">view</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">btns</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">u-button</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">type</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">primary</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">size</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">default</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">@click</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">sendFeed</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">:disabled</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">uploadStatus</span><span style="color:#C98A7DAA;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">\u53D1\u5E03\u52A8\u6001</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">u-button</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;/</span><span style="color:#FDAEB7;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#FDAEB7;">view</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">view</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">share</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">&lt;!-- \u5185\u5BB9\u8F93\u5165\u6846 --&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">view</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">uni-textarea</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">textarea</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">placeholder-style</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">color:#AAAAAA</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">placeholder</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">\u6DFB\u52A0\u63CF\u8FF0...</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">@input</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">bindTextAreaInput</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">/</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;/</span><span style="color:#B31D28;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">&lt;!-- \u5185\u5BB9\u53D1\u5E03 --&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">view</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">pics</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">view</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">medias</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">v-for</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">( image, index ) in uploadPicsList</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">:key</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">index</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">image</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">img</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">:src</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">image.path</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">:data-src</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">image</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">@tap</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">previewImage(index)</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">mode</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">aspectFill</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">           </span><span style="color:#999999;"> /&gt;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">u-icon</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">name</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">close</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">iclose</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">color</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">#eee</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">size</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">20</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B07D48;">@tap</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">removeImage(index)</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">/&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;/</span><span style="color:#B31D28;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">&lt;!-- \u9009\u62E9\u7167\u7247\u6309\u94AE --&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">view</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">uploadBtn</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">@tap</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">chosePicsAndUpload</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">v-if</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">uploadPicsList.length </span><span style="color:#B31D28;">&lt;</span><span style="color:#B56959;"> 9</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">u-icon</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">name</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">plus</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">size</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">60</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">color</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">#aaa</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">/&gt;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">view</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">text</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">\u9009\u62E9\u7167\u7247</span><span style="color:#999999;">&lt;/</span><span style="color:#B31D28;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;/</span><span style="color:#B31D28;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;/</span><span style="color:#B31D28;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">view</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">btns</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">u-button</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">type</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">primary</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">size</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">default</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">@click</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">sendFeed</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">:disabled</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">uploadStatus</span><span style="color:#B56959AA;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">\u53D1\u5E03\u52A8\u6001</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">u-button</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;/</span><span style="color:#B31D28;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#B31D28;">view</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>\u5C01\u88C5 uploadFile \u516C\u5171\u5DE5\u5177</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">MD5</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">@/common/md5.js</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">uploadFile</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">path</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">size</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    let </span><span style="color:#BD976A;">uploadUrl</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">http://47.115.83.135/api/v2</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u7B2C\u4E00\u6B65 \u83B7\u53D6 hash \u503C</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    let </span><span style="color:#BD976A;">hash</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">Promise</span><span style="color:#666666;">((</span><span style="color:#BD976A;">resolve</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">reject</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        uni.getFileInfo({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">filePath</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">path</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">success</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">result</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#80A665;">resolve</span><span style="color:#666666;">(</span><span style="color:#DBD7CAEE;">result.digest</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">})</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;">)</span><span style="color:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// console.log(MD5.md5(hash))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u7B2C\u4E8C\u6B65 \u8BF7\u6C42\u83B7\u53D6\u57FA\u7840\u6587\u4EF6\u4FE1\u606F</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// let check = await uni.request({</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">//  url: uploadUrl+&#39;/files/uploaded/&#39;+MD5.md5(hash),</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">//  method: &#39;GET&#39;,</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">//  header: {</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">//    &quot;content-type&quot;: &quot;application/json&quot;,</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">//    Accept: &quot;application/json&quot;,</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">//    Authorization: &quot;Bearer &quot; + uni.getStorageSync(&quot;token&quot;),</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">//  }</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// })</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u5982\u679C\u8FD4\u56DE\u7684\u72B6\u6001\u7801\u662F404\uFF0C\u90A3\u8BF4\u660E\u6CA1\u6709\u4E0A\u4F20\u8FC7\uFF0C\u7EE7\u7EED\u540E\u9762\u7684\u4E0A\u4F20\u6D41\u7A0B</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u5982\u679C\u8FD4\u56DE\u7684\u662F200,\u90A3\u5C31\u4ECEbody\u91CC\u53D6\u51FA id\uFF0C\u8FD9\u4E2Aid\u5C31\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\uFF0C\u540E\u9762\u7684\u4E0A\u4F20\u6D41\u7A0B\u5C31\u53EF\u4EE5\u7EC8\u6B62\u4E86</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// console.log(check[1].statusCode)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u7B2C\u4E09\u6B65 \u5C06\u6587\u4EF6\u4EE5buffer\u6D41\u65B9\u5F0F\u5B58\u5165\u7CFB\u7EDF</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">ufile</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">uploadFile</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">url</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">uploadUrl</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">/files</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">method</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">POST</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">header</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">content-type</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">multipart/form-data</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">Authorization</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">Bearer </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">getStorageSync</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">token</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">),</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">name</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">file</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">file</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">getFileSystemManager</span><span style="color:#666666;">().</span><span style="color:#80A665;">readFileSync</span><span style="color:#666666;">(</span><span style="color:#BD976A;">path</span><span style="color:#666666;">),</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">filePath</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">path</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// console.log(JSON.parse(ufile[1].data))</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">JSON</span><span style="color:#666666;">.</span><span style="color:#80A665;">parse</span><span style="color:#666666;">(</span><span style="color:#BD976A;">ufile</span><span style="color:#666666;">[</span><span style="color:#4C9A91;">1</span><span style="color:#666666;">].</span><span style="color:#BD976A;">data</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">}</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">uploadFile</span><span style="color:#666666;">;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">MD5</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">@/common/md5.js</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">uploadFile</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">async</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">path</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">size</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">    let </span><span style="color:#B07D48;">uploadUrl</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">http://47.115.83.135/api/v2</span><span style="color:#B56959AA;">&#39;</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u7B2C\u4E00\u6B65 \u83B7\u53D6 hash \u503C</span></span>
<span class="line"><span style="color:#393A34;">    let </span><span style="color:#B07D48;">hash</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#998418;">Promise</span><span style="color:#999999;">((</span><span style="color:#B07D48;">resolve</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">reject</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">        uni.getFileInfo({</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">filePath</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">path</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">success</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">result</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#59873A;">resolve</span><span style="color:#999999;">(</span><span style="color:#393A34;">result.digest</span><span style="color:#999999;">)</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">})</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span><span style="color:#393A34;">)</span><span style="color:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// console.log(MD5.md5(hash))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u7B2C\u4E8C\u6B65 \u8BF7\u6C42\u83B7\u53D6\u57FA\u7840\u6587\u4EF6\u4FE1\u606F</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// let check = await uni.request({</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">//  url: uploadUrl+&#39;/files/uploaded/&#39;+MD5.md5(hash),</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">//  method: &#39;GET&#39;,</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">//  header: {</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">//    &quot;content-type&quot;: &quot;application/json&quot;,</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">//    Accept: &quot;application/json&quot;,</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">//    Authorization: &quot;Bearer &quot; + uni.getStorageSync(&quot;token&quot;),</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">//  }</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// })</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u5982\u679C\u8FD4\u56DE\u7684\u72B6\u6001\u7801\u662F404\uFF0C\u90A3\u8BF4\u660E\u6CA1\u6709\u4E0A\u4F20\u8FC7\uFF0C\u7EE7\u7EED\u540E\u9762\u7684\u4E0A\u4F20\u6D41\u7A0B</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u5982\u679C\u8FD4\u56DE\u7684\u662F200,\u90A3\u5C31\u4ECEbody\u91CC\u53D6\u51FA id\uFF0C\u8FD9\u4E2Aid\u5C31\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\uFF0C\u540E\u9762\u7684\u4E0A\u4F20\u6D41\u7A0B\u5C31\u53EF\u4EE5\u7EC8\u6B62\u4E86</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// console.log(check[1].statusCode)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u7B2C\u4E09\u6B65 \u5C06\u6587\u4EF6\u4EE5buffer\u6D41\u65B9\u5F0F\u5B58\u5165\u7CFB\u7EDF</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">ufile</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">uploadFile</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">url</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">uploadUrl</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">/files</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">method</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">POST</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">header</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">content-type</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">multipart/form-data</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">Authorization</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">Bearer </span><span style="color:#B56959AA;">&#39;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">getStorageSync</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">token</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">),</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">file</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">file</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">getFileSystemManager</span><span style="color:#999999;">().</span><span style="color:#59873A;">readFileSync</span><span style="color:#999999;">(</span><span style="color:#B07D48;">path</span><span style="color:#999999;">),</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">filePath</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">path</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// console.log(JSON.parse(ufile[1].data))</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">JSON</span><span style="color:#999999;">.</span><span style="color:#59873A;">parse</span><span style="color:#999999;">(</span><span style="color:#B07D48;">ufile</span><span style="color:#999999;">[</span><span style="color:#2F798A;">1</span><span style="color:#999999;">].</span><span style="color:#B07D48;">data</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">}</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">uploadFile</span><span style="color:#999999;">;</span></span>
<span class="line"></span></code></pre></div><ol start="4"><li>\u4F7F\u7528 primose.all \u6765\u786E\u4FDD\u591A\u5F20\u7167\u7247\u80FD\u591F\u987A\u5229\u4E0A\u4F20</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">upStatusArr</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[];</span></span>
<span class="line"><span style="color:#758575DD;">// \u5FAA\u73AF\u904D\u5386\u4E0A\u4F20\u591A\u56FE</span></span>
<span class="line"><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">uploadPicsList</span><span style="color:#666666;">.</span><span style="color:#80A665;">map</span><span style="color:#666666;">((</span><span style="color:#BD976A;">item</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    upStatusArr.push(</span><span style="color:#80A665;">uploadFile</span><span style="color:#666666;">(</span><span style="color:#DBD7CAEE;">item.path</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> item.size</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;">);</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">images</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[];</span></span>
<span class="line"><span style="color:#666666;">(</span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">Promise</span><span style="color:#666666;">.</span><span style="color:#80A665;">all</span><span style="color:#666666;">(</span><span style="color:#BD976A;">upStatusArr</span><span style="color:#666666;">)).</span><span style="color:#80A665;">map</span><span style="color:#666666;">((</span><span style="color:#BD976A;">item</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    images.push({ </span><span style="color:#B8A965;">id</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">item</span><span style="color:#666666;">.</span><span style="color:#BD976A;">id</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">})</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">pres</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#80A665;">postOneFeed</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">feed_content</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">feedInfo</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">feed_from</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">5</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">feed_mark</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">Date</span><span style="color:#666666;">().</span><span style="color:#80A665;">getTime</span><span style="color:#666666;">(),</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">images</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">upStatusArr</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">[];</span></span>
<span class="line"><span style="color:#A0ADA0;">// \u5FAA\u73AF\u904D\u5386\u4E0A\u4F20\u591A\u56FE</span></span>
<span class="line"><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">uploadPicsList</span><span style="color:#999999;">.</span><span style="color:#59873A;">map</span><span style="color:#999999;">((</span><span style="color:#B07D48;">item</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">    upStatusArr.push(</span><span style="color:#59873A;">uploadFile</span><span style="color:#999999;">(</span><span style="color:#393A34;">item.path</span><span style="color:#999999;">,</span><span style="color:#393A34;"> item.size</span><span style="color:#999999;">)</span><span style="color:#393A34;">);</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">images</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">[];</span></span>
<span class="line"><span style="color:#999999;">(</span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#998418;">Promise</span><span style="color:#999999;">.</span><span style="color:#59873A;">all</span><span style="color:#999999;">(</span><span style="color:#B07D48;">upStatusArr</span><span style="color:#999999;">)).</span><span style="color:#59873A;">map</span><span style="color:#999999;">((</span><span style="color:#B07D48;">item</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">    images.push({ </span><span style="color:#998418;">id</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">item</span><span style="color:#999999;">.</span><span style="color:#B07D48;">id</span><span style="color:#393A34;"> </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">})</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">pres</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#59873A;">postOneFeed</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">feed_content</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">feedInfo</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">feed_from</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">5</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">feed_mark</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">Date</span><span style="color:#999999;">().</span><span style="color:#59873A;">getTime</span><span style="color:#999999;">(),</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">images</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"></span></code></pre></div><ol start="5"><li>\u52A8\u6001\u53D1\u5E03\u6210\u529F\u540E\u901A\u77E5 index me \u9875\u9762\u66F4\u65B0</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// \u901A\u77E5\u4E2A\u4EBA\u4E2D\u5FC3 \u52A8\u6001\u66F4\u65B0\u4E86</span></span>
<span class="line"><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$emit</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">indexFeedsUpdate</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#758575DD;">// \u901A\u77E5\u9996\u9875 \u52A8\u6001\u66F4\u65B0\u4E86</span></span>
<span class="line"><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$emit</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">myFeedsUpdate</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#758575DD;">// index \u53D1\u5E03\u65B0\u7684\u52A8\u6001\u540E\uFF0C\u89E6\u53D1\u6570\u636E\u66F4\u65B0</span></span>
<span class="line"><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$on</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">indexFeedsUpdate</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.</span><span style="color:#BD976A;">currentSwiperIndex</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.</span><span style="color:#BD976A;">feedsList</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[]</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.$refs.waterfall.clear();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.getFeedsList();</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD;">// me \u7528\u6237\u53D1\u5E03\u4E00\u6761\u52A8\u6001\u540E\u89E6\u53D1\u6570\u636E\u66F4\u65B0</span></span>
<span class="line"><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">$on</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">myFeedsUpdate</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.$refs.waterfall.clear();</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    this.getInfos();</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// \u901A\u77E5\u4E2A\u4EBA\u4E2D\u5FC3 \u52A8\u6001\u66F4\u65B0\u4E86</span></span>
<span class="line"><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$emit</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">indexFeedsUpdate</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#A0ADA0;">// \u901A\u77E5\u9996\u9875 \u52A8\u6001\u66F4\u65B0\u4E86</span></span>
<span class="line"><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$emit</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">myFeedsUpdate</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#A0ADA0;">// index \u53D1\u5E03\u65B0\u7684\u52A8\u6001\u540E\uFF0C\u89E6\u53D1\u6570\u636E\u66F4\u65B0</span></span>
<span class="line"><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$on</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">indexFeedsUpdate</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">    this.</span><span style="color:#B07D48;">currentSwiperIndex</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    this.</span><span style="color:#B07D48;">feedsList</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">[]</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    this.$refs.waterfall.clear();</span></span>
<span class="line"><span style="color:#393A34;">    this.getFeedsList();</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// me \u7528\u6237\u53D1\u5E03\u4E00\u6761\u52A8\u6001\u540E\u89E6\u53D1\u6570\u636E\u66F4\u65B0</span></span>
<span class="line"><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">$on</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">myFeedsUpdate</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">    this.$refs.waterfall.clear();</span></span>
<span class="line"><span style="color:#393A34;">    this.getInfos();</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"></span></code></pre></div><h2 id="\u516D\u3001\u591A\u7AEF\u6253\u5305\u53D1\u5E03" tabindex="-1">\u516D\u3001\u591A\u7AEF\u6253\u5305\u53D1\u5E03 <a class="header-anchor" href="#\u516D\u3001\u591A\u7AEF\u6253\u5305\u53D1\u5E03" aria-hidden="true">#</a></h2><h3 id="_6-1-\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u6253\u5305\u53D1\u5E03" tabindex="-1">6.1 \u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u6253\u5305\u53D1\u5E03 <a class="header-anchor" href="#_6-1-\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u6253\u5305\u53D1\u5E03" aria-hidden="true">#</a></h3><p><img src="`+y+`" alt="6"></p><h3 id="_6-2-h5-\u7AEF\u76F8\u5173\u517C\u5BB9\u6027\u5F00\u53D1\u53CA\u6253\u5305\u53D1\u5E03" tabindex="-1">6.2 H5 \u7AEF\u76F8\u5173\u517C\u5BB9\u6027\u5F00\u53D1\u53CA\u6253\u5305\u53D1\u5E03 <a class="header-anchor" href="#_6-2-h5-\u7AEF\u76F8\u5173\u517C\u5BB9\u6027\u5F00\u53D1\u53CA\u6253\u5305\u53D1\u5E03" aria-hidden="true">#</a></h3><p>\u5173\u952E\u8C03\u6574\u8282\u70B9\uFF1A</p><ol><li>manifest.json H5 \u4E0B\u51FA\u73B0\u7684\u8DE8\u57DF\u95EE\u9898\u8981\u8FDB\u884C\u76F8\u5173\u914D\u7F6E</li></ol><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;">	 </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">h5</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> : </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">devServer</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">port</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">8000</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">disableHostCheck</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">proxy</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#758575DD;">//\u4F7F\u7528\u4EE3\u7406</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">/api</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#758575DD;">// &quot;target&quot;: &quot;http://47.115.83.135/api/v2&quot;,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">target</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">http://ts.lagou.uieee.com/api/v2</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">changeOrigin</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">pathRewrite</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                        </span><span style="color:#B8A965AA;">&quot;</span><span style="color:#B8A965;">^/api</span><span style="color:#B8A965AA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&quot;&quot;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#393A34;">	 </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">h5</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> : </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">devServer</span><span style="color:#998418AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">port</span><span style="color:#998418AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">8000</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">disableHostCheck</span><span style="color:#998418AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">proxy</span><span style="color:#998418AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#A0ADA0;">//\u4F7F\u7528\u4EE3\u7406</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">/api</span><span style="color:#998418AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#A0ADA0;">// &quot;target&quot;: &quot;http://47.115.83.135/api/v2&quot;,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">target</span><span style="color:#998418AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">http://ts.lagou.uieee.com/api/v2</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">changeOrigin</span><span style="color:#998418AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">pathRewrite</span><span style="color:#998418AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">                        </span><span style="color:#998418AA;">&quot;</span><span style="color:#998418;">^/api</span><span style="color:#998418AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&quot;&quot;</span></span>
<span class="line"><span style="color:#393A34;">                    </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">}</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>newinfo \\ feedinfo \u5FAE\u4FE1\u5206\u4EAB\u4EC5\u4EC5\u5728\u5FAE\u4FE1\u4E0B\u6709\u6548</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// #ifdef MP-WEIXIN</span></span>
<span class="line"><span style="color:#758575DD;">// \u5FAE\u4FE1\u6761\u4EF6\u4E0B\u5206\u4EAB\u5230\u670B\u53CB\u5708\u3001\u7FA4\u7EC4</span></span>
<span class="line"><span style="color:#BD976A;">wx</span><span style="color:#666666;">.</span><span style="color:#80A665;">showShareMenu</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">withShareTicket</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">true</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">menus</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">shareAppMessage</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">shareTimeline</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">],</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#758575DD;">// #endif</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// #ifdef MP-WEIXIN</span></span>
<span class="line"><span style="color:#A0ADA0;">// \u5FAE\u4FE1\u6761\u4EF6\u4E0B\u5206\u4EAB\u5230\u670B\u53CB\u5708\u3001\u7FA4\u7EC4</span></span>
<span class="line"><span style="color:#B07D48;">wx</span><span style="color:#999999;">.</span><span style="color:#59873A;">showShareMenu</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">withShareTicket</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">true</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">menus</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">shareAppMessage</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">shareTimeline</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">],</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#A0ADA0;">// #endif</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>comment \u7EC4\u4EF6\u5206\u4EAB\u6309\u94AE\u4EC5\u4EC5\u5728 \u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u4E0B\u5C55\u793A\uFF0C\u540C\u6B65 css \u8C03\u6574</li></ol><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">&lt;!-- \u8F6C\u53D1\u6B21\u6570\u7EDF\u8BA1 --&gt;</span></span>
<span class="line"><span style="color:#758575DD;">&lt;!-- #ifdef MP-WEIXIN --&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">button</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">mbtn mhare</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">open-type</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">share</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">image</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">micon</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">src</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">/static/wx.png</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">mode</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">aspectFit</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;"> /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">text</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#C98A7D;">mtext</span><span style="color:#C98A7DAA;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">\u5206\u4EAB</span><span style="color:#666666;">&lt;/</span><span style="color:#FDAEB7;">text</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">button</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#758575DD;">&lt;!-- #endif --&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">&lt;!-- \u8F6C\u53D1\u6B21\u6570\u7EDF\u8BA1 --&gt;</span></span>
<span class="line"><span style="color:#A0ADA0;">&lt;!-- #ifdef MP-WEIXIN --&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">button</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">mbtn mhare</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">open-type</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">share</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">image</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">micon</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">src</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">/static/wx.png</span><span style="color:#B56959AA;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">mode</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">aspectFit</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;"> /&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">text</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&quot;</span><span style="color:#B56959;">mtext</span><span style="color:#B56959AA;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">\u5206\u4EAB</span><span style="color:#999999;">&lt;/</span><span style="color:#B31D28;">text</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">button</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#A0ADA0;">&lt;!-- #endif --&gt;</span></span>
<span class="line"></span></code></pre></div><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">minput</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">background-color</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">#</span><span style="color:#C99076;">eee</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">height</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">60</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    // #</span><span style="color:#B8A965;">ifdef</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">MP-WEIXIN</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">width</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">300</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    // #</span><span style="color:#B8A965;">endif</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    // #</span><span style="color:#B8A965;">ifndef</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">MP-WEIXIN</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">width</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">440</span><span style="color:#DBD7CAEE;">upx</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    // #</span><span style="color:#B8A965;">endif</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">minput</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">background-color</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">#</span><span style="color:#A65E2B;">eee</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">height</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">60</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    // #</span><span style="color:#998418;">ifdef</span><span style="color:#393A34;"> </span><span style="color:#998418;">MP-WEIXIN</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">width</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">300</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    // #</span><span style="color:#998418;">endif</span></span>
<span class="line"><span style="color:#393A34;">    // #</span><span style="color:#998418;">ifndef</span><span style="color:#393A34;"> </span><span style="color:#998418;">MP-WEIXIN</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">width</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">440</span><span style="color:#393A34;">upx</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    // #</span><span style="color:#998418;">endif</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"></span></code></pre></div><ol start="4"><li>comment \u5FAE\u4FE1\u654F\u611F\u8BCD\u63A5\u53E3\u8C03\u7528\u4EC5\u5728\u5FAE\u4FE1\u4E0B\u6709\u6548</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// #ifdef MP-WEIXIN</span></span>
<span class="line"><span style="color:#758575DD;">// \u654F\u611F\u8BCD\u4FE1\u606F\u5224\u5B9A</span></span>
<span class="line"><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">cres</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#80A665;">doMsgSecCheck</span><span style="color:#666666;">(</span><span style="color:#C99076;">this</span><span style="color:#666666;">.</span><span style="color:#BD976A;">cinput</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#4D9375;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">cres</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">Response</span><span style="color:#666666;">.</span><span style="color:#BD976A;">EvilTokens</span><span style="color:#666666;">.</span><span style="color:#B8A965;">length</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">showModal</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">title</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u654F\u611F\u8BCD\u5BA1\u6838</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">content</span><span style="color:#666666;">:</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u60A8\u53D1\u5E03\u7684\u8BC4\u8BBA\u6D89\u53CA\u654F\u611F\u8BCD\uFF1A</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">cres</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">Response</span><span style="color:#666666;">.</span><span style="color:#BD976A;">EvilTokens</span><span style="color:#666666;">[</span><span style="color:#4C9A91;">0</span><span style="color:#666666;">].</span><span style="color:#BD976A;">EvilKeywords</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#4D9375;">return</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#758575DD;">// #endif</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// #ifdef MP-WEIXIN</span></span>
<span class="line"><span style="color:#A0ADA0;">// \u654F\u611F\u8BCD\u4FE1\u606F\u5224\u5B9A</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">cres</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#59873A;">doMsgSecCheck</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">this</span><span style="color:#999999;">.</span><span style="color:#B07D48;">cinput</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#1E754F;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">cres</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">Response</span><span style="color:#999999;">.</span><span style="color:#B07D48;">EvilTokens</span><span style="color:#999999;">.</span><span style="color:#998418;">length</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">showModal</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">title</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u654F\u611F\u8BCD\u5BA1\u6838</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">content</span><span style="color:#999999;">:</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u60A8\u53D1\u5E03\u7684\u8BC4\u8BBA\u6D89\u53CA\u654F\u611F\u8BCD\uFF1A</span><span style="color:#B56959AA;">&#39;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">cres</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">Response</span><span style="color:#999999;">.</span><span style="color:#B07D48;">EvilTokens</span><span style="color:#999999;">[</span><span style="color:#2F798A;">0</span><span style="color:#999999;">].</span><span style="color:#B07D48;">EvilKeywords</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1E754F;">return</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#A0ADA0;">// #endif</span></span>
<span class="line"></span></code></pre></div><ol start="5"><li>login \u767B\u9646\u7EC4\u4EF6\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u903B\u8F91\u8C03\u6574</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// #ifdef MP-WEIXIN</span></span>
<span class="line"><span style="color:#BD976A;">wx</span><span style="color:#666666;">.</span><span style="color:#80A665;">getSetting</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">success</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">res</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#80A665;">if</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#DBD7CAEE;">res.authSetting</span><span style="color:#666666;">[</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">scope.userInfo</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">])</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">getUserInfo</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">success</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">res</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#666666;">                    </span><span style="color:#758575DD;">// \u5982\u679C\u7528\u6237\u6388\u6743\u4E86\uFF0C\u5219\u505A\u4E24\u4EF6\u4E8B\uFF0C\u7B2C\u4E00\u4EF6\u4E8B</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    this.form.</span><span style="color:#BD976A;">login</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">userInfo</span><span style="color:#666666;">.</span><span style="color:#BD976A;">nickName</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    this.form.</span><span style="color:#BD976A;">name</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">userInfo</span><span style="color:#666666;">.</span><span style="color:#BD976A;">nickName</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    this.form.</span><span style="color:#BD976A;">avatar</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#BD976A;">userInfo</span><span style="color:#666666;">.</span><span style="color:#BD976A;">avatarUrl</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    this.</span><span style="color:#BD976A;">getUserInfoTag</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">false</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                </span><span style="color:#B8A965;">fail</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">                    console.log(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u7528\u6237\u672A\u6388\u6743\uFF01</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#B8A965;">);</span></span>
<span class="line"><span style="color:#B8A965;">                },</span></span>
<span class="line"><span style="color:#B8A965;">            });</span></span>
<span class="line"><span style="color:#B8A965;">        }</span></span>
<span class="line"><span style="color:#B8A965;">    },</span></span>
<span class="line"><span style="color:#B8A965;">});</span></span>
<span class="line"><span style="color:#758575DD;">// #endif</span></span>
<span class="line"><span style="color:#758575DD;">// #ifndef MP-WEIXIN</span></span>
<span class="line"><span style="color:#B8A965;">this.getUserInfoTag = false;</span></span>
<span class="line"><span style="color:#758575DD;">// #endif</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// #ifdef MP-WEIXIN</span></span>
<span class="line"><span style="color:#B07D48;">wx</span><span style="color:#999999;">.</span><span style="color:#59873A;">getSetting</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">success</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">res</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#59873A;">if</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#393A34;">res.authSetting</span><span style="color:#999999;">[</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">scope.userInfo</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">])</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">getUserInfo</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">success</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">res</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#999999;">                    </span><span style="color:#A0ADA0;">// \u5982\u679C\u7528\u6237\u6388\u6743\u4E86\uFF0C\u5219\u505A\u4E24\u4EF6\u4E8B\uFF0C\u7B2C\u4E00\u4EF6\u4E8B</span></span>
<span class="line"><span style="color:#393A34;">                    this.form.</span><span style="color:#B07D48;">login</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userInfo</span><span style="color:#999999;">.</span><span style="color:#B07D48;">nickName</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">                    this.form.</span><span style="color:#B07D48;">name</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userInfo</span><span style="color:#999999;">.</span><span style="color:#B07D48;">nickName</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">                    this.form.</span><span style="color:#B07D48;">avatar</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#B07D48;">userInfo</span><span style="color:#999999;">.</span><span style="color:#B07D48;">avatarUrl</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">                    this.</span><span style="color:#B07D48;">getUserInfoTag</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">false</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#998418;">fail</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">                    console.log(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u7528\u6237\u672A\u6388\u6743\uFF01</span><span style="color:#B56959AA;">&#39;</span><span style="color:#998418;">);</span></span>
<span class="line"><span style="color:#998418;">                },</span></span>
<span class="line"><span style="color:#998418;">            });</span></span>
<span class="line"><span style="color:#998418;">        }</span></span>
<span class="line"><span style="color:#998418;">    },</span></span>
<span class="line"><span style="color:#998418;">});</span></span>
<span class="line"><span style="color:#A0ADA0;">// #endif</span></span>
<span class="line"><span style="color:#A0ADA0;">// #ifndef MP-WEIXIN</span></span>
<span class="line"><span style="color:#998418;">this.getUserInfoTag = false;</span></span>
<span class="line"><span style="color:#A0ADA0;">// #endif</span></span>
<span class="line"></span></code></pre></div><ol start="6"><li>http.api.js API \u7BA1\u7406\u5668 \u6587\u4EF6\u4E0A\u4F20\u903B\u8F91\u8C03\u6574</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// \u6587\u4EF6\u4E0A\u4F20\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#BD976A;">api</span><span style="color:#666666;">.</span><span style="color:#BD976A;">uploadFile</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">file</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">={</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    let </span><span style="color:#BD976A;">rfile</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">file</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// #ifdef MP-WEIXIN</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">rfile</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">getFileSystemManager</span><span style="color:#666666;">().</span><span style="color:#80A665;">readFileSync</span><span style="color:#666666;">(</span><span style="color:#BD976A;">file</span><span style="color:#666666;">.</span><span style="color:#BD976A;">path</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// #endif</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#758575DD;">// \u5C06\u6587\u4EF6\u5199\u5165\u540E\u53F0\u7CFB\u7EDF\u7CFB\u7EDF</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    let </span><span style="color:#BD976A;">ufile</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">uploadFile</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">url</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">vm</span><span style="color:#666666;">.</span><span style="color:#BD976A;">$u</span><span style="color:#666666;">.</span><span style="color:#BD976A;">http</span><span style="color:#666666;">.</span><span style="color:#BD976A;">config</span><span style="color:#666666;">.</span><span style="color:#BD976A;">baseUrl</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">/files</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">header</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#B8A965;">Authorization</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">Bearer </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">uni</span><span style="color:#666666;">.</span><span style="color:#80A665;">getStorageSync</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">token</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">),</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">name</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">file</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">file</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">rfile</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#B8A965;">filePath</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">file</span><span style="color:#666666;">.</span><span style="color:#BD976A;">path</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">})</span><span style="color:#DBD7CAEE;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    console.log(JSON.parse(ufile</span><span style="color:#666666;">[</span><span style="color:#4C9A91;">1</span><span style="color:#666666;">]</span><span style="color:#B8A965;">.data));</span></span>
<span class="line"><span style="color:#B8A965;">    return JSON.parse(ufile</span><span style="color:#666666;">[</span><span style="color:#4C9A91;">1</span><span style="color:#666666;">]</span><span style="color:#B8A965;">.data);</span></span>
<span class="line"><span style="color:#B8A965;">};</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// \u6587\u4EF6\u4E0A\u4F20\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#B07D48;">api</span><span style="color:#999999;">.</span><span style="color:#B07D48;">uploadFile</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">async</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">file</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">={</span></span>
<span class="line"><span style="color:#393A34;">    let </span><span style="color:#B07D48;">rfile</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">file</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// #ifdef MP-WEIXIN</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">rfile</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">getFileSystemManager</span><span style="color:#999999;">().</span><span style="color:#59873A;">readFileSync</span><span style="color:#999999;">(</span><span style="color:#B07D48;">file</span><span style="color:#999999;">.</span><span style="color:#B07D48;">path</span><span style="color:#999999;">)</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// #endif</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#A0ADA0;">// \u5C06\u6587\u4EF6\u5199\u5165\u540E\u53F0\u7CFB\u7EDF\u7CFB\u7EDF</span></span>
<span class="line"><span style="color:#393A34;">    let </span><span style="color:#B07D48;">ufile</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">uploadFile</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">url</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">vm</span><span style="color:#999999;">.</span><span style="color:#B07D48;">$u</span><span style="color:#999999;">.</span><span style="color:#B07D48;">http</span><span style="color:#999999;">.</span><span style="color:#B07D48;">config</span><span style="color:#999999;">.</span><span style="color:#B07D48;">baseUrl</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">/files</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">header</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#998418;">Authorization</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">Bearer </span><span style="color:#B56959AA;">&#39;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">uni</span><span style="color:#999999;">.</span><span style="color:#59873A;">getStorageSync</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">token</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">),</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">file</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">file</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">rfile</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#998418;">filePath</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">file</span><span style="color:#999999;">.</span><span style="color:#B07D48;">path</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">})</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    console.log(JSON.parse(ufile</span><span style="color:#999999;">[</span><span style="color:#2F798A;">1</span><span style="color:#999999;">]</span><span style="color:#998418;">.data));</span></span>
<span class="line"><span style="color:#998418;">    return JSON.parse(ufile</span><span style="color:#999999;">[</span><span style="color:#2F798A;">1</span><span style="color:#999999;">]</span><span style="color:#998418;">.data);</span></span>
<span class="line"><span style="color:#998418;">};</span></span>
<span class="line"></span></code></pre></div><p>PS: \u53EF\u4EE5\u4F7F\u7528\u6258\u7BA1\u5DE5\u5177\uFF0C\u5FEB\u901F\u53D1\u5E03\u4F53\u9A8C\uFF0C\u5C24\u5176\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF1A\u5F00\u53D1\u7684\u65F6\u5019\u914D\u7F6E\u7684\u4EE3\u7406\u670D\u52A1\u5668\uFF0C\u5728\u6B63\u5F0F\u73AF\u5883\u6253\u5305\u7684\u65F6\u5019\u662F\u4E0D\u4F1A\u88AB\u8C03\u7528\u7684\uFF0C\u6240\u4EE5\u8981\u66F4\u6539\u5BF9\u5E94\u7684\u914D\u7F6E\u4FE1\u606F</p><p><img src="`+s+'" alt="8"></p><h3 id="_6-3-\u5B89\u5353\u4E91\u7AEF\u4F53\u9A8C\u7248\u672C\u6253\u5305\u53D1\u5E03" tabindex="-1">6.3 \u5B89\u5353\u4E91\u7AEF\u4F53\u9A8C\u7248\u672C\u6253\u5305\u53D1\u5E03 <a class="header-anchor" href="#_6-3-\u5B89\u5353\u4E91\u7AEF\u4F53\u9A8C\u7248\u672C\u6253\u5305\u53D1\u5E03" aria-hidden="true">#</a></h3><p><img src="'+s+'" alt="7"></p>',190),i=[D];function B(E,C,u,d,g,h){return l(),a("div",null,i)}const f=n(A,[["render",B]]);export{m as __pageData,f as default};
