import{_ as s,c as l,o as a,a as n}from"./app.a1d4ca27.js";const p="/assets/1.ba77237f.png",o="/assets/2.1a99f5bd.png",e="/assets/3.fc7b2444.png",t="/assets/4.7e4cadcd.png",u=JSON.parse('{"title":"\u7F51\u7EDC\u4F20\u8F93","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u8DE8\u57DF\u662F\u4EC0\u4E48\uFF1F\u5982\u4F55\u89E3\u51B3\u8DE8\u57DF\uFF1F","slug":"\u8DE8\u57DF\u662F\u4EC0\u4E48-\u5982\u4F55\u89E3\u51B3\u8DE8\u57DF","link":"#\u8DE8\u57DF\u662F\u4EC0\u4E48-\u5982\u4F55\u89E3\u51B3\u8DE8\u57DF","children":[]},{"level":2,"title":"jsonp \u539F\u7406","slug":"jsonp-\u539F\u7406","link":"#jsonp-\u539F\u7406","children":[]},{"level":2,"title":"websocket \u7684\u539F\u7406","slug":"websocket-\u7684\u539F\u7406","link":"#websocket-\u7684\u539F\u7406","children":[]},{"level":2,"title":"\u4FDD\u6301\u524D\u540E\u7AEF\u5B9E\u65F6\u901A\u4FE1?","slug":"\u4FDD\u6301\u524D\u540E\u7AEF\u5B9E\u65F6\u901A\u4FE1","link":"#\u4FDD\u6301\u524D\u540E\u7AEF\u5B9E\u65F6\u901A\u4FE1","children":[]},{"level":2,"title":"\u5E38\u89C1 http status","slug":"\u5E38\u89C1-http-status","link":"#\u5E38\u89C1-http-status","children":[]},{"level":2,"title":"http \u548C https","slug":"http-\u548C-https","link":"#http-\u548C-https","children":[]},{"level":2,"title":"http1.x \u548C http2.x \u533A\u522B","slug":"http1-x-\u548C-http2-x-\u533A\u522B","link":"#http1-x-\u548C-http2-x-\u533A\u522B","children":[]},{"level":2,"title":"http \u8BF7\u6C42\u65B9\u5F0F","slug":"http-\u8BF7\u6C42\u65B9\u5F0F","link":"#http-\u8BF7\u6C42\u65B9\u5F0F","children":[]},{"level":2,"title":"HTTPS \u5982\u4F55\u4FDD\u8BC1\u5B89\u5168","slug":"https-\u5982\u4F55\u4FDD\u8BC1\u5B89\u5168","link":"#https-\u5982\u4F55\u4FDD\u8BC1\u5B89\u5168","children":[]},{"level":2,"title":"\u975E\u5BF9\u79F0\u52A0\u5BC6\u548C\u5BF9\u79F0\u52A0\u5BC6\uFF0C\u5177\u4F53\u600E\u4E48\u5B9E\u73B0\u7684","slug":"\u975E\u5BF9\u79F0\u52A0\u5BC6\u548C\u5BF9\u79F0\u52A0\u5BC6-\u5177\u4F53\u600E\u4E48\u5B9E\u73B0\u7684","link":"#\u975E\u5BF9\u79F0\u52A0\u5BC6\u548C\u5BF9\u79F0\u52A0\u5BC6-\u5177\u4F53\u600E\u4E48\u5B9E\u73B0\u7684","children":[]},{"level":2,"title":"HTTPS \u901A\u4FE1\u7684\u6574\u4E2A\u8FC7\u7A0B","slug":"https-\u901A\u4FE1\u7684\u6574\u4E2A\u8FC7\u7A0B","link":"#https-\u901A\u4FE1\u7684\u6574\u4E2A\u8FC7\u7A0B","children":[]},{"level":2,"title":"\u8BB2\u89E3\u4E00\u4E0B option \u8BF7\u6C42\u65B9\u5F0F","slug":"\u8BB2\u89E3\u4E00\u4E0B-option-\u8BF7\u6C42\u65B9\u5F0F","link":"#\u8BB2\u89E3\u4E00\u4E0B-option-\u8BF7\u6C42\u65B9\u5F0F","children":[]},{"level":2,"title":"tcp \u4E09\u6B21\u63E1\u624B\uFF0C\u4E3A\u4EC0\u4E48\u9700\u8981\u4E09\u6B21","slug":"tcp-\u4E09\u6B21\u63E1\u624B-\u4E3A\u4EC0\u4E48\u9700\u8981\u4E09\u6B21","link":"#tcp-\u4E09\u6B21\u63E1\u624B-\u4E3A\u4EC0\u4E48\u9700\u8981\u4E09\u6B21","children":[]},{"level":2,"title":"https \u52A0\u5BC6\u89E3\u5BC6\u6D41\u7A0B","slug":"https-\u52A0\u5BC6\u89E3\u5BC6\u6D41\u7A0B","link":"#https-\u52A0\u5BC6\u89E3\u5BC6\u6D41\u7A0B","children":[]},{"level":2,"title":"TCP vs UDP","slug":"tcp-vs-udp","link":"#tcp-vs-udp","children":[]},{"level":2,"title":"301 \u548C 302 \u7684\u542B\u4E49","slug":"_301-\u548C-302-\u7684\u542B\u4E49","link":"#_301-\u548C-302-\u7684\u542B\u4E49","children":[]},{"level":2,"title":"http \u7F13\u5B58\u6709\u51E0\u79CD\uFF1F","slug":"http-\u7F13\u5B58\u6709\u51E0\u79CD","link":"#http-\u7F13\u5B58\u6709\u51E0\u79CD","children":[]},{"level":2,"title":"\u534F\u5546\u7F13\u5B58\u539F\u7406\uFF0C\u8C01\u8DDF\u8C01\u534F\u5546\uFF0C\u5982\u4F55\u534F\u5546\uFF1F","slug":"\u534F\u5546\u7F13\u5B58\u539F\u7406-\u8C01\u8DDF\u8C01\u534F\u5546-\u5982\u4F55\u534F\u5546","link":"#\u534F\u5546\u7F13\u5B58\u539F\u7406-\u8C01\u8DDF\u8C01\u534F\u5546-\u5982\u4F55\u534F\u5546","children":[]},{"level":2,"title":"GET \u548C POST \u533A\u522B","slug":"get-\u548C-post-\u533A\u522B","link":"#get-\u548C-post-\u533A\u522B","children":[]},{"level":2,"title":"OSI \u4E03\u5C42\u534F\u8BAE","slug":"osi-\u4E03\u5C42\u534F\u8BAE","link":"#osi-\u4E03\u5C42\u534F\u8BAE","children":[]},{"level":2,"title":"keep-alive \u662F\u4EC0\u4E48\uFF1F","slug":"keep-alive-\u662F\u4EC0\u4E48","link":"#keep-alive-\u662F\u4EC0\u4E48","children":[]},{"level":2,"title":"\u5E38\u7528\u7684 http \u8BF7\u6C42\u5934\u4EE5\u53CA\u54CD\u5E94\u5934","slug":"\u5E38\u7528\u7684-http-\u8BF7\u6C42\u5934\u4EE5\u53CA\u54CD\u5E94\u5934","link":"#\u5E38\u7528\u7684-http-\u8BF7\u6C42\u5934\u4EE5\u53CA\u54CD\u5E94\u5934","children":[]},{"level":2,"title":"http \u7F13\u5B58\u7B56\u7565","slug":"http-\u7F13\u5B58\u7B56\u7565","link":"#http-\u7F13\u5B58\u7B56\u7565","children":[]},{"level":2,"title":"no-store \u548C no-cache \u7684\u533A\u522B","slug":"no-store-\u548C-no-cache-\u7684\u533A\u522B","link":"#no-store-\u548C-no-cache-\u7684\u533A\u522B","children":[]},{"level":2,"title":"\u4EC0\u4E48\u662F\u7C98\u5305\u95EE\u9898\uFF0C\u5982\u4F55\u89E3\u51B3\uFF1F","slug":"\u4EC0\u4E48\u662F\u7C98\u5305\u95EE\u9898-\u5982\u4F55\u89E3\u51B3","link":"#\u4EC0\u4E48\u662F\u7C98\u5305\u95EE\u9898-\u5982\u4F55\u89E3\u51B3","children":[]}],"relativePath":"JavaScript/WebSafety/Transfer.md"}'),r={name:"JavaScript/WebSafety/Transfer.md"},c=n('<h1 id="\u7F51\u7EDC\u4F20\u8F93" tabindex="-1">\u7F51\u7EDC\u4F20\u8F93 <a class="header-anchor" href="#\u7F51\u7EDC\u4F20\u8F93" aria-hidden="true">#</a></h1><p>\u53C2\u8003\uFF1A<br><a href="https://www.nowcoder.com/issue/tutorial?tutorialId=96&amp;uuid=6b04165463a84068a931f70c14cdf0c4" target="_blank" rel="noreferrer">https://www.nowcoder.com/issue/tutorial?tutorialId=96&amp;uuid=6b04165463a84068a931f70c14cdf0c4</a></p><h2 id="\u8DE8\u57DF\u662F\u4EC0\u4E48-\u5982\u4F55\u89E3\u51B3\u8DE8\u57DF" tabindex="-1">\u8DE8\u57DF\u662F\u4EC0\u4E48\uFF1F\u5982\u4F55\u89E3\u51B3\u8DE8\u57DF\uFF1F <a class="header-anchor" href="#\u8DE8\u57DF\u662F\u4EC0\u4E48-\u5982\u4F55\u89E3\u51B3\u8DE8\u57DF" aria-hidden="true">#</a></h2><p>\u4EC0\u4E48\u662F\u540C\u6E90\u7B56\u7565\u53CA\u5176\u9650\u5236\u5185\u5BB9\uFF1F<br> \u540C\u6E90\u7B56\u7565\u662F\u4E00\u79CD\u7EA6\u5B9A\uFF0C\u5B83\u662F\u6D4F\u89C8\u5668\u6700\u6838\u5FC3\u4E5F\u6700\u57FA\u672C\u7684\u5B89\u5168\u529F\u80FD\uFF0C\u5982\u679C\u7F3A\u5C11\u4E86\u540C\u6E90\u7B56\u7565\uFF0C\u6D4F\u89C8\u5668\u5F88\u5BB9\u6613\u53D7\u5230 XSS\u3001CSRF \u7B49\u653B\u51FB\u3002\u6240\u8C13\u540C\u6E90\u662F\u6307&quot;\u534F\u8BAE+\u57DF\u540D+\u7AEF\u53E3&quot;\u4E09\u8005\u76F8\u540C\uFF0C\u5373\u4FBF\u4E24\u4E2A\u4E0D\u540C\u7684\u57DF\u540D\u6307\u5411\u540C\u4E00\u4E2A ip \u5730\u5740\uFF0C\u4E5F\u975E\u540C\u6E90\u3002<br><img src="'+p+`" alt="image.png"></p><p>\u540C\u6E90\u7B56\u7565\u9650\u5236\u5185\u5BB9\u6709\uFF1A</p><ul><li>Cookie\u3001LocalStorage\u3001IndexedDB \u7B49\u5B58\u50A8\u6027\u5185\u5BB9</li><li>DOM \u8282\u70B9</li><li>AJAX \u8BF7\u6C42\u53D1\u9001\u540E\uFF0C\u7ED3\u679C\u88AB\u6D4F\u89C8\u5668\u62E6\u622A\u4E86</li></ul><p>\u4F46\u662F\u6709\u4E09\u4E2A\u6807\u7B7E\u662F\u5141\u8BB8\u8DE8\u57DF\u52A0\u8F7D\u8D44\u6E90\uFF1A</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">img</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">src</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">xxx</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">link</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">href</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">xxx</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">script</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">src</span><span style="color:#666666;">=</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">xxx</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">img</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">src</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">xxx</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">link</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">href</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">xxx</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">script</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">src</span><span style="color:#999999;">=</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">xxx</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>\u8DE8\u57DF\u5E76\u4E0D\u662F\u8BF7\u6C42\u53D1\u4E0D\u51FA\u53BB\uFF0C\u8BF7\u6C42\u80FD\u53D1\u51FA\u53BB\uFF0C\u670D\u52A1\u7AEF\u80FD\u6536\u5230\u8BF7\u6C42\u5E76\u6B63\u5E38\u8FD4\u56DE\u7ED3\u679C\uFF0C\u53EA\u662F\u7ED3\u679C\u88AB\u6D4F\u89C8\u5668\u62E6\u622A\u4E86\u3002</p><p>\u8DE8\u57DF\u89E3\u51B3\u65B9\u6848:</p><ul><li>jsonp\u3001</li><li>cors\u3001</li><li>postMessage\u3001</li><li>websocket\u3001</li><li>Node \u4E2D\u95F4\u4EF6\u4EE3\u7406(\u4E24\u6B21\u8DE8\u57DF)\u3001</li><li>nginx \u53CD\u5411\u4EE3\u7406\u3001</li><li><a href="http://window.name" target="_blank" rel="noreferrer">window.name</a> + iframe\u3001</li><li>location.hash + iframe\u3001</li><li>document.domain + iframe</li></ul><p><strong>CORS \u652F\u6301\u6240\u6709\u7C7B\u578B\u7684 HTTP \u8BF7\u6C42\uFF0C\u662F\u8DE8\u57DF HTTP \u8BF7\u6C42\u7684\u6839\u672C\u89E3\u51B3\u65B9\u6848</strong>\uFF0CJSONP \u53EA\u652F\u6301 GET \u8BF7\u6C42\uFF0CJSONP \u7684\u4F18\u52BF\u5728\u4E8E\u652F\u6301\u8001\u5F0F\u6D4F\u89C8\u5668\uFF0C\u4EE5\u53CA\u53EF\u4EE5\u5411\u4E0D\u652F\u6301 CORS \u7684\u7F51\u7AD9\u8BF7\u6C42\u6570\u636E\u3002\u4E0D\u7BA1\u662F Node \u4E2D\u95F4\u4EF6\u4EE3\u7406\u8FD8\u662F nginx \u53CD\u5411\u4EE3\u7406\uFF0C\u4E3B\u8981\u662F\u901A\u8FC7\u540C\u6E90\u7B56\u7565\u5BF9\u670D\u52A1\u5668\u4E0D\u52A0\u9650\u5236\u3002\u65E5\u5E38\u5DE5\u4F5C\u4E2D\uFF0C\u7528\u5F97\u6BD4\u8F83\u591A\u7684\u8DE8\u57DF\u65B9\u6848\u662F<strong>cors \u548C nginx \u53CD\u5411\u4EE3\u7406</strong></p><h4 id="_1-jsonp" tabindex="-1">1. jsonp <a class="header-anchor" href="#_1-jsonp" aria-hidden="true">#</a></h4><ul><li>JSONP \u539F\u7406 <ul><li>\u5229\u7528<code>&lt;script&gt;</code>\u6807\u7B7E\u6CA1\u6709\u8DE8\u57DF\u9650\u5236\u7684\u6F0F\u6D1E\uFF0C\u7F51\u9875\u53EF\u4EE5\u5F97\u5230\u4ECE\u5176\u4ED6\u6765\u6E90\u52A8\u6001\u4EA7\u751F\u7684 JSON \u6570\u636E\u3002JSONP \u8BF7\u6C42\u4E00\u5B9A \u9700\u8981\u5BF9\u65B9\u7684\u670D\u52A1\u5668\u505A\u652F\u6301\u624D\u53EF\u4EE5</li></ul></li><li>JSONP \u4F18\u7F3A\u70B9 <ul><li>\u4F18\u70B9\u662F\u7B80\u5355\u517C\u5BB9\u6027\u597D\uFF0C\u53EF\u7528\u4E8E\u89E3\u51B3\u4E3B\u6D41\u6D4F\u89C8\u5668\u7684\u8DE8\u57DF\u6570\u636E\u8BBF\u95EE\u7684\u95EE\u9898\u3002\u7F3A\u70B9\u662F\u4EC5\u652F\u6301 get \u65B9\u6CD5\u5177\u6709\u5C40\u9650\u6027, \u4E0D\u5B89\u5168\u53EF\u80FD\u4F1A\u906D\u53D7 XSS \u653B\u51FB</li></ul></li><li>JSONP \u7684\u5B9E\u73B0\u6D41\u7A0B <ul><li>\u58F0\u660E\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\uFF0C\u5176\u51FD\u6570\u540D(\u5982 show)\u5F53\u505A\u53C2\u6570\u503C\uFF0C\u8981\u4F20\u9012\u7ED9\u8DE8\u57DF\u8BF7\u6C42\u6570\u636E\u7684\u670D\u52A1\u5668\uFF0C\u51FD\u6570\u5F62\u53C2\u4E3A\u8981\u83B7\u53D6\u76EE \u6807\u6570\u636E(\u670D\u52A1\u5668\u8FD4\u56DE\u7684 data)\u3002 \u521B\u5EFA\u4E00\u4E2A\`\`\u6807\u7B7E\uFF0C\u628A\u90A3\u4E2A\u8DE8\u57DF\u7684 API \u6570\u636E\u63A5\u53E3\u5730\u5740\uFF0C\u8D4B\u503C\u7ED9 script \u7684 src,\u8FD8\u8981\u5728\u8FD9\u4E2A\u5730\u5740\u4E2D\u5411\u670D\u52A1\u5668\u4F20\u9012\u8BE5\u51FD\u6570 \u540D\uFF08\u53EF\u4EE5\u901A\u8FC7\u95EE\u53F7\u4F20\u53C2:?callback=show\uFF09\u3002 \u670D\u52A1\u5668\u63A5\u6536\u5230\u8BF7\u6C42\u540E\uFF0C\u9700\u8981\u8FDB\u884C\u7279\u6B8A\u7684\u5904\u7406\uFF1A\u628A\u4F20\u9012\u8FDB\u6765\u7684\u51FD\u6570\u540D\u548C\u5B83\u9700\u8981\u7ED9\u4F60\u7684\u6570\u636E\u62FC\u63A5\u6210\u4E00\u4E2A\u5B57\u7B26\u4E32,\u4F8B \u5982\uFF1A\u4F20\u9012\u8FDB\u53BB\u7684\u51FD\u6570\u540D\u662F show\uFF0C\u5B83\u51C6\u5907\u597D\u7684\u6570\u636E\u662F show(&#39;\u6211\u4E0D\u7231\u4F60&#39;)\u3002 \u6700\u540E\u670D\u52A1\u5668\u628A\u51C6\u5907\u7684\u6570\u636E\u901A\u8FC7 HTTP \u534F\u8BAE\u8FD4\u56DE\u7ED9\u5BA2\u6237\u7AEF\uFF0C\u5BA2\u6237\u7AEF\u518D\u8C03\u7528\u6267\u884C\u4E4B\u524D\u58F0\u660E\u7684\u56DE\u8C03\u51FD\u6570\uFF08show\uFF09\uFF0C\u5BF9 \u8FD4\u56DE\u7684\u6570\u636E\u8FDB\u884C\u64CD\u4F5C\u3002</li></ul></li></ul><h4 id="_2-cors" tabindex="-1">2. cors <a class="header-anchor" href="#_2-cors" aria-hidden="true">#</a></h4><p>CORS \u9700\u8981\u6D4F\u89C8\u5668\u548C\u540E\u7AEF\u540C\u65F6\u652F\u6301\u3002IE 8 \u548C 9 \u9700\u8981\u901A\u8FC7 XDomainRequest \u6765\u5B9E\u73B0\u3002<br> \u6D4F\u89C8\u5668\u4F1A\u81EA\u52A8\u8FDB\u884C CORS \u901A\u4FE1\uFF0C\u5B9E\u73B0 CORS \u901A\u4FE1\u7684\u5173\u952E\u662F\u540E\u7AEF\u3002\u53EA\u8981\u540E\u7AEF\u5B9E\u73B0\u4E86 CORS\uFF0C\u5C31\u5B9E\u73B0\u4E86\u8DE8\u57DF\u3002<br> \u670D\u52A1\u7AEF\u8BBE\u7F6E Access-Control-Allow-Origin \u5C31\u53EF\u4EE5\u5F00\u542F CORS\u3002 \u8BE5\u5C5E\u6027\u8868\u793A\u54EA\u4E9B\u57DF\u540D\u53EF\u4EE5\u8BBF\u95EE\u8D44\u6E90\uFF0C\u5982\u679C\u8BBE\u7F6E\u901A\u914D\u7B26\u5219\u8868\u793A\u6240\u6709\u7F51\u7AD9\u90FD\u53EF\u4EE5\u8BBF\u95EE\u8D44\u6E90\u3002</p><h4 id="_3-postmessage" tabindex="-1">3. postMessage <a class="header-anchor" href="#_3-postmessage" aria-hidden="true">#</a></h4><p>postMessage \u662F HTML5 XMLHttpRequest Level 2 \u4E2D\u7684 API\uFF0C\u4E14\u662F\u4E3A\u6570\u4E0D\u591A\u53EF\u4EE5\u8DE8\u57DF\u64CD\u4F5C\u7684 window \u5C5E\u6027\u4E4B\u4E00\uFF0C\u5B83\u53EF\u7528\u4E8E\u89E3\u51B3\u4EE5\u4E0B\u65B9\u9762\u7684\u95EE\u9898\uFF1A</p><ul><li>\u9875\u9762\u548C\u5176\u6253\u5F00\u7684\u65B0\u7A97\u53E3\u7684\u6570\u636E\u4F20\u9012</li><li>\u591A\u7A97\u53E3\u4E4B\u95F4\u6D88\u606F\u4F20\u9012</li><li>\u9875\u9762\u4E0E\u5D4C\u5957\u7684 iframe \u6D88\u606F\u4F20\u9012</li><li>\u4E0A\u9762\u4E09\u4E2A\u573A\u666F\u7684\u8DE8\u57DF\u6570\u636E\u4F20\u9012</li></ul><p><strong>postMessage()\u65B9\u6CD5\u5141\u8BB8\u6765\u81EA\u4E0D\u540C\u6E90\u7684\u811A\u672C\u91C7\u7528\u5F02\u6B65\u65B9\u5F0F\u8FDB\u884C\u6709\u9650\u7684\u901A\u4FE1\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u8DE8\u6587\u672C\u6863\u3001\u591A\u7A97\u53E3\u3001\u8DE8\u57DF\u6D88\u606F\u4F20\u9012\u3002</strong></p><h4 id="_4-websocket" tabindex="-1">4. websocket <a class="header-anchor" href="#_4-websocket" aria-hidden="true">#</a></h4><p>Websocket \u662F HTML5 \u7684\u4E00\u4E2A\u6301\u4E45\u5316\u7684\u534F\u8BAE\uFF0C\u5B83\u5B9E\u73B0\u4E86\u6D4F\u89C8\u5668\u4E0E\u670D\u52A1\u5668\u7684\u5168\u53CC\u5DE5\u901A\u4FE1\uFF0C\u540C\u65F6\u4E5F\u662F\u8DE8\u57DF\u7684\u4E00\u79CD\u89E3\u51B3\u65B9\u6848\u3002WebSocket \u548C HTTP \u90FD\u662F\u5E94\u7528\u5C42\u534F\u8BAE\uFF0C\u90FD\u57FA\u4E8E TCP \u534F\u8BAE\u3002\u4F46\u662F WebSocket \u662F\u4E00\u79CD\u53CC\u5411\u901A\u4FE1\u534F\u8BAE\uFF0C\u5728\u5EFA\u7ACB\u8FDE\u63A5\u4E4B\u540E\uFF0CWebSocket \u7684 server \u4E0E client \u90FD\u80FD\u4E3B\u52A8\u5411\u5BF9\u65B9\u53D1\u9001\u6216\u63A5\u6536\u6570\u636E\u3002\u540C\u65F6\uFF0CWebSocket \u5728\u5EFA\u7ACB\u8FDE\u63A5\u65F6\u9700\u8981\u501F\u52A9 HTTP \u534F\u8BAE\uFF0C\u8FDE\u63A5\u5EFA\u7ACB\u597D\u4E86\u4E4B\u540E client \u4E0E server \u4E4B\u95F4\u7684\u53CC\u5411\u901A\u4FE1\u5C31\u4E0E HTTP \u65E0\u5173\u4E86\u3002</p><p>\u539F\u751F WebSocket API \u4F7F\u7528\u8D77\u6765\u4E0D\u592A\u65B9\u4FBF\uFF0C\u6211\u4EEC\u4F7F\u7528 <a href="http://Socket.io" target="_blank" rel="noreferrer">Socket.io</a>\uFF0C\u5B83\u5F88\u597D\u5730\u5C01\u88C5\u4E86 webSocket \u63A5\u53E3\uFF0C\u63D0\u4F9B\u4E86\u66F4\u7B80\u5355\u3001\u7075\u6D3B\u7684\u63A5\u53E3\uFF0C\u4E5F\u5BF9\u4E0D\u652F\u6301 webSocket \u7684\u6D4F\u89C8\u5668\u63D0\u4F9B\u4E86\u5411\u4E0B\u517C\u5BB9</p><h4 id="_5-node-\u4E2D\u95F4\u4EF6\u4EE3\u7406-\u4E24\u6B21\u8DE8\u57DF" tabindex="-1">5. Node \u4E2D\u95F4\u4EF6\u4EE3\u7406(\u4E24\u6B21\u8DE8\u57DF) <a class="header-anchor" href="#_5-node-\u4E2D\u95F4\u4EF6\u4EE3\u7406-\u4E24\u6B21\u8DE8\u57DF" aria-hidden="true">#</a></h4><p>\u5B9E\u73B0\u539F\u7406\uFF1A\u540C\u6E90\u7B56\u7565\u662F\u6D4F\u89C8\u5668\u9700\u8981\u9075\u5FAA\u7684\u6807\u51C6\uFF0C\u800C\u5982\u679C\u662F\u670D\u52A1\u5668\u5411\u670D\u52A1\u5668\u8BF7\u6C42\u5C31\u65E0\u9700\u9075\u5FAA\u540C\u6E90\u7B56\u7565\u3002 \u4EE3\u7406\u670D\u52A1\u5668\uFF0C\u9700\u8981\u505A\u4EE5\u4E0B\u51E0\u4E2A\u6B65\u9AA4\uFF1A</p><ul><li>\u63A5\u53D7\u5BA2\u6237\u7AEF\u8BF7\u6C42 \u3002</li><li>\u5C06\u8BF7\u6C42 \u8F6C\u53D1\u7ED9\u670D\u52A1\u5668\u3002</li><li>\u62FF\u5230\u670D\u52A1\u5668 \u54CD\u5E94 \u6570\u636E\u3002</li><li>\u5C06 \u54CD\u5E94 \u8F6C\u53D1\u7ED9\u5BA2\u6237\u7AEF</li></ul><h4 id="_6-nginx-\u53CD\u5411\u4EE3\u7406" tabindex="-1">6. nginx \u53CD\u5411\u4EE3\u7406 <a class="header-anchor" href="#_6-nginx-\u53CD\u5411\u4EE3\u7406" aria-hidden="true">#</a></h4><p>\u5B9E\u73B0\u539F\u7406\u7C7B\u4F3C\u4E8E Node \u4E2D\u95F4\u4EF6\u4EE3\u7406\uFF0C\u9700\u8981\u4F60\u642D\u5EFA\u4E00\u4E2A\u4E2D\u8F6C nginx \u670D\u52A1\u5668\uFF0C\u7528\u4E8E\u8F6C\u53D1\u8BF7\u6C42\u3002<br> \u4F7F\u7528 nginx \u53CD\u5411\u4EE3\u7406\u5B9E\u73B0\u8DE8\u57DF\uFF0C\u662F\u6700\u7B80\u5355\u7684\u8DE8\u57DF\u65B9\u5F0F\u3002\u53EA\u9700\u8981\u4FEE\u6539 nginx \u7684\u914D\u7F6E\u5373\u53EF\u89E3\u51B3\u8DE8\u57DF\u95EE\u9898\uFF0C\u652F\u6301\u6240\u6709\u6D4F\u89C8\u5668\uFF0C\u652F\u6301 session\uFF0C\u4E0D\u9700\u8981\u4FEE\u6539\u4EFB\u4F55\u4EE3\u7801\uFF0C\u5E76\u4E14\u4E0D\u4F1A\u5F71\u54CD\u670D\u52A1\u5668\u6027\u80FD\u3002<br> \u5B9E\u73B0\u601D\u8DEF\uFF1A\u901A\u8FC7 nginx \u914D\u7F6E\u4E00\u4E2A\u4EE3\u7406\u670D\u52A1\u5668\uFF08\u57DF\u540D\u4E0E domain1 \u76F8\u540C\uFF0C\u7AEF\u53E3\u4E0D\u540C\uFF09\u505A\u8DF3\u677F\u673A\uFF0C\u53CD\u5411\u4EE3\u7406\u8BBF\u95EE domain2 \u63A5\u53E3\uFF0C\u5E76\u4E14\u53EF\u4EE5\u987A\u4FBF\u4FEE\u6539 cookie \u4E2D domain \u4FE1\u606F\uFF0C\u65B9\u4FBF\u5F53\u524D\u57DF cookie \u5199\u5165\uFF0C\u5B9E\u73B0\u8DE8\u57DF\u767B\u5F55\u3002</p><h4 id="_7-window-name-iframe" tabindex="-1">7. <a href="http://window.name" target="_blank" rel="noreferrer">window.name</a> + iframe <a class="header-anchor" href="#_7-window-name-iframe" aria-hidden="true">#</a></h4><p><a href="http://window.name" target="_blank" rel="noreferrer">window.name</a> \u5C5E\u6027\u7684\u72EC\u7279\u4E4B\u5904\uFF1Aname \u503C\u5728\u4E0D\u540C\u7684\u9875\u9762\uFF08\u751A\u81F3\u4E0D\u540C\u57DF\u540D\uFF09\u52A0\u8F7D\u540E\u4F9D\u65E7\u5B58\u5728\uFF0C\u5E76\u4E14\u53EF\u4EE5\u652F\u6301\u975E\u5E38\u957F\u7684 name \u503C\uFF082MB\uFF09\u3002<br> \u603B\u7ED3\uFF1A\u901A\u8FC7 iframe \u7684 src \u5C5E\u6027\u7531\u5916\u57DF\u8F6C\u5411\u672C\u5730\u57DF\uFF0C\u8DE8\u57DF\u6570\u636E\u5373\u7531 iframe \u7684 <a href="http://window.name" target="_blank" rel="noreferrer">window.name</a> \u4ECE\u5916\u57DF\u4F20\u9012\u5230\u672C\u5730\u57DF\u3002\u8FD9\u4E2A\u5C31\u5DE7\u5999\u5730\u7ED5\u8FC7\u4E86\u6D4F\u89C8\u5668\u7684\u8DE8\u57DF\u8BBF\u95EE\u9650\u5236\uFF0C\u4F46\u540C\u65F6\u5B83\u53C8\u662F\u5B89\u5168\u64CD\u4F5C\u3002</p><h4 id="_8-location-hash-iframe" tabindex="-1">8. location.hash + iframe <a class="header-anchor" href="#_8-location-hash-iframe" aria-hidden="true">#</a></h4><p>\u5B9E\u73B0\u539F\u7406\uFF1A a.html \u6B32\u4E0E c.html \u8DE8\u57DF\u76F8\u4E92\u901A\u4FE1\uFF0C\u901A\u8FC7\u4E2D\u95F4\u9875 b.html \u6765\u5B9E\u73B0\u3002 \u4E09\u4E2A\u9875\u9762\uFF0C\u4E0D\u540C\u57DF\u4E4B\u95F4\u5229\u7528 iframe \u7684 location.hash \u4F20\u503C\uFF0C\u76F8\u540C\u57DF\u4E4B\u95F4\u76F4\u63A5 js \u8BBF\u95EE\u6765\u901A\u4FE1\u3002<br> \u5177\u4F53\u5B9E\u73B0\u6B65\u9AA4\uFF1A\u4E00\u5F00\u59CB a.html \u7ED9 c.html \u4F20\u4E00\u4E2A hash \u503C\uFF0C\u7136\u540E c.html \u6536\u5230 hash \u503C\u540E\uFF0C\u518D\u628A hash \u503C\u4F20\u9012\u7ED9 b.html\uFF0C\u6700\u540E b.html \u5C06\u7ED3\u679C\u653E\u5230 a.html \u7684 hash \u503C\u4E2D\u3002 \u540C\u6837\u7684\uFF0Ca.html \u548C b.html \u662F\u540C\u57DF\u7684\uFF0C\u90FD\u662F <code>http://localhost:3000</code>;\u800C c.html \u662F <code>http://localhost:4000</code></p><h4 id="_9-document-domain-iframe" tabindex="-1">9. document.domain + iframe <a class="header-anchor" href="#_9-document-domain-iframe" aria-hidden="true">#</a></h4><p>\u8BE5\u65B9\u5F0F\u53EA\u80FD\u7528\u4E8E\u4E8C\u7EA7\u57DF\u540D\u76F8\u540C\u7684\u60C5\u51B5\u4E0B\uFF0C\u6BD4\u5982 <a href="http://a.test.com" target="_blank" rel="noreferrer">a.test.com</a> \u548C <a href="http://b.test.com" target="_blank" rel="noreferrer">b.test.com</a> \u9002\u7528\u4E8E\u8BE5\u65B9\u5F0F\u3002 \u53EA\u9700\u8981\u7ED9\u9875\u9762\u6DFB\u52A0 document.domain =&#39;<a href="http://test.com" target="_blank" rel="noreferrer">test.com</a>&#39;\u8868\u793A\u4E8C\u7EA7\u57DF\u540D\u90FD\u76F8\u540C\u5C31\u53EF\u4EE5\u5B9E\u73B0\u8DE8\u57DF\u3002<br> \u5B9E\u73B0\u539F\u7406\uFF1A\u4E24\u4E2A\u9875\u9762\u90FD\u901A\u8FC7 js \u5F3A\u5236\u8BBE\u7F6E document.domain \u4E3A\u57FA\u7840\u4E3B\u57DF\uFF0C\u5C31\u5B9E\u73B0\u4E86\u540C\u57DF\u3002</p><h2 id="jsonp-\u539F\u7406" tabindex="-1">jsonp \u539F\u7406 <a class="header-anchor" href="#jsonp-\u539F\u7406" aria-hidden="true">#</a></h2><p>\u5229\u7528<code>&lt;script&gt;</code>\u6807\u7B7E\u6CA1\u6709\u8DE8\u57DF\u9650\u5236\u7684\u6F0F\u6D1E\uFF0C\u7F51\u9875\u53EF\u4EE5\u5F97\u5230\u4ECE\u5176\u4ED6\u6765\u6E90\u52A8\u6001\u4EA7\u751F\u7684 JSON \u6570\u636E\u3002JSONP \u8BF7\u6C42\u4E00\u5B9A \u9700\u8981\u5BF9\u65B9\u7684\u670D\u52A1\u5668\u505A\u652F\u6301\u624D\u53EF\u4EE5\u3002</p><ol><li>JSONP \u548C AJAX \u5BF9\u6BD4</li></ol><p>JSONP \u548C AJAX \u76F8\u540C\uFF0C\u90FD\u662F\u5BA2\u6237\u7AEF\u5411\u670D\u52A1\u5668\u7AEF\u53D1\u9001\u8BF7\u6C42\uFF0C\u4ECE\u670D\u52A1\u5668\u7AEF\u83B7\u53D6\u6570\u636E\u7684\u65B9\u5F0F\u3002\u4F46 AJAX \u5C5E\u4E8E\u540C\u6E90\u7B56\u7565\uFF0CJSONP \u5C5E\u4E8E\u975E\u540C\u6E90\u7B56\u7565\uFF08\u8DE8\u57DF\u8BF7\u6C42\uFF09</p><ol start="2"><li>JSONP \u4F18\u7F3A\u70B9</li></ol><p>JSONP \u4F18\u70B9\u662F\u7B80\u5355\u517C\u5BB9\u6027\u597D\uFF0C\u53EF\u7528\u4E8E\u89E3\u51B3\u4E3B\u6D41\u6D4F\u89C8\u5668\u7684\u8DE8\u57DF\u6570\u636E\u8BBF\u95EE\u7684\u95EE\u9898\u3002\u7F3A\u70B9\u662F\u4EC5\u652F\u6301 get \u65B9\u6CD5\u5177\u6709\u5C40\u9650\u6027,\u4E0D\u5B89\u5168\u53EF\u80FD\u4F1A\u906D\u53D7 XSS \u653B\u51FB\u3002</p><ol start="3"><li>JSONP \u7684\u5B9E\u73B0\u6D41\u7A0B</li></ol><p>\u58F0\u660E\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\uFF0C\u5176\u51FD\u6570\u540D(\u5982 show)\u5F53\u505A\u53C2\u6570\u503C\uFF0C\u8981\u4F20\u9012\u7ED9\u8DE8\u57DF\u8BF7\u6C42\u6570\u636E\u7684\u670D\u52A1\u5668\uFF0C\u51FD\u6570\u5F62\u53C2\u4E3A\u8981\u83B7\u53D6\u76EE\u6807\u6570\u636E(\u670D\u52A1\u5668\u8FD4\u56DE\u7684 data)\u3002 \u521B\u5EFA\u4E00\u4E2A\`\`\u6807\u7B7E\uFF0C\u628A\u90A3\u4E2A\u8DE8\u57DF\u7684 API \u6570\u636E\u63A5\u53E3\u5730\u5740\uFF0C\u8D4B\u503C\u7ED9 script \u7684 src,\u8FD8\u8981\u5728\u8FD9\u4E2A\u5730\u5740\u4E2D\u5411\u670D\u52A1\u5668\u4F20\u9012\u8BE5\u51FD\u6570\u540D\uFF08\u53EF\u4EE5\u901A\u8FC7\u95EE\u53F7\u4F20\u53C2:?callback=show\uFF09\u3002 \u670D\u52A1\u5668\u63A5\u6536\u5230\u8BF7\u6C42\u540E\uFF0C\u9700\u8981\u8FDB\u884C\u7279\u6B8A\u7684\u5904\u7406\uFF1A\u628A\u4F20\u9012\u8FDB\u6765\u7684\u51FD\u6570\u540D\u548C\u5B83\u9700\u8981\u7ED9\u4F60\u7684\u6570\u636E\u62FC\u63A5\u6210\u4E00\u4E2A\u5B57\u7B26\u4E32,\u4F8B\u5982\uFF1A\u4F20\u9012\u8FDB\u53BB\u7684\u51FD\u6570\u540D\u662F show\uFF0C\u5B83\u51C6\u5907\u597D\u7684\u6570\u636E\u662F show(&#39;\u6211\u4E0D\u7231\u4F60&#39;)\u3002 \u6700\u540E\u670D\u52A1\u5668\u628A\u51C6\u5907\u7684\u6570\u636E\u901A\u8FC7 HTTP \u534F\u8BAE\u8FD4\u56DE\u7ED9\u5BA2\u6237\u7AEF\uFF0C\u5BA2\u6237\u7AEF\u518D\u8C03\u7528\u6267\u884C\u4E4B\u524D\u58F0\u660E\u7684\u56DE\u8C03\u51FD\u6570\uFF08show\uFF09\uFF0C\u5BF9\u8FD4\u56DE\u7684\u6570\u636E\u8FDB\u884C\u64CD\u4F5C\u3002</p><p>\u5728\u5F00\u53D1\u4E2D\u53EF\u80FD\u4F1A\u9047\u5230\u591A\u4E2A JSONP \u8BF7\u6C42\u7684\u56DE\u8C03\u51FD\u6570\u540D\u662F\u76F8\u540C\u7684\uFF0C\u8FD9\u65F6\u5019\u5C31\u9700\u8981\u81EA\u5DF1\u5C01\u88C5\u4E00\u4E2A JSONP \u51FD\u6570\u3002</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// index.html</span></span>
<span class="line"><span style="color:#CB7676;">function</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">jsonp</span><span style="color:#666666;">({</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">url</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">params</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">callback</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">})</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">Promise</span><span style="color:#666666;">((</span><span style="color:#BD976A;">resolve</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">reject</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">script</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">document</span><span style="color:#666666;">.</span><span style="color:#80A665;">createElement</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">script</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#BD976A;">window</span><span style="color:#666666;">[</span><span style="color:#BD976A;">callback</span><span style="color:#666666;">]</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">data</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#80A665;">resolve</span><span style="color:#666666;">(</span><span style="color:#BD976A;">data</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">document</span><span style="color:#666666;">.</span><span style="color:#BD976A;">body</span><span style="color:#666666;">.</span><span style="color:#80A665;">removeChild</span><span style="color:#666666;">(</span><span style="color:#BD976A;">script</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">};</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#BD976A;">params</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">...</span><span style="color:#BD976A;">params</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">callback</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">};</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">// wd=b&amp;callback=show</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">arrs</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[];</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">key</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">in</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">params</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">            </span><span style="color:#BD976A;">arrs</span><span style="color:#666666;">.</span><span style="color:#80A665;">push</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">\`</span><span style="color:#666666;">\${</span><span style="color:#C98A7D;">key</span><span style="color:#666666;">}</span><span style="color:#C98A7D;">=</span><span style="color:#666666;">\${</span><span style="color:#C98A7D;">params</span><span style="color:#666666;">[</span><span style="color:#C98A7D;">key</span><span style="color:#666666;">]</span><span style="color:#666666;">}</span><span style="color:#C98A7DAA;">\`</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#BD976A;">script</span><span style="color:#666666;">.</span><span style="color:#BD976A;">src</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">\`</span><span style="color:#666666;">\${</span><span style="color:#C98A7D;">url</span><span style="color:#666666;">}</span><span style="color:#C98A7D;">?</span><span style="color:#666666;">\${</span><span style="color:#C98A7D;">arrs</span><span style="color:#666666;">.</span><span style="color:#80A665;">join</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">&amp;</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">)</span><span style="color:#666666;">}</span><span style="color:#C98A7DAA;">\`</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#BD976A;">document</span><span style="color:#666666;">.</span><span style="color:#BD976A;">body</span><span style="color:#666666;">.</span><span style="color:#80A665;">appendChild</span><span style="color:#666666;">(</span><span style="color:#BD976A;">script</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#80A665;">jsonp</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">url</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">http://localhost:3000/say</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">params</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">wd</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">Iloveyou</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">callback</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">show</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">}).</span><span style="color:#80A665;">then</span><span style="color:#666666;">((</span><span style="color:#BD976A;">data</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#BD976A;">data</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// index.html</span></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#59873A;">jsonp</span><span style="color:#999999;">({</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">url</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">params</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">callback</span><span style="color:#393A34;"> </span><span style="color:#999999;">})</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#998418;">Promise</span><span style="color:#999999;">((</span><span style="color:#B07D48;">resolve</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">reject</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">script</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">document</span><span style="color:#999999;">.</span><span style="color:#59873A;">createElement</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">script</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">window</span><span style="color:#999999;">[</span><span style="color:#B07D48;">callback</span><span style="color:#999999;">]</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">data</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#59873A;">resolve</span><span style="color:#999999;">(</span><span style="color:#B07D48;">data</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">document</span><span style="color:#999999;">.</span><span style="color:#B07D48;">body</span><span style="color:#999999;">.</span><span style="color:#59873A;">removeChild</span><span style="color:#999999;">(</span><span style="color:#B07D48;">script</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">params</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#999999;">...</span><span style="color:#B07D48;">params</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">callback</span><span style="color:#393A34;"> </span><span style="color:#999999;">};</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// wd=b&amp;callback=show</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">arrs</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">[];</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1E754F;">for</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">key</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">in</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">params</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B07D48;">arrs</span><span style="color:#999999;">.</span><span style="color:#59873A;">push</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">\`</span><span style="color:#999999;">\${</span><span style="color:#B56959;">key</span><span style="color:#999999;">}</span><span style="color:#B56959;">=</span><span style="color:#999999;">\${</span><span style="color:#B56959;">params</span><span style="color:#999999;">[</span><span style="color:#B56959;">key</span><span style="color:#999999;">]</span><span style="color:#999999;">}</span><span style="color:#B56959AA;">\`</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">script</span><span style="color:#999999;">.</span><span style="color:#B07D48;">src</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">\`</span><span style="color:#999999;">\${</span><span style="color:#B56959;">url</span><span style="color:#999999;">}</span><span style="color:#B56959;">?</span><span style="color:#999999;">\${</span><span style="color:#B56959;">arrs</span><span style="color:#999999;">.</span><span style="color:#59873A;">join</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">&amp;</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">)</span><span style="color:#999999;">}</span><span style="color:#B56959AA;">\`</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">document</span><span style="color:#999999;">.</span><span style="color:#B07D48;">body</span><span style="color:#999999;">.</span><span style="color:#59873A;">appendChild</span><span style="color:#999999;">(</span><span style="color:#B07D48;">script</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#59873A;">jsonp</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">url</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">http://localhost:3000/say</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">params</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#998418;">wd</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">Iloveyou</span><span style="color:#B56959AA;">&#39;</span><span style="color:#393A34;"> </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">callback</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">show</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">}).</span><span style="color:#59873A;">then</span><span style="color:#999999;">((</span><span style="color:#B07D48;">data</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B07D48;">data</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"></span></code></pre></div><p>\u4E0A\u9762\u8FD9\u6BB5\u4EE3\u7801\u76F8\u5F53\u4E8E\u5411 <code>http://localhost:3000/say?wd=Iloveyou&amp;callback=show</code> \u8FD9\u4E2A\u5730\u5740\u8BF7\u6C42\u6570\u636E\uFF0C\u7136\u540E\u540E\u53F0\u8FD4\u56DE show(&#39;\u6211\u4E0D\u7231\u4F60&#39;)\uFF0C\u6700\u540E\u4F1A\u8FD0\u884C show()\u8FD9\u4E2A\u51FD\u6570\uFF0C\u6253\u5370\u51FA&#39;\u6211\u4E0D\u7231\u4F60&#39;</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// server.js</span></span>
<span class="line"><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">express</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">require</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">express</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">app</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">express</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#BD976A;">app</span><span style="color:#666666;">.</span><span style="color:#80A665;">get</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">/say</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">req</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">res</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">wd</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">callback</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">req</span><span style="color:#666666;">.</span><span style="color:#BD976A;">query</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#BD976A;">wd</span><span style="color:#666666;">);</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">// Iloveyou</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#BD976A;">callback</span><span style="color:#666666;">);</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">// show</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">res</span><span style="color:#666666;">.</span><span style="color:#80A665;">end</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">\`</span><span style="color:#666666;">\${</span><span style="color:#C98A7D;">callback</span><span style="color:#666666;">}</span><span style="color:#C98A7D;">(&#39;\u6211\u4E0D\u7231\u4F60&#39;)</span><span style="color:#C98A7DAA;">\`</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#BD976A;">app</span><span style="color:#666666;">.</span><span style="color:#80A665;">listen</span><span style="color:#666666;">(</span><span style="color:#4C9A91;">3000</span><span style="color:#666666;">);</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// server.js</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">express</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">require</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">express</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">app</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">express</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#B07D48;">app</span><span style="color:#999999;">.</span><span style="color:#59873A;">get</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">/say</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">req</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">res</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">wd</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">callback</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">req</span><span style="color:#999999;">.</span><span style="color:#B07D48;">query</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B07D48;">wd</span><span style="color:#999999;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// Iloveyou</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B07D48;">callback</span><span style="color:#999999;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// show</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">res</span><span style="color:#999999;">.</span><span style="color:#59873A;">end</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">\`</span><span style="color:#999999;">\${</span><span style="color:#B56959;">callback</span><span style="color:#999999;">}</span><span style="color:#B56959;">(&#39;\u6211\u4E0D\u7231\u4F60&#39;)</span><span style="color:#B56959AA;">\`</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#B07D48;">app</span><span style="color:#999999;">.</span><span style="color:#59873A;">listen</span><span style="color:#999999;">(</span><span style="color:#2F798A;">3000</span><span style="color:#999999;">);</span></span>
<span class="line"></span></code></pre></div><p>jQuery \u7684 jsonp \u5F62\u5F0F:<br> JSONP \u90FD\u662F GET \u548C\u5F02\u6B65\u8BF7\u6C42\u7684\uFF0C\u4E0D\u5B58\u5728\u5176\u4ED6\u7684\u8BF7\u6C42\u65B9\u5F0F\u548C\u540C\u6B65\u8BF7\u6C42\uFF0C\u4E14 jQuery \u9ED8\u8BA4\u5C31\u4F1A\u7ED9 JSONP \u7684\u8BF7\u6C42\u6E05\u9664\u7F13\u5B58\u3002</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#BD976A;">$</span><span style="color:#666666;">.</span><span style="color:#80A665;">ajax</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">url</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">http://crossdomain.com/jsonServerResponse</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">dataType</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">jsonp</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">type</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">get</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//\u53EF\u4EE5\u7701\u7565</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">jsonpCallback</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">show</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//-&gt;\u81EA\u5B9A\u4E49\u4F20\u9012\u7ED9\u670D\u52A1\u5668\u7684\u51FD\u6570\u540D\uFF0C\u800C\u4E0D\u662F\u4F7F\u7528jQuery\u81EA\u52A8\u751F\u6210\u7684\uFF0C\u53EF\u7701\u7565</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">jsonp</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">callback</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//-&gt;\u628A\u4F20\u9012\u51FD\u6570\u540D\u7684\u90A3\u4E2A\u5F62\u53C2callback\uFF0C\u53EF\u7701\u7565</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#80A665;">success</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">data</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#BD976A;">data</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">},</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#B07D48;">$</span><span style="color:#999999;">.</span><span style="color:#59873A;">ajax</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">url</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">http://crossdomain.com/jsonServerResponse</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">dataType</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">jsonp</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">type</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">get</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//\u53EF\u4EE5\u7701\u7565</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">jsonpCallback</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">show</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//-&gt;\u81EA\u5B9A\u4E49\u4F20\u9012\u7ED9\u670D\u52A1\u5668\u7684\u51FD\u6570\u540D\uFF0C\u800C\u4E0D\u662F\u4F7F\u7528jQuery\u81EA\u52A8\u751F\u6210\u7684\uFF0C\u53EF\u7701\u7565</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">jsonp</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">callback</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//-&gt;\u628A\u4F20\u9012\u51FD\u6570\u540D\u7684\u90A3\u4E2A\u5F62\u53C2callback\uFF0C\u53EF\u7701\u7565</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">success</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">data</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B07D48;">data</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">},</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"></span></code></pre></div><h2 id="websocket-\u7684\u539F\u7406" tabindex="-1">websocket \u7684\u539F\u7406 <a class="header-anchor" href="#websocket-\u7684\u539F\u7406" aria-hidden="true">#</a></h2><p>Websocket \u662F HTML5 \u7684\u4E00\u4E2A\u6301\u4E45\u5316\u7684\u534F\u8BAE\uFF0C\u5B83\u5B9E\u73B0\u4E86\u6D4F\u89C8\u5668\u4E0E\u670D\u52A1\u5668\u7684\u5168\u53CC\u5DE5\u901A\u4FE1\uFF0C\u540C\u65F6\u4E5F\u662F\u8DE8\u57DF\u7684\u4E00\u79CD\u89E3\u51B3\u65B9\u6848\u3002WebSocket \u548C HTTP \u90FD\u662F\u5E94\u7528\u5C42\u534F\u8BAE\uFF0C\u90FD\u57FA\u4E8E TCP \u534F\u8BAE\u3002\u4F46\u662F WebSocket \u662F\u4E00\u79CD\u53CC\u5411\u901A\u4FE1\u534F\u8BAE\uFF0C\u5728\u5EFA\u7ACB\u8FDE\u63A5\u4E4B\u540E\uFF0CWebSocket \u7684 server \u4E0E client \u90FD\u80FD\u4E3B\u52A8\u5411\u5BF9\u65B9\u53D1\u9001\u6216\u63A5\u6536\u6570\u636E\u3002\u540C\u65F6\uFF0CWebSocket \u5728\u5EFA\u7ACB\u8FDE\u63A5\u65F6\u9700\u8981\u501F\u52A9 HTTP \u534F\u8BAE\uFF0C\u8FDE\u63A5\u5EFA\u7ACB\u597D\u4E86\u4E4B\u540E client \u4E0E server \u4E4B\u95F4\u7684\u53CC\u5411\u901A\u4FE1\u5C31\u4E0E HTTP \u65E0\u5173\u4E86\u3002</p><p>\u539F\u751F WebSocket API \u4F7F\u7528\u8D77\u6765\u4E0D\u592A\u65B9\u4FBF\uFF0C\u6211\u4EEC\u4F7F\u7528 <a href="http://Socket.io" target="_blank" rel="noreferrer">Socket.io</a>\uFF0C\u5B83\u5F88\u597D\u5730\u5C01\u88C5\u4E86 webSocket \u63A5\u53E3\uFF0C\u63D0\u4F9B\u4E86\u66F4\u7B80\u5355\u3001\u7075\u6D3B\u7684\u63A5\u53E3\uFF0C\u4E5F\u5BF9\u4E0D\u652F\u6301 webSocket \u7684\u6D4F\u89C8\u5668\u63D0\u4F9B\u4E86\u5411\u4E0B\u517C\u5BB9\u3002</p><p>\u6211\u4EEC\u5148\u6765\u770B\u4E2A\u4F8B\u5B50\uFF1A\u672C\u5730\u6587\u4EF6 socket.html \u5411 <code>localhost:3000</code> \u53D1\u751F\u6570\u636E\u548C\u63A5\u53D7\u6570\u636E</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#DBD7CAEE;">// socket.html</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">socket</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">WebSocket</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">ws://localhost:3000</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">socket</span><span style="color:#666666;">.</span><span style="color:#80A665;">onopen</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#BD976A;">socket</span><span style="color:#666666;">.</span><span style="color:#80A665;">send</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u6211\u7231\u4F60</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//\u5411\u670D\u52A1\u5668\u53D1\u9001\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">};</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">socket</span><span style="color:#666666;">.</span><span style="color:#80A665;">onmessage</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">e</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#BD976A;">e</span><span style="color:#666666;">.</span><span style="color:#BD976A;">data</span><span style="color:#666666;">);</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//\u63A5\u6536\u670D\u52A1\u5668\u8FD4\u56DE\u7684\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">};</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#393A34;">// socket.html</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">socket</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#59873A;">WebSocket</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">ws://localhost:3000</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">socket</span><span style="color:#999999;">.</span><span style="color:#59873A;">onopen</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">()</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">socket</span><span style="color:#999999;">.</span><span style="color:#59873A;">send</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u6211\u7231\u4F60</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//\u5411\u670D\u52A1\u5668\u53D1\u9001\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">socket</span><span style="color:#999999;">.</span><span style="color:#59873A;">onmessage</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">e</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B07D48;">e</span><span style="color:#999999;">.</span><span style="color:#B07D48;">data</span><span style="color:#999999;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//\u63A5\u6536\u670D\u52A1\u5668\u8FD4\u56DE\u7684\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">};</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// server.js</span></span>
<span class="line"><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">express</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">require</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">express</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">app</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">express</span><span style="color:#666666;">();</span></span>
<span class="line"><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">WebSocket</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">require</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">ws</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span><span style="color:#DBD7CAEE;"> </span><span style="color:#758575DD;">//\u8BB0\u5F97\u5B89\u88C5ws</span></span>
<span class="line"><span style="color:#CB7676;">let</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">wss</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">new</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">WebSocket</span><span style="color:#666666;">.</span><span style="color:#80A665;">Server</span><span style="color:#666666;">({</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">port</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">3000</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#BD976A;">wss</span><span style="color:#666666;">.</span><span style="color:#80A665;">on</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">connection</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">ws</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">ws</span><span style="color:#666666;">.</span><span style="color:#80A665;">on</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">message</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">data</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#BD976A;">console</span><span style="color:#666666;">.</span><span style="color:#80A665;">log</span><span style="color:#666666;">(</span><span style="color:#BD976A;">data</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#BD976A;">ws</span><span style="color:#666666;">.</span><span style="color:#80A665;">send</span><span style="color:#666666;">(</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#C98A7D;">\u6211\u4E0D\u7231\u4F60</span><span style="color:#C98A7DAA;">&#39;</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#666666;">});</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// server.js</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">express</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">require</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">express</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">app</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">express</span><span style="color:#999999;">();</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">WebSocket</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#59873A;">require</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">ws</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//\u8BB0\u5F97\u5B89\u88C5ws</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">wss</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">WebSocket</span><span style="color:#999999;">.</span><span style="color:#59873A;">Server</span><span style="color:#999999;">({</span><span style="color:#393A34;"> </span><span style="color:#998418;">port</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">3000</span><span style="color:#393A34;"> </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#B07D48;">wss</span><span style="color:#999999;">.</span><span style="color:#59873A;">on</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">connection</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">ws</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">ws</span><span style="color:#999999;">.</span><span style="color:#59873A;">on</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">message</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">data</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">console</span><span style="color:#999999;">.</span><span style="color:#59873A;">log</span><span style="color:#999999;">(</span><span style="color:#B07D48;">data</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B07D48;">ws</span><span style="color:#999999;">.</span><span style="color:#59873A;">send</span><span style="color:#999999;">(</span><span style="color:#B56959AA;">&#39;</span><span style="color:#B56959;">\u6211\u4E0D\u7231\u4F60</span><span style="color:#B56959AA;">&#39;</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#999999;">});</span></span>
<span class="line"></span></code></pre></div><h2 id="\u4FDD\u6301\u524D\u540E\u7AEF\u5B9E\u65F6\u901A\u4FE1" tabindex="-1">\u4FDD\u6301\u524D\u540E\u7AEF\u5B9E\u65F6\u901A\u4FE1? <a class="header-anchor" href="#\u4FDD\u6301\u524D\u540E\u7AEF\u5B9E\u65F6\u901A\u4FE1" aria-hidden="true">#</a></h2><p>\u5B9E\u73B0\u4FDD\u6301\u524D\u540E\u7AEF\u5B9E\u65F6\u901A\u4FE1\u7684\u65B9\u5F0F\u6709\u4EE5\u4E0B\u51E0\u79CD</p><ul><li>WebSocket\uFF1A IE10 \u4EE5\u4E0A\u624D\u652F\u6301\uFF0CChrome16, FireFox11,Safari7 \u4EE5\u53CA Opera12 \u4EE5\u4E0A\u5B8C\u5168\u652F\u6301\uFF0C\u79FB\u52A8\u7AEF\u5F62\u52BF\u5927</li><li>event-source: IE \u5B8C\u5168\u4E0D\u652F\u6301\uFF08\u6CE8\u610F\u662F\u4EFB\u4F55\u7248\u672C\u90FD\u4E0D\u652F\u6301\uFF09\uFF0CEdge76\uFF0CChrome6,Firefox6,Safari5 \u548C Opera \u4EE5\u4E0A\u652F\u6301\uFF0C \u79FB\u52A8\u7AEF\u5F62\u52BF\u5927\u597D</li><li>AJAX \u8F6E\u8BE2\uFF1A \u7528\u4E8E\u517C\u5BB9\u4F4E\u7248\u672C\u7684\u6D4F\u89C8\u5668</li><li>\u6C38\u4E45\u5E27\uFF08 forever iframe\uFF09\u53EF\u7528\u4E8E\u517C\u5BB9\u4F4E\u7248\u672C\u7684\u6D4F\u89C8\u5668</li><li>flash socket \u53EF\u7528\u4E8E\u517C\u5BB9\u4F4E\u7248\u672C\u7684\u6D4F\u89C8\u5668</li></ul><p>\u8FD9\u51E0\u79CD\u65B9\u5F0F\u7684\u4F18\u7F3A\u70B9</p><ol><li>WebSocket<br> \u4F18\u70B9\uFF1A<br> WebSocket \u662F HTML5 \u5F00\u59CB\u63D0\u4F9B\u7684\u4E00\u79CD\u5728\u5355\u4E2A TCP \u8FDE\u63A5\u4E0A\u8FDB\u884C\u5168\u53CC\u5DE5\u901A\u8BAF\u7684\u534F\u8BAE\uFF0C\u53EF\u4ECE HTTP \u5347\u7EA7\u800C\u6765\uFF0C\u6D4F\u89C8\u5668\u548C\u670D\u52A1\u5668\u53EA\u9700\u8981\u4E00\u6B21\u63E1\u624B\uFF0C\u5C31\u53EF\u4EE5\u8FDB\u884C\u6301\u7EED\u7684\uFF0C\u53CC\u5411\u7684\u6570\u636E\u4F20\u8F93\uFF0C\u56E0\u6B64\u80FD\u663E\u8457\u8282\u7EA6\u8D44\u6E90\u548C\u5E26\u5BBD<br> \u7F3A\u70B9\uFF1A<br> \uFF081\uFF09\u517C\u5BB9\u6027\u95EE\u9898:\u4E0D\u652F\u6301\u8F83\u4F4E\u7248\u672C\u7684 IE \u6D4F\u89C8\u5668\uFF08IE9 \u53CA\u4EE5\u4E0B\uFF09<br> \uFF082\uFF09\u4E0D\u652F\u6301\u65AD\u7EBF\u91CD\u8FDE\uFF0C\u9700\u8981\u624B\u5199\u5FC3\u8DF3\u8FDE\u63A5\u7684\u903B\u8F91<br> \uFF083\uFF09\u901A\u4FE1\u673A\u5236\u76F8\u5BF9\u590D\u6742</li><li>server-sent-event\uFF08event-source\uFF09<br> \u4F18\u70B9\uFF1A<br> \uFF081\uFF09\u53EA\u9700\u4E00\u6B21\u8BF7\u6C42\uFF0C\u4FBF\u53EF\u4EE5 stream \u7684\u65B9\u5F0F\u591A\u6B21\u4F20\u9001\u6570\u636E\uFF0C\u8282\u7EA6\u8D44\u6E90\u548C\u5E26\u5BBD<br> \uFF082\uFF09\u76F8\u5BF9 WebSocket \u6765\u8BF4\u7B80\u5355\u6613\u7528<br> \uFF083\uFF09\u5185\u7F6E\u65AD\u7EBF\u91CD\u8FDE\u529F\u80FD(retry)<br> \u7F3A\u70B9\uFF1A<br> \uFF081\uFF09\u662F\u5355\u5411\u7684\uFF0C\u53EA\u652F\u6301\u670D\u52A1\u7AEF-&gt;\u5BA2\u6237\u7AEF\u7684\u6570\u636E\u4F20\u9001\uFF0C\u5BA2\u6237\u7AEF\u5230\u670D\u52A1\u7AEF\u7684\u901A\u4FE1\u4ECD\u7136\u4F9D\u9760 AJAX\uFF0C\u6CA1\u6709\u201D\u4E00\u5BB6\u4EBA\u6574\u6574\u9F50\u9F50\u201C\u7684\u611F\u89C9<br> \uFF082\uFF09\u517C\u5BB9\u6027\u4EE4\u4EBA\u62C5\u5FE7\uFF0CIE \u6D4F\u89C8\u5668\u5B8C\u5168\u4E0D\u652F\u6301</li><li>AJAX \u8F6E\u8BE2<br> \u4F18\u70B9\uFF1A\u517C\u5BB9\u6027\u826F\u597D\uFF0C\u5BF9\u6807\u4F4E\u7248\u672C IE<br> \u7F3A\u70B9\uFF1A\u8BF7\u6C42\u4E2D\u6709\u5927\u534A\u662F\u65E0\u7528\u7684\u8BF7\u6C42\uFF0C\u6D6A\u8D39\u8D44\u6E90</li><li>Flash Socket<br> \u4F18\u70B9\uFF1A \u517C\u5BB9\u4F4E\u7248\u672C\u6D4F\u89C8\u5668<br> \u7F3A\u70B9\uFF1A<br> \uFF081\uFF09\u6D4F\u89C8\u5668\u5F00\u542F\u65F6 flash \u9700\u8981\u7528\u6237\u786E\u8BA4\uFF0C<br> \uFF082\uFF09\u52A0\u8F7D\u65F6\u95F4\u957F\uFF0C\u7528\u6237\u4F53\u9A8C\u8F83\u5DEE<br> \uFF083\uFF09\u5927\u591A\u6570\u79FB\u52A8\u7AEF\u6D4F\u89C8\u5668\u4E0D\u652F\u6301 flash\uFF0C\u4E3A\u91CD\u707E\u533A</li><li>\u6C38\u4E45\u5E27\uFF08 forever iframe\uFF09<br> \u4F18\u70B9\uFF1A\u517C\u5BB9\u4F4E\u7248\u672C IE \u6D4F\u89C8\u5668<br> \u7F3A\u70B9\uFF1A iframe \u4F1A\u4EA7\u751F\u8FDB\u5EA6\u6761\u4E00\u76F4\u5B58\u5728\u7684\u95EE\u9898\uFF0C\u7528\u6237\u4F53\u9A8C\u5DEE</li></ol><p>\u7EFC\u4E0A\uFF0C\u7EFC\u5408\u517C\u5BB9\u6027\u548C\u7528\u6237\u4F53\u9A8C\u7684\u95EE\u9898\uFF0C\u6211\u5728\u9879\u76EE\u4E2D\u9009\u7528\u4E86 WebSocket -&gt;server-sent-event -&gt; AJAX \u8F6E\u8BE2\u8FD9\u4E09\u79CD\u65B9\u5F0F\u505A\u4ECE\u4E0A\u5230\u4E0B\u7684\u517C\u5BB9</p><h2 id="\u5E38\u89C1-http-status" tabindex="-1">\u5E38\u89C1 http status <a class="header-anchor" href="#\u5E38\u89C1-http-status" aria-hidden="true">#</a></h2><p>1XX \u7CFB\u5217\uFF1A\u6307\u5B9A\u5BA2\u6237\u7AEF\u5E94\u76F8\u5E94\u7684\u67D0\u4E9B\u52A8\u4F5C\uFF0C\u4EE3\u8868\u8BF7\u6C42\u5DF2\u88AB\u63A5\u53D7\uFF0C\u9700\u8981\u7EE7\u7EED\u5904\u7406\u3002\u7531\u4E8E HTTP/1.0 \u534F\u8BAE\u4E2D\u6CA1\u6709\u5B9A\u4E49\u4EFB\u4F55 1xx \u72B6\u6001\u7801\uFF0C\u6240\u4EE5\u9664\u975E\u5728\u67D0\u4E9B\u8BD5\u9A8C\u6761\u4EF6\u4E0B\uFF0C\u670D\u52A1\u5668\u7981\u6B62\u5411\u6B64\u7C7B\u5BA2\u6237\u7AEF\u53D1\u9001 1xx \u54CD\u5E94\u3002</p><p>2XX \u7CFB\u5217\uFF1A\u4EE3\u8868\u8BF7\u6C42\u5DF2\u6210\u529F\u88AB\u670D\u52A1\u5668\u63A5\u6536\u3001\u7406\u89E3\u3001\u5E76\u63A5\u53D7\u3002\u8FD9\u7CFB\u5217\u4E2D\u6700\u5E38\u89C1\u7684\u6709 200\u3001201 \u72B6\u6001\u7801\u3002</p><p>3XX \u7CFB\u5217\uFF1A\u4EE3\u8868\u9700\u8981\u5BA2\u6237\u7AEF\u91C7\u53D6\u8FDB\u4E00\u6B65\u7684\u64CD\u4F5C\u624D\u80FD\u5B8C\u6210\u8BF7\u6C42\uFF0C\u8FD9\u4E9B\u72B6\u6001\u7801\u7528\u6765\u91CD\u5B9A\u5411\uFF0C\u540E\u7EED\u7684\u8BF7\u6C42\u5730\u5740\uFF08\u91CD\u5B9A\u5411\u76EE\u6807\uFF09\u5728\u672C\u6B21\u54CD\u5E94\u7684 Location \u57DF\u4E2D\u6307\u660E\u3002\u8FD9\u7CFB\u5217\u4E2D\u6700\u5E38\u89C1\u7684\u6709 301\u3001302 \u72B6\u6001\u7801\u3002</p><p>4XX \u7CFB\u5217\uFF1A\u8868\u793A\u8BF7\u6C42\u9519\u8BEF\u3002\u4EE3\u8868\u4E86\u5BA2\u6237\u7AEF\u770B\u8D77\u6765\u53EF\u80FD\u53D1\u751F\u4E86\u9519\u8BEF\uFF0C\u59A8\u788D\u4E86\u670D\u52A1\u5668\u7684\u5904\u7406\u3002\u5E38\u89C1\u6709\uFF1A401\u3001404 \u72B6\u6001\u7801\u3002</p><p>5xx \u7CFB\u5217\uFF1A\u4EE3\u8868\u4E86\u670D\u52A1\u5668\u5728\u5904\u7406\u8BF7\u6C42\u7684\u8FC7\u7A0B\u4E2D\u6709\u9519\u8BEF\u6216\u8005\u5F02\u5E38\u72B6\u6001\u53D1\u751F\uFF0C\u4E5F\u6709\u53EF\u80FD\u662F\u670D\u52A1\u5668\u610F\u8BC6\u5230\u4EE5\u5F53\u524D\u7684\u8F6F\u786C\u4EF6\u8D44\u6E90\u65E0\u6CD5\u5B8C\u6210\u5BF9\u8BF7\u6C42\u7684\u5904\u7406\u3002\u5E38\u89C1\u6709 500\u3001503 \u72B6\u6001\u7801\u3002</p><p><strong>2 \u5F00\u5934 \uFF08\u8BF7\u6C42\u6210\u529F\uFF09\u8868\u793A\u6210\u529F\u5904\u7406\u4E86\u8BF7\u6C42\u7684\u72B6\u6001\u4EE3\u7801\u3002</strong></p><ul><li>200 \uFF08\u6210\u529F\uFF09 \u670D\u52A1\u5668\u5DF2\u6210\u529F\u5904\u7406\u4E86\u8BF7\u6C42\u3002 \u901A\u5E38\uFF0C\u8FD9\u8868\u793A\u670D\u52A1\u5668\u63D0\u4F9B\u4E86\u8BF7\u6C42\u7684\u7F51\u9875\u3002</li><li>201 \uFF08\u5DF2\u521B\u5EFA\uFF09 \u8BF7\u6C42\u6210\u529F\u5E76\u4E14\u670D\u52A1\u5668\u521B\u5EFA\u4E86\u65B0\u7684\u8D44\u6E90\u3002</li><li>202 \uFF08\u5DF2\u63A5\u53D7\uFF09 \u670D\u52A1\u5668\u5DF2\u63A5\u53D7\u8BF7\u6C42\uFF0C\u4F46\u5C1A\u672A\u5904\u7406\u3002</li><li>203 \uFF08\u975E\u6388\u6743\u4FE1\u606F\uFF09 \u670D\u52A1\u5668\u5DF2\u6210\u529F\u5904\u7406\u4E86\u8BF7\u6C42\uFF0C\u4F46\u8FD4\u56DE\u7684\u4FE1\u606F\u53EF\u80FD\u6765\u81EA\u53E6\u4E00\u6765\u6E90\u3002</li><li>204 \uFF08\u65E0\u5185\u5BB9\uFF09 \u670D\u52A1\u5668\u6210\u529F\u5904\u7406\u4E86\u8BF7\u6C42\uFF0C\u4F46\u6CA1\u6709\u8FD4\u56DE\u4EFB\u4F55\u5185\u5BB9\u3002</li><li>205 \uFF08\u91CD\u7F6E\u5185\u5BB9\uFF09 \u670D\u52A1\u5668\u6210\u529F\u5904\u7406\u4E86\u8BF7\u6C42\uFF0C\u4F46\u6CA1\u6709\u8FD4\u56DE\u4EFB\u4F55\u5185\u5BB9\u3002</li><li>206 \uFF08\u90E8\u5206\u5185\u5BB9\uFF09 \u670D\u52A1\u5668\u6210\u529F\u5904\u7406\u4E86\u90E8\u5206 GET \u8BF7\u6C42\u3002</li></ul><p><strong>3 \u5F00\u5934 \uFF08\u8BF7\u6C42\u88AB\u91CD\u5B9A\u5411\uFF09\u8868\u793A\u8981\u5B8C\u6210\u8BF7\u6C42\uFF0C\u9700\u8981\u8FDB\u4E00\u6B65\u64CD\u4F5C\u3002 \u901A\u5E38\uFF0C\u8FD9\u4E9B\u72B6\u6001\u4EE3\u7801\u7528\u6765\u91CD\u5B9A\u5411\u3002</strong></p><ul><li>300 \uFF08\u591A\u79CD\u9009\u62E9\uFF09 \u9488\u5BF9\u8BF7\u6C42\uFF0C\u670D\u52A1\u5668\u53EF\u6267\u884C\u591A\u79CD\u64CD\u4F5C\u3002 \u670D\u52A1\u5668\u53EF\u6839\u636E\u8BF7\u6C42\u8005 (user agent) \u9009\u62E9\u4E00\u9879\u64CD\u4F5C\uFF0C\u6216\u63D0\u4F9B\u64CD\u4F5C\u5217\u8868\u4F9B\u8BF7\u6C42\u8005\u9009\u62E9\u3002</li><li>301 \uFF08\u6C38\u4E45\u79FB\u52A8\uFF09 \u8BF7\u6C42\u7684\u7F51\u9875\u5DF2\u6C38\u4E45\u79FB\u52A8\u5230\u65B0\u4F4D\u7F6E\u3002 \u670D\u52A1\u5668\u8FD4\u56DE\u6B64\u54CD\u5E94\uFF08\u5BF9 GET \u6216 HEAD \u8BF7\u6C42\u7684\u54CD\u5E94\uFF09\u65F6\uFF0C\u4F1A\u81EA\u52A8\u5C06\u8BF7\u6C42\u8005\u8F6C\u5230\u65B0\u4F4D\u7F6E\u3002</li><li>302 \uFF08\u4E34\u65F6\u79FB\u52A8\uFF09 \u670D\u52A1\u5668\u76EE\u524D\u4ECE\u4E0D\u540C\u4F4D\u7F6E\u7684\u7F51\u9875\u54CD\u5E94\u8BF7\u6C42\uFF0C\u4F46\u8BF7\u6C42\u8005\u5E94\u7EE7\u7EED\u4F7F\u7528\u539F\u6709\u4F4D\u7F6E\u6765\u8FDB\u884C\u4EE5\u540E\u7684\u8BF7\u6C42\u3002</li><li>303 \uFF08\u67E5\u770B\u5176\u4ED6\u4F4D\u7F6E\uFF09 \u8BF7\u6C42\u8005\u5E94\u5F53\u5BF9\u4E0D\u540C\u7684\u4F4D\u7F6E\u4F7F\u7528\u5355\u72EC\u7684 GET \u8BF7\u6C42\u6765\u68C0\u7D22\u54CD\u5E94\u65F6\uFF0C\u670D\u52A1\u5668\u8FD4\u56DE\u6B64\u4EE3\u7801\u3002</li><li>304 \uFF08\u672A\u4FEE\u6539\uFF09 \u81EA\u4ECE\u4E0A\u6B21\u8BF7\u6C42\u540E\uFF0C\u8BF7\u6C42\u7684\u7F51\u9875\u672A\u4FEE\u6539\u8FC7\u3002 \u670D\u52A1\u5668\u8FD4\u56DE\u6B64\u54CD\u5E94\u65F6\uFF0C\u4E0D\u4F1A\u8FD4\u56DE\u7F51\u9875\u5185\u5BB9\u3002</li><li>305 \uFF08\u4F7F\u7528\u4EE3\u7406\uFF09 \u8BF7\u6C42\u8005\u53EA\u80FD\u4F7F\u7528\u4EE3\u7406\u8BBF\u95EE\u8BF7\u6C42\u7684\u7F51\u9875\u3002 \u5982\u679C\u670D\u52A1\u5668\u8FD4\u56DE\u6B64\u54CD\u5E94\uFF0C\u8FD8\u8868\u793A\u8BF7\u6C42\u8005\u5E94\u4F7F\u7528\u4EE3\u7406\u3002</li><li>307 \uFF08\u4E34\u65F6\u91CD\u5B9A\u5411\uFF09 \u670D\u52A1\u5668\u76EE\u524D\u4ECE\u4E0D\u540C\u4F4D\u7F6E\u7684\u7F51\u9875\u54CD\u5E94\u8BF7\u6C42\uFF0C\u4F46\u8BF7\u6C42\u8005\u5E94\u7EE7\u7EED\u4F7F\u7528\u539F\u6709\u4F4D\u7F6E\u6765\u8FDB\u884C\u4EE5\u540E\u7684\u8BF7\u6C42\u3002</li></ul><p><strong>4 \u5F00\u5934 \uFF08\u8BF7\u6C42\u9519\u8BEF\uFF09\u8FD9\u4E9B\u72B6\u6001\u4EE3\u7801\u8868\u793A\u8BF7\u6C42\u53EF\u80FD\u51FA\u9519\uFF0C\u59A8\u788D\u4E86\u670D\u52A1\u5668\u7684\u5904\u7406\u3002</strong></p><ul><li>400 \uFF08\u9519\u8BEF\u8BF7\u6C42\uFF09 \u670D\u52A1\u5668\u4E0D\u7406\u89E3\u8BF7\u6C42\u7684\u8BED\u6CD5\u3002</li><li>401 \uFF08\u672A\u6388\u6743\uFF09 \u8BF7\u6C42\u8981\u6C42\u8EAB\u4EFD\u9A8C\u8BC1\u3002 \u5BF9\u4E8E\u9700\u8981\u767B\u5F55\u7684\u7F51\u9875\uFF0C\u670D\u52A1\u5668\u53EF\u80FD\u8FD4\u56DE\u6B64\u54CD\u5E94\u3002</li><li>403 \uFF08\u7981\u6B62\uFF09 \u670D\u52A1\u5668\u62D2\u7EDD\u8BF7\u6C42\u3002</li><li>404 \uFF08\u672A\u627E\u5230\uFF09 \u670D\u52A1\u5668\u627E\u4E0D\u5230\u8BF7\u6C42\u7684\u7F51\u9875\u3002</li><li>405 \uFF08\u65B9\u6CD5\u7981\u7528\uFF09 \u7981\u7528\u8BF7\u6C42\u4E2D\u6307\u5B9A\u7684\u65B9\u6CD5\u3002</li><li>406 \uFF08\u4E0D\u63A5\u53D7\uFF09 \u65E0\u6CD5\u4F7F\u7528\u8BF7\u6C42\u7684\u5185\u5BB9\u7279\u6027\u54CD\u5E94\u8BF7\u6C42\u7684\u7F51\u9875\u3002</li><li>407 \uFF08\u9700\u8981\u4EE3\u7406\u6388\u6743\uFF09 \u6B64\u72B6\u6001\u4EE3\u7801\u4E0E 401\uFF08\u672A\u6388\u6743\uFF09\u7C7B\u4F3C\uFF0C\u4F46\u6307\u5B9A\u8BF7\u6C42\u8005\u5E94\u5F53\u6388\u6743\u4F7F\u7528\u4EE3\u7406\u3002</li><li>408 \uFF08\u8BF7\u6C42\u8D85\u65F6\uFF09 \u670D\u52A1\u5668\u7B49\u5019\u8BF7\u6C42\u65F6\u53D1\u751F\u8D85\u65F6\u3002</li><li>409 \uFF08\u51B2\u7A81\uFF09 \u670D\u52A1\u5668\u5728\u5B8C\u6210\u8BF7\u6C42\u65F6\u53D1\u751F\u51B2\u7A81\u3002 \u670D\u52A1\u5668\u5FC5\u987B\u5728\u54CD\u5E94\u4E2D\u5305\u542B\u6709\u5173\u51B2\u7A81\u7684\u4FE1\u606F\u3002</li><li>410 \uFF08\u5DF2\u5220\u9664\uFF09 \u5982\u679C\u8BF7\u6C42\u7684\u8D44\u6E90\u5DF2\u6C38\u4E45\u5220\u9664\uFF0C\u670D\u52A1\u5668\u5C31\u4F1A\u8FD4\u56DE\u6B64\u54CD\u5E94\u3002</li><li>411 \uFF08\u9700\u8981\u6709\u6548\u957F\u5EA6\uFF09 \u670D\u52A1\u5668\u4E0D\u63A5\u53D7\u4E0D\u542B\u6709\u6548\u5185\u5BB9\u957F\u5EA6\u6807\u5934\u5B57\u6BB5\u7684\u8BF7\u6C42\u3002</li><li>412 \uFF08\u672A\u6EE1\u8DB3\u524D\u63D0\u6761\u4EF6\uFF09 \u670D\u52A1\u5668\u672A\u6EE1\u8DB3\u8BF7\u6C42\u8005\u5728\u8BF7\u6C42\u4E2D\u8BBE\u7F6E\u7684\u5176\u4E2D\u4E00\u4E2A\u524D\u63D0\u6761\u4EF6\u3002</li><li>413 \uFF08\u8BF7\u6C42\u5B9E\u4F53\u8FC7\u5927\uFF09 \u670D\u52A1\u5668\u65E0\u6CD5\u5904\u7406\u8BF7\u6C42\uFF0C\u56E0\u4E3A\u8BF7\u6C42\u5B9E\u4F53\u8FC7\u5927\uFF0C\u8D85\u51FA\u670D\u52A1\u5668\u7684\u5904\u7406\u80FD\u529B\u3002</li><li>414 \uFF08\u8BF7\u6C42\u7684 URI \u8FC7\u957F\uFF09 \u8BF7\u6C42\u7684 URI\uFF08\u901A\u5E38\u4E3A\u7F51\u5740\uFF09\u8FC7\u957F\uFF0C\u670D\u52A1\u5668\u65E0\u6CD5\u5904\u7406\u3002</li><li>415 \uFF08\u4E0D\u652F\u6301\u7684\u5A92\u4F53\u7C7B\u578B\uFF09 \u8BF7\u6C42\u7684\u683C\u5F0F\u4E0D\u53D7\u8BF7\u6C42\u9875\u9762\u7684\u652F\u6301\u3002</li><li>416 \uFF08\u8BF7\u6C42\u8303\u56F4\u4E0D\u7B26\u5408\u8981\u6C42\uFF09 \u5982\u679C\u9875\u9762\u65E0\u6CD5\u63D0\u4F9B\u8BF7\u6C42\u7684\u8303\u56F4\uFF0C\u5219\u670D\u52A1\u5668\u4F1A\u8FD4\u56DE\u6B64\u72B6\u6001\u4EE3\u7801\u3002</li><li>417 \uFF08\u672A\u6EE1\u8DB3\u671F\u671B\u503C\uFF09 \u670D\u52A1\u5668\u672A\u6EE1\u8DB3&quot;\u671F\u671B&quot;\u8BF7\u6C42\u6807\u5934\u5B57\u6BB5\u7684\u8981\u6C42\u3002</li></ul><p><strong>5 \u5F00\u5934\uFF08\u670D\u52A1\u5668\u9519\u8BEF\uFF09\u8FD9\u4E9B\u72B6\u6001\u4EE3\u7801\u8868\u793A\u670D\u52A1\u5668\u5728\u5C1D\u8BD5\u5904\u7406\u8BF7\u6C42\u65F6\u53D1\u751F\u5185\u90E8\u9519\u8BEF\u3002 \u8FD9\u4E9B\u9519\u8BEF\u53EF\u80FD\u662F\u670D\u52A1\u5668\u672C\u8EAB\u7684\u9519\u8BEF\uFF0C\u800C\u4E0D\u662F\u8BF7\u6C42\u51FA\u9519\u3002</strong></p><ul><li>500 \uFF08\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF\uFF09 \u670D\u52A1\u5668\u9047\u5230\u9519\u8BEF\uFF0C\u65E0\u6CD5\u5B8C\u6210\u8BF7\u6C42\u3002</li><li>501 \uFF08\u5C1A\u672A\u5B9E\u65BD\uFF09 \u670D\u52A1\u5668\u4E0D\u5177\u5907\u5B8C\u6210\u8BF7\u6C42\u7684\u529F\u80FD\u3002 \u4F8B\u5982\uFF0C\u670D\u52A1\u5668\u65E0\u6CD5\u8BC6\u522B\u8BF7\u6C42\u65B9\u6CD5\u65F6\u53EF\u80FD\u4F1A\u8FD4\u56DE\u6B64\u4EE3\u7801\u3002</li><li>502 \uFF08\u9519\u8BEF\u7F51\u5173\uFF09 \u670D\u52A1\u5668\u4F5C\u4E3A\u7F51\u5173\u6216\u4EE3\u7406\uFF0C\u4ECE\u4E0A\u6E38\u670D\u52A1\u5668\u6536\u5230\u65E0\u6548\u54CD\u5E94\u3002</li><li>503 \uFF08\u670D\u52A1\u4E0D\u53EF\u7528\uFF09 \u670D\u52A1\u5668\u76EE\u524D\u65E0\u6CD5\u4F7F\u7528\uFF08\u7531\u4E8E\u8D85\u8F7D\u6216\u505C\u673A\u7EF4\u62A4\uFF09\u3002 \u901A\u5E38\uFF0C\u8FD9\u53EA\u662F\u6682\u65F6\u72B6\u6001\u3002</li><li>504 \uFF08\u7F51\u5173\u8D85\u65F6\uFF09 \u670D\u52A1\u5668\u4F5C\u4E3A\u7F51\u5173\u6216\u4EE3\u7406\uFF0C\u4F46\u662F\u6CA1\u6709\u53CA\u65F6\u4ECE\u4E0A\u6E38\u670D\u52A1\u5668\u6536\u5230\u8BF7\u6C42\u3002</li><li>505 \uFF08HTTP \u7248\u672C\u4E0D\u53D7\u652F\u6301\uFF09 \u670D\u52A1\u5668\u4E0D\u652F\u6301\u8BF7\u6C42\u4E2D\u6240\u7528\u7684 HTTP \u534F\u8BAE\u7248\u672C\u3002</li></ul><h2 id="http-\u548C-https" tabindex="-1">http \u548C https <a class="header-anchor" href="#http-\u548C-https" aria-hidden="true">#</a></h2><ol><li>HTTP \u548C HTTPS \u7684\u57FA\u672C\u6982\u5FF5</li></ol><p>HTTP\uFF1A\u662F\u4E92\u8054\u7F51\u4E0A\u5E94\u7528\u6700\u4E3A\u5E7F\u6CDB\u7684\u4E00\u79CD\u7F51\u7EDC\u534F\u8BAE\uFF0C\u662F\u4E00\u4E2A\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u5668\u7AEF\u8BF7\u6C42\u548C\u5E94\u7B54\u7684\u6807\u51C6\uFF08TCP\uFF09\uFF0C\u7528\u4E8E\u4ECE WWW \u670D\u52A1\u5668\u4F20\u8F93\u8D85\u6587\u672C\u5230\u672C\u5730\u6D4F\u89C8\u5668\u7684\u4F20\u8F93\u534F\u8BAE\uFF0C\u5B83\u53EF\u4EE5\u4F7F\u6D4F\u89C8\u5668\u66F4\u52A0\u9AD8\u6548\uFF0C\u4F7F\u7F51\u7EDC\u4F20\u8F93\u51CF\u5C11\u3002<br> HTTPS\uFF1A\u662F\u4EE5\u5B89\u5168\u4E3A\u76EE\u6807\u7684 HTTP \u901A\u9053\uFF0C\u7B80\u5355\u8BB2\u662F HTTP \u7684\u5B89\u5168\u7248\uFF0C\u5373 HTTP \u4E0B\u52A0\u5165 TLS \u5C42\uFF0CHTTPS \u7684\u5B89\u5168\u57FA\u7840\u662F TLS\uFF0C\u56E0\u6B64\u52A0\u5BC6\u7684\u8BE6\u7EC6\u5185\u5BB9\u5C31\u9700\u8981 TLS\u3002<br> HTTPS \u534F\u8BAE\u7684\u4E3B\u8981\u4F5C\u7528\u53EF\u4EE5\u5206\u4E3A\u4E24\u79CD\uFF1A\u4E00\u79CD\u662F\u5EFA\u7ACB\u4E00\u4E2A\u4FE1\u606F\u5B89\u5168\u901A\u9053\uFF0C\u6765\u4FDD\u8BC1\u6570\u636E\u4F20\u8F93\u7684\u5B89\u5168\uFF1B\u53E6\u4E00\u79CD\u5C31\u662F\u786E\u8BA4\u7F51\u7AD9\u7684\u771F\u5B9E\u6027\u3002</p><ol start="2"><li>HTTP \u4E0E HTTPS \u6709\u4EC0\u4E48\u533A\u522B\uFF1F</li></ol><p>HTTP \u534F\u8BAE\u4F20\u8F93\u7684\u6570\u636E\u90FD\u662F\u672A\u52A0\u5BC6\u7684\uFF0C\u4E5F\u5C31\u662F\u660E\u6587\u7684\uFF0C\u56E0\u6B64\u4F7F\u7528 HTTP \u534F\u8BAE\u4F20\u8F93\u9690\u79C1\u4FE1\u606F\u975E\u5E38\u4E0D\u5B89\u5168\uFF0C\u4E3A\u4E86\u4FDD\u8BC1 \u8FD9\u4E9B\u9690\u79C1\u6570\u636E\u80FD\u52A0\u5BC6\u4F20\u8F93\uFF0C\u4E8E\u662F\u7F51\u666F\u516C\u53F8\u8BBE\u8BA1\u4E86 TLS\uFF08Secure Sockets Layer\uFF09\u534F\u8BAE\u7528\u4E8E\u5BF9 HTTP \u534F\u8BAE\u4F20\u8F93\u7684\u6570\u636E\u8FDB\u884C\u52A0\u5BC6\uFF0C\u4ECE\u800C\u5C31\u8BDE\u751F\u4E86 HTTPS\u3002\u7B80\u5355\u6765\u8BF4\uFF0CHTTPS \u534F\u8BAE\u662F\u7531 TLS+HTTP \u534F\u8BAE\u6784\u5EFA\u7684\u53EF\u8FDB\u884C\u52A0\u5BC6\u4F20\u8F93\u3001\u8EAB\u4EFD\u8BA4\u8BC1\u7684\u7F51\u7EDC\u534F\u8BAE\uFF0C\u8981\u6BD4 http \u534F\u8BAE\u5B89\u5168\u3002</p><p>HTTPS \u548C HTTP \u7684\u533A\u522B\u4E3B\u8981\u5982\u4E0B\uFF1A</p><ul><li>1\u3001https \u534F\u8BAE\u9700\u8981\u5230 ca \u7533\u8BF7\u8BC1\u4E66\uFF0C\u4E00\u822C\u514D\u8D39\u8BC1\u4E66\u8F83\u5C11\uFF0C\u56E0\u800C\u9700\u8981\u4E00\u5B9A\u8D39\u7528\u3002</li><li>2\u3001http \u662F\u8D85\u6587\u672C\u4F20\u8F93\u534F\u8BAE\uFF0C\u4FE1\u606F\u662F\u660E\u6587\u4F20\u8F93\uFF0Chttps \u5219\u662F\u5177\u6709\u5B89\u5168\u6027\u7684 tls \u52A0\u5BC6\u4F20\u8F93\u534F\u8BAE\u3002</li><li>3\u3001http \u548C https \u4F7F\u7528\u7684\u662F\u5B8C\u5168\u4E0D\u540C\u7684\u8FDE\u63A5\u65B9\u5F0F\uFF0C\u7528\u7684\u7AEF\u53E3\u4E5F\u4E0D\u4E00\u6837\uFF0C\u524D\u8005\u662F 80\uFF0C\u540E\u8005\u662F 443\u3002</li><li>4\u3001http \u7684\u8FDE\u63A5\u5F88\u7B80\u5355\uFF0C\u662F\u65E0\u72B6\u6001\u7684\uFF1BHTTPS \u534F\u8BAE\u662F\u7531 TLS+HTTP \u534F\u8BAE\u6784\u5EFA\u7684\u53EF\u8FDB\u884C\u52A0\u5BC6\u4F20\u8F93\u3001\u8EAB\u4EFD\u8BA4\u8BC1\u7684\u7F51\u7EDC\u534F\u8BAE\uFF0C\u6BD4 http \u534F\u8BAE\u5B89\u5168\u3002</li></ul><h2 id="http1-x-\u548C-http2-x-\u533A\u522B" tabindex="-1">http1.x \u548C http2.x \u533A\u522B <a class="header-anchor" href="#http1-x-\u548C-http2-x-\u533A\u522B" aria-hidden="true">#</a></h2><p>http1.x \u548C http2.x \u4E3B\u8981\u6709\u4EE5\u4E0B 4 \u4E2A\u533A\u522B\uFF1A</p><ol><li>HTTP2 \u4F7F\u7528\u7684\u662F\u4E8C\u8FDB\u5236\u4F20\u9001\uFF0CHTTP1.X \u662F\u6587\u672C\uFF08\u5B57\u7B26\u4E32\uFF09\u4F20\u9001\u3002</li></ol><p>\u4E8C\u8FDB\u5236\u4F20\u9001\u7684\u5355\u4F4D\u662F\u5E27\u548C\u6D41\u3002\u5E27\u7EC4\u6210\u4E86\u6D41\uFF0C\u540C\u65F6\u6D41\u8FD8\u6709\u6D41 ID \u6807\u793A</p><ol start="2"><li>HTTP2 \u652F\u6301\u591A\u8DEF\u590D\u7528</li></ol><p>\u56E0\u4E3A\u6709\u6D41 ID\uFF0C\u6240\u4EE5\u901A\u8FC7\u540C\u4E00\u4E2A http \u8BF7\u6C42\u5B9E\u73B0\u591A\u4E2A http \u8BF7\u6C42\u4F20\u8F93\u53D8\u6210\u4E86\u53EF\u80FD\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6D41 ID \u6765\u6807\u793A\u7A76\u7ADF\u662F\u54EA\u4E2A\u6D41\u4ECE\u800C\u5B9A\u4F4D\u5230\u662F\u54EA\u4E2A http \u8BF7\u6C42</p><ol start="3"><li>HTTP2 \u5934\u90E8\u538B\u7F29</li></ol><p>HTTP2 \u901A\u8FC7 gzip \u548C compress \u538B\u7F29\u5934\u90E8\u7136\u540E\u518D\u53D1\u9001\uFF0C\u540C\u65F6\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u5668\u7AEF\u540C\u65F6\u7EF4\u62A4\u4E00\u5F20\u5934\u4FE1\u606F\u8868\uFF0C\u6240\u6709\u5B57\u6BB5\u90FD\u8BB0\u5F55\u5728\u8FD9\u5F20\u8868\u4E2D\uFF0C\u8FD9\u6837\u540E\u9762\u6BCF\u6B21\u4F20\u8F93\u53EA\u9700\u8981\u4F20\u8F93\u8868\u91CC\u9762\u7684\u7D22\u5F15 Id \u5C31\u884C\uFF0C\u901A\u8FC7\u7D22\u5F15 ID \u67E5\u8BE2\u8868\u5934\u7684\u503C</p><ol start="4"><li>HTTP2 \u652F\u6301\u670D\u52A1\u5668\u63A8\u9001</li></ol><p>HTTP2 \u652F\u6301\u5728\u672A\u7ECF\u5BA2\u6237\u7AEF\u8BB8\u53EF\u7684\u60C5\u51B5\u4E0B\uFF0C\u4E3B\u52A8\u5411\u5BA2\u6237\u7AEF\u63A8\u9001\u5185\u5BB9</p><h2 id="http-\u8BF7\u6C42\u65B9\u5F0F" tabindex="-1">http \u8BF7\u6C42\u65B9\u5F0F <a class="header-anchor" href="#http-\u8BF7\u6C42\u65B9\u5F0F" aria-hidden="true">#</a></h2><p>http \u8BF7\u6C42\u65B9\u5F0F\u6709\u4EE5\u4E0B 8 \u79CD\uFF0C\u5176\u4E2D get \u548C post \u662F\u6700\u5E38\u7528\u7684\uFF1A</p><p>1\u3001OPTIONS</p><p>\u8FD4\u56DE\u670D\u52A1\u5668\u9488\u5BF9\u7279\u5B9A\u8D44\u6E90\u6240\u652F\u6301\u7684 HTTP \u8BF7\u6C42\u65B9\u6CD5\uFF0C\u4E5F\u53EF\u4EE5\u5229\u7528\u5411 web \u670D\u52A1\u5668\u53D1\u9001\u2018*\u2019\u7684\u8BF7\u6C42\u6765\u6D4B\u8BD5\u670D\u52A1\u5668\u7684\u529F\u80FD\u6027</p><p>2\u3001HEAD</p><p>\u5411\u670D\u52A1\u5668\u7D22\u4E0E GET \u8BF7\u6C42\u76F8\u4E00\u81F4\u7684\u54CD\u5E94\uFF0C\u53EA\u4E0D\u8FC7\u54CD\u5E94\u4F53\u5C06\u4E0D\u4F1A\u88AB\u8FD4\u56DE\u3002\u8FD9\u4E00\u65B9\u6CD5\u53EF\u4EE5\u518D\u4E0D\u5FC5\u4F20\u8F93\u6574\u4E2A\u54CD\u5E94\u5185\u5BB9\u7684\u60C5\u51B5\u4E0B\uFF0C\u5C31\u53EF\u4EE5\u83B7\u53D6\u5305\u542B\u5728\u54CD\u5E94\u5C0F\u6D88\u606F\u5934\u4E2D\u7684\u5143\u4FE1\u606F\u3002</p><p>3\u3001GET</p><p>\u5411\u7279\u5B9A\u7684\u8D44\u6E90\u53D1\u51FA\u8BF7\u6C42\u3002\u6CE8\u610F\uFF1AGET \u65B9\u6CD5\u4E0D\u5E94\u5F53\u88AB\u7528\u4E8E\u4EA7\u751F\u201C\u526F\u4F5C\u7528\u201D\u7684\u64CD\u4F5C\u4E2D\uFF0C\u4F8B\u5982\u5728 Web Application \u4E2D\uFF0C\u5176\u4E2D\u4E00\u4E2A\u539F\u56E0\u662F GET \u53EF\u80FD\u4F1A\u88AB\u7F51\u7EDC\u8718\u86DB\u7B49\u968F\u610F\u8BBF\u95EE\u3002Loadrunner \u4E2D\u5BF9\u5E94 get \u8BF7\u6C42\u51FD\u6570\uFF1Aweb_link \u548C web_url</p><p>4\u3001POST</p><p>\u5411\u6307\u5B9A\u8D44\u6E90\u63D0\u4EA4\u6570\u636E\u8FDB\u884C\u5904\u7406\u8BF7\u6C42\uFF08\u4F8B\u5982\u63D0\u4EA4\u8868\u5355\u6216\u8005\u4E0A\u4F20\u6587\u4EF6\uFF09\u3002\u6570\u636E\u88AB\u5305\u542B\u5728\u8BF7\u6C42\u4F53\u4E2D\u3002POST \u8BF7\u6C42\u53EF\u80FD\u4F1A\u5BFC\u81F4\u65B0\u7684\u8D44\u6E90\u7684\u5EFA\u7ACB\u548C/\u6216\u5DF2\u6709\u8D44\u6E90\u7684\u4FEE\u6539\u3002 Loadrunner \u4E2D\u5BF9\u5E94 POST \u8BF7\u6C42\u51FD\u6570\uFF1Aweb_submit_data,web_submit_form</p><p>5\u3001PUT</p><p>\u5411\u6307\u5B9A\u8D44\u6E90\u4F4D\u7F6E\u4E0A\u4F20\u5176\u6700\u65B0\u5185\u5BB9</p><p>6\u3001DELETE</p><p>\u8BF7\u6C42\u670D\u52A1\u5668\u5220\u9664 Request-URL \u6240\u6807\u8BC6\u7684\u8D44\u6E90</p><p>7\u3001TRACE</p><p>\u56DE\u663E\u670D\u52A1\u5668\u6536\u5230\u7684\u8BF7\u6C42\uFF0C\u4E3B\u8981\u7528\u4E8E\u6D4B\u8BD5\u6216\u8BCA\u65AD</p><p>8\u3001CONNECT</p><p>HTTP/1.1 \u534F\u8BAE\u4E2D\u9884\u7559\u7ED9\u80FD\u591F\u5C06\u8FDE\u63A5\u6539\u4E3A\u7BA1\u9053\u65B9\u5F0F\u7684\u4EE3\u7406\u670D\u52A1\u5668\u3002</p><h2 id="https-\u5982\u4F55\u4FDD\u8BC1\u5B89\u5168" tabindex="-1">HTTPS \u5982\u4F55\u4FDD\u8BC1\u5B89\u5168 <a class="header-anchor" href="#https-\u5982\u4F55\u4FDD\u8BC1\u5B89\u5168" aria-hidden="true">#</a></h2><p>HTTPS\uFF08\u5168\u79F0\uFF1AHypertext Transfer Protocol over Secure Socket Layer\uFF09\uFF0C\u662F\u4EE5\u5B89\u5168\u4E3A\u76EE\u6807\u7684 HTTP \u901A\u9053\uFF0C\u7B80\u5355\u8BB2\u662F HTTP \u7684\u5B89\u5168\u7248\u3002HTTPS = HTTP + SSL/TLS\uFF0C\u5982\u4ECA SSL \u5DF2\u5E9F\u5F03\uFF0C\u6240\u4EE5\u73B0\u5728\u53EA\u5173\u6CE8 HTTP + TLS\u3002\u4E3A\u4E86\u89E3\u51B3 HTTP \u534F\u8BAE\u7684\u95EE\u9898\uFF0CHTTPS \u5F15\u5165\u4E86\u6570\u636E\u52A0\u5BC6\u548C\u8EAB\u4EFD\u9A8C\u8BC1\u673A\u5236\u3002\u5728\u5F00\u59CB\u4F20\u8F93\u6570\u636E\u4E4B\u524D\uFF0C\u901A\u8FC7\u5B89\u5168\u53EF\u9760\u7684 TLS \u534F\u8BAE\u8FDB\u884C\u52A0\u5BC6\uFF0C\u4ECE\u800C\u4FDD\u8BC1\u540E\u7EED\u52A0\u5BC6\u4F20\u8F93\u6570\u636E\u7684\u5B89\u5168\u6027\u3002</p><p>TLS \u534F\u8BAE\uFF1A\u4F20\u8F93\u5C42\u5B89\u5168\u6027\u534F\u8BAE\uFF08Transport Layer Security\uFF0CTLS\uFF09\u53CA\u5176\u524D\u8EAB\u5B89\u5168\u5957\u63A5\u5C42\uFF08Secure Sockets Layer\uFF0CSSL\uFF09\u662F\u4E00\u79CD\u5B89\u5168\u534F\u8BAE\uFF0C\u76EE\u7684\u662F\u4E3A\u4E86\u4FDD\u8BC1\u7F51\u7EDC\u901A\u4FE1\u5B89\u5168\u548C\u6570\u636E\u5B8C\u6574\u6027\u3002</p><p>\u53D7 TLS \u534F\u8BAE\u4FDD\u62A4\u7684\u901A\u4FE1\u8FC7\u7A0B\uFF1A\u5148\u5BF9\u4F20\u8F93\u7684\u6570\u636E\u8FDB\u884C\u4E86\u52A0\u5BC6\uFF08\u4F7F\u7528\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\uFF09\u3002\u5E76\u4E14\u5BF9\u79F0\u52A0\u5BC6\u7684\u5BC6\u94A5\u662F\u4E3A\u6BCF\u4E00\u4E2A\u8FDE\u63A5\u552F\u4E00\u751F\u6210\u7684\uFF08\u57FA\u4E8E TLS \u63E1\u624B\u9636\u6BB5\u534F\u5546\u7684\u52A0\u5BC6\u7B97\u6CD5\u548C\u5171\u4EAB\u5BC6\u94A5\uFF09\uFF0C\u7136\u540E\u53D1\u9001\u7684\u6BCF\u6761\u6D88\u606F\u90FD\u4F1A\u901A\u8FC7\u6D88\u606F\u9A8C\u8BC1\u7801\uFF08Message authentication code, MAC\uFF09\uFF0C\u6765\u8FDB\u884C\u6D88\u606F\u5B8C\u6574\u6027\u68C0\u67E5\uFF0C\u6700\u540E\u8FD8\u53EF\u4EE5\u4F7F\u7528\u516C\u94A5\u5BF9\u901A\u4FE1\u53CC\u65B9\u8FDB\u884C\u8EAB\u4EFD\u9A8C\u8BC1</p><p>Https \u7684\u4F5C\u7528</p><ul><li>\u5185\u5BB9\u52A0\u5BC6 \u5EFA\u7ACB\u4E00\u4E2A\u4FE1\u606F\u5B89\u5168\u901A\u9053\uFF0C\u6765\u4FDD\u8BC1\u6570\u636E\u4F20\u8F93\u7684\u5B89\u5168\uFF1B</li><li>\u8EAB\u4EFD\u8BA4\u8BC1 \u786E\u8BA4\u7F51\u7AD9\u7684\u771F\u5B9E\u6027</li><li>\u6570\u636E\u5B8C\u6574\u6027 \u9632\u6B62\u5185\u5BB9\u88AB\u7B2C\u4E09\u65B9\u5192\u5145\u6216\u8005\u7BE1\u6539</li></ul><h2 id="\u975E\u5BF9\u79F0\u52A0\u5BC6\u548C\u5BF9\u79F0\u52A0\u5BC6-\u5177\u4F53\u600E\u4E48\u5B9E\u73B0\u7684" tabindex="-1">\u975E\u5BF9\u79F0\u52A0\u5BC6\u548C\u5BF9\u79F0\u52A0\u5BC6\uFF0C\u5177\u4F53\u600E\u4E48\u5B9E\u73B0\u7684 <a class="header-anchor" href="#\u975E\u5BF9\u79F0\u52A0\u5BC6\u548C\u5BF9\u79F0\u52A0\u5BC6-\u5177\u4F53\u600E\u4E48\u5B9E\u73B0\u7684" aria-hidden="true">#</a></h2><p>\u5BF9\u79F0\u52A0\u5BC6\uFF1A\u5728\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\u4E2D\uFF0C\u52A0\u5BC6\u4F7F\u7528\u7684\u5BC6\u94A5\u548C\u89E3\u5BC6\u4F7F\u7528\u7684\u5BC6\u94A5\u662F\u76F8\u540C\u7684\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u52A0\u5BC6\u548C\u89E3\u5BC6\u90FD\u662F\u4F7F\u7528\u7684\u540C\u4E00\u4E2A\u5BC6\u94A5\u3002<br> \u975E\u5BF9\u79F0\u52A0\u5BC6\uFF1A\u6307\u52A0\u5BC6\u548C\u89E3\u5BC6\u4F7F\u7528\u4E0D\u540C\u5BC6\u94A5\u7684\u52A0\u5BC6\u7B97\u6CD5\u3002\u975E\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\u9700\u8981\u4E24\u4E2A\u5BC6\u94A5\uFF1A\u516C\u94A5\uFF08publickey\uFF09\u79C1\u94A5\uFF08privatekey\uFF09\u3002<br> \u516C\u94A5\u4E0E\u79C1\u94A5\u662F\u4E00\u5BF9\u5B58\u5728\uFF0C\u5982\u679C\u7528\u516C\u94A5\u5BF9\u6570\u636E\u8FDB\u884C\u52A0\u5BC6\uFF0C\u53EA\u6709\u7528\u5BF9\u5E94\u7684\u79C1\u94A5\u624D\u80FD\u89E3\u5BC6\uFF1B\u5982\u679C\u7528\u5BC6\u94A5\u5BF9\u6570\u636E\u8FDB\u884C\u52A0\u5BC6\uFF0C\u90A3\u4E48\u53EA\u6709\u7528\u5BF9\u5E94\u7684\u516C\u94A5\u624D\u80FD\u89E3\u5BC6\u3002\u56E0\u4E3A\u52A0\u5BC6\u548C\u89E3\u5BC6\u4F7F\u7528\u7684\u662F\u4E24\u4E2A\u4E0D\u540C\u7684\u5BC6\u94A5\uFF0C\u6240\u4EE5\u8FD9\u79CD\u7B97\u6CD5\u53EB\u4F5C\u975E\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\u3002</p><ol><li><p>\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\u7684\u7F3A\u70B9</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>1\u3001\u8981\u6C42\u63D0\u4F9B\u4E00\u6761\u5B89\u5168\u7684\u6E20\u9053\u4F7F\u901A\u8BAF\u53CC\u65B9\u5728\u9996\u6B21\u901A\u8BAF\u65F6\u534F\u5546\u4E00\u4E2A\u5171\u540C\u7684\u5BC6\u94A5\u3002\u76F4\u63A5\u7684\u9762\u5BF9\u9762\u534F\u5546\u53EF\u80FD\u662F\u4E0D\u73B0\u5B9E\u800C\u4E14\u96BE\u4E8E\u5B9E\u65BD\u7684\uFF0C\u6240\u4EE5\u53CC\u65B9\u53EF\u80FD\u9700\u8981\u501F\u52A9\u4E8E\u90AE\u4EF6\u548C\u7535\u8BDD\u7B49\u5176\u5B83\u76F8\u5BF9\u4E0D\u591F\u5B89\u5168\u7684\u624B\u6BB5\u6765\u8FDB\u884C\u534F\u5546\uFF1B<br> 2\u3001\u5BC6\u94A5\u7684\u6570\u76EE\u96BE\u4E8E\u7BA1\u7406\u3002\u56E0\u4E3A\u5BF9\u4E8E\u6BCF\u4E00\u4E2A\u5408\u4F5C\u8005\u90FD\u9700\u8981\u4F7F\u7528\u4E0D\u540C\u7684\u5BC6\u94A5\uFF0C\u5F88\u96BE\u9002\u5E94\u5F00\u653E\u793E\u4F1A\u4E2D\u5927\u91CF\u7684\u4FE1\u606F\u4EA4\u6D41\uFF1B<br> 3\u3001\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\u4E00\u822C\u4E0D\u80FD\u63D0\u4F9B\u4FE1\u606F\u5B8C\u6574\u6027\u7684\u9274\u522B\u3002\u5B83\u65E0\u6CD5\u9A8C\u8BC1\u53D1\u9001\u8005\u548C\u63A5\u53D7\u8005\u7684\u8EAB\u4EFD\uFF1B<br> 4\u3001\u5BF9\u79F0\u5BC6\u94A5\u7684\u7BA1\u7406\u548C\u5206\u53D1\u5DE5\u4F5C\u662F\u4E00\u4EF6\u5177\u6709\u6F5C\u5728\u5371\u9669\u7684\u548C\u70E6\u7410\u7684\u8FC7\u7A0B\u3002\u5BF9\u79F0\u52A0\u5BC6\u662F\u57FA\u4E8E\u5171\u540C\u4FDD\u5B88\u79D8\u5BC6\u6765\u5B9E\u73B0\u7684\uFF0C\u91C7\u7528\u5BF9\u79F0\u52A0\u5BC6\u6280\u672F\u7684\u8D38\u6613\u53CC\u65B9\u5FC5\u987B\u4FDD\u8BC1\u91C7\u7528\u7684\u662F\u76F8\u540C\u7684\u5BC6\u94A5\uFF0C\u4FDD\u8BC1\u5F7C\u6B64\u5BC6\u94A5\u7684\u4EA4\u6362\u662F\u5B89\u5168\u53EF\u9760\u7684\uFF0C\u540C\u65F6\u8FD8\u8981\u8BBE\u5B9A\u9632\u6B62\u5BC6\u94A5\u6CC4\u5BC6\u548C\u66F4\u6539\u5BC6\u94A5\u7684\u7A0B\u5E8F\u3002</p></div></li><li><p>\u4E24\u79CD\u52A0\u5BC6\u4F53\u5236\u7684\u7279\u70B9 \u975E\u5BF9\u79F0\u5BC6\u7801\u4F53\u5236\u7684\u7279\u70B9\uFF1A\u7B97\u6CD5\u5F3A\u5EA6\u590D\u6742\u3001\u5B89\u5168\u6027\u4F9D\u8D56\u4E8E\u7B97\u6CD5\u4E0E\u5BC6\u94A5\u4F46\u662F\u7531\u4E8E\u5176\u7B97\u6CD5\u590D\u6742\uFF0C\u800C\u4F7F\u5F97\u52A0\u5BC6\u89E3\u5BC6\u901F\u5EA6\u6CA1\u6709\u5BF9\u79F0\u52A0\u5BC6\u89E3\u5BC6\u7684\u901F\u5EA6\u5FEB\u3002</p></li></ol><p>\u5BF9\u79F0\u5BC6\u7801\u4F53\u5236\u4E2D\u53EA\u6709\u4E00\u79CD\u5BC6\u94A5\uFF0C\u5E76\u4E14\u662F\u975E\u516C\u5F00\u7684\uFF0C\u5982\u679C\u8981\u89E3\u5BC6\u5C31\u5F97\u8BA9\u5BF9\u65B9\u77E5\u9053\u5BC6\u94A5\uFF0C\u6240\u4EE5\u4FDD\u8BC1\u5176\u5B89\u5168\u6027\u5C31\u662F\u4FDD\u8BC1\u5BC6\u94A5\u7684\u5B89\u5168\u3002\u800C\u975E\u5BF9\u79F0\u5BC6\u94A5\u4F53\u5236\u6709\u4E24\u79CD\u5BC6\u94A5\uFF0C\u5176\u4E2D\u4E00\u4E2A\u662F\u516C\u5F00\u7684\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u4E0D\u9700\u8981\u50CF\u5BF9\u79F0\u5BC6\u7801\u90A3\u6837\u4F20\u8F93\u5BF9\u65B9\u7684\u5BC6\u94A5\u4E86\u3002\u8FD9\u6837\u5B89\u5168\u6027\u5C31\u5927\u4E86\u5F88\u591A\u3002</p><p>\u5047\u8BBE\u4E24\u4E2A\u7528\u6237\u8981\u52A0\u5BC6\u4EA4\u6362\u6570\u636E\uFF0C\u53CC\u65B9\u4EA4\u6362\u516C\u94A5\uFF0C\u4F7F\u7528\u65F6\u4E00\u65B9\u7528\u5BF9\u65B9\u7684\u516C\u94A5\u52A0\u5BC6\uFF0C\u53E6\u4E00\u65B9\u5373\u53EF\u7528\u81EA\u5DF1\u7684\u79C1\u94A5\u89E3\u5BC6\u3002</p><p>\u5982\u679C\u4F01\u4E1A\u4E2D\u6709 n \u4E2A\u7528\u6237\uFF0C\u4F01\u4E1A\u9700\u8981\u751F\u6210 n \u5BF9\u5BC6\u94A5\uFF0C\u5E76\u5206\u53D1 n \u4E2A\u516C\u94A5\u3002\u7531\u4E8E\u516C\u94A5\u662F\u53EF\u4EE5\u516C\u5F00\u7684\uFF0C\u7528\u6237\u53EA\u8981\u4FDD\u7BA1\u597D\u81EA\u5DF1\u7684\u79C1\u94A5\u5373\u53EF\uFF0C\u56E0\u6B64\u52A0\u5BC6\u5BC6\u94A5\u7684\u5206\u53D1\u5C06\u53D8\u5F97 \u5341\u5206\u7B80\u5355\u3002\u540C\u65F6\uFF0C\u7531\u4E8E\u6BCF\u4E2A\u7528\u6237\u7684\u79C1\u94A5\u662F\u552F\u4E00\u7684\uFF0C\u5176\u4ED6\u7528\u6237\u9664\u4E86\u53EF\u4EE5\u901A\u8FC7&quot;\u4FE1\u606F\u53D1\u9001\u8005\u7684\u516C\u94A5&quot;\u6765\u9A8C\u8BC1\u4FE1\u606F\u7684\u6765\u6E90\u662F\u5426\u771F\u5B9E\uFF0C\u8FD8\u53EF\u4EE5\u786E\u4FDD\u53D1\u9001\u8005\u65E0\u6CD5\u5426\u8BA4\u66FE\u53D1\u9001\u8FC7\u8BE5\u4FE1\u606F\u3002\u975E\u5BF9\u79F0\u52A0\u5BC6\u7684\u7F3A\u70B9\u662F\u52A0\u89E3\u5BC6\u901F\u5EA6\u8981\u8FDC\u8FDC\u6162\u4E8E\u5BF9\u79F0\u52A0\u5BC6\uFF0C\u5728\u67D0\u4E9B\u6781\u7AEF\u60C5\u51B5\u4E0B\uFF0C\u751A\u81F3\u80FD\u6BD4\u5BF9\u79F0\u52A0\u5BC6\u6162\u4E0A 1000 \u500D\u3002</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>\u975E\u5BF9\u79F0\u7684\u597D\u5904\u663E\u800C\u6613\u89C1\uFF0C\u975E\u5BF9\u79F0\u52A0\u5BC6\u4F53\u7CFB\u4E0D\u8981\u6C42\u901A\u4FE1\u53CC\u65B9\u4E8B\u5148\u4F20\u9012\u5BC6\u94A5\u6216\u6709\u4EFB\u4F55\u7EA6\u5B9A\u5C31\u80FD\u5B8C\u6210\u4FDD\u5BC6\u901A\u4FE1\uFF0C\u5E76\u4E14\u5BC6\u94A5\u7BA1\u7406\u65B9\u4FBF\uFF0C\u53EF\u5B9E\u73B0\u9632\u6B62\u5047\u5192\u548C\u62B5\u8D56\uFF0C\u56E0\u6B64\uFF0C\u66F4\u9002\u5408\u7F51\u7EDC\u901A\u4FE1\u4E2D\u7684\u4FDD\u5BC6\u901A\u4FE1\u8981\u6C42\u3002</p></div><h2 id="https-\u901A\u4FE1\u7684\u6574\u4E2A\u8FC7\u7A0B" tabindex="-1">HTTPS \u901A\u4FE1\u7684\u6574\u4E2A\u8FC7\u7A0B <a class="header-anchor" href="#https-\u901A\u4FE1\u7684\u6574\u4E2A\u8FC7\u7A0B" aria-hidden="true">#</a></h2><p><img src="`+o+`" alt="image.png"></p><p>\u5728\u4EE5\u4E0A\u6D41\u7A0B\u4E2D\uFF0C\u5E94\u7528\u5C42\u53D1\u9001\u6570\u636E\u65F6\u4F1A\u9644\u52A0\u4E00\u79CD\u53EB\u505A MAC\uFF08Message Authentication Code\uFF09\u7684\u62A5\u6587\u6458\u8981\u3002MAC \u80FD\u591F\u67E5\u77E5\u62A5\u6587\u662F\u5426\u906D\u5230\u7BE1\u6539\uFF0C\u4ECE\u800C\u4FDD\u62A4\u62A5\u6587\u7684\u5B8C\u6574\u6027\u3002</p><h2 id="\u8BB2\u89E3\u4E00\u4E0B-option-\u8BF7\u6C42\u65B9\u5F0F" tabindex="-1">\u8BB2\u89E3\u4E00\u4E0B option \u8BF7\u6C42\u65B9\u5F0F <a class="header-anchor" href="#\u8BB2\u89E3\u4E00\u4E0B-option-\u8BF7\u6C42\u65B9\u5F0F" aria-hidden="true">#</a></h2><p>\u9664\u4E86 post \u548C get \u8FD8\u6709 6 \u79CD\u8BF7\u6C42\u65B9\u5F0F\u5206\u522B\u662F\uFF1AOPTIONS\u3001HEAD\u3001PUT\u3001DELETE\u3001TRACE\u3001CONNECT</p><p>HTTP \u7684 OPTIONS \u65B9\u6CD5 \u7528\u4E8E\u83B7\u53D6\u76EE\u7684\u8D44\u6E90\u6240\u652F\u6301\u7684\u901A\u4FE1\u9009\u9879\u3002\u5BA2\u6237\u7AEF\u53EF\u4EE5\u5BF9\u7279\u5B9A\u7684 URL \u4F7F\u7528 OPTIONS \u65B9\u6CD5\uFF0C\u4E5F\u53EF\u4EE5\u5BF9\u6574\u7AD9\uFF08\u901A\u8FC7\u5C06 URL \u8BBE\u7F6E\u4E3A\u201C*\u201D\uFF09\u4F7F\u7528\u8BE5\u65B9\u6CD5</p><p>\u4F5C\u7528\uFF1A</p><ul><li>\u68C0\u6D4B\u670D\u52A1\u5668\u6240\u652F\u6301\u7684\u8BF7\u6C42\u65B9\u6CD5</li></ul><p>\u53EF\u4EE5\u4F7F\u7528 OPTIONS \u65B9\u6CD5\u5BF9\u670D\u52A1\u5668\u53D1\u8D77\u8BF7\u6C42\uFF0C\u4EE5\u68C0\u6D4B\u670D\u52A1\u5668\u652F\u6301\u54EA\u4E9B HTTP \u65B9\u6CD5\uFF1A</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#dbd7caee;">curl -X OPTIONS http://example.org -i</span></span>
<span class="line"><span style="color:#dbd7caee;"></span></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#393a34;">curl -X OPTIONS http://example.org -i</span></span>
<span class="line"><span style="color:#393a34;"></span></span></code></pre></div><ul><li>CORS \u4E2D\u7684\u9884\u68C0\u8BF7\u6C42</li></ul><p>\u5728 CORS \u4E2D\uFF0C\u53EF\u4EE5\u4F7F\u7528 OPTIONS \u65B9\u6CD5\u53D1\u8D77\u4E00\u4E2A\u9884\u68C0\u8BF7\u6C42\uFF0C\u4EE5\u68C0\u6D4B\u5B9E\u9645\u8BF7\u6C42\u662F\u5426\u53EF\u4EE5\u88AB\u670D\u52A1\u5668\u6240\u63A5\u53D7\u3002\u9884\u68C0\u8BF7\u6C42\u62A5\u6587\u4E2D\u7684 Access-Control-Request-Method \u9996\u90E8\u5B57\u6BB5\u544A\u77E5\u670D\u52A1\u5668\u5B9E\u9645\u8BF7\u6C42\u6240\u4F7F\u7528\u7684 HTTP \u65B9\u6CD5\uFF1BAccess-Control-Request-Headers \u9996\u90E8\u5B57\u6BB5\u544A\u77E5\u670D\u52A1\u5668\u5B9E\u9645\u8BF7\u6C42\u6240\u643A\u5E26\u7684\u81EA\u5B9A\u4E49\u9996\u90E8\u5B57\u6BB5\u3002\u670D\u52A1\u5668\u57FA\u4E8E\u4ECE\u9884\u68C0\u8BF7\u6C42\u83B7\u5F97\u7684\u4FE1\u606F\u6765\u5224\u65AD\uFF0C\u662F\u5426\u63A5\u53D7\u63A5\u4E0B\u6765\u7684\u5B9E\u9645\u8BF7\u6C42\u3002</p><h2 id="tcp-\u4E09\u6B21\u63E1\u624B-\u4E3A\u4EC0\u4E48\u9700\u8981\u4E09\u6B21" tabindex="-1">tcp \u4E09\u6B21\u63E1\u624B\uFF0C\u4E3A\u4EC0\u4E48\u9700\u8981\u4E09\u6B21 <a class="header-anchor" href="#tcp-\u4E09\u6B21\u63E1\u624B-\u4E3A\u4EC0\u4E48\u9700\u8981\u4E09\u6B21" aria-hidden="true">#</a></h2><p>\u4E24\u4E2A\u76EE\u7684\uFF1A</p><ul><li>\u786E\u4FDD\u5EFA\u7ACB\u53EF\u9760\u8FDE\u63A5</li><li>\u907F\u514D\u8D44\u6E90\u6D6A\u8D39</li></ul><p>\u4E09\u6B21\u63E1\u624B\u7684\u76EE\u7684\u662F\u201C\u4E3A\u4E86\u9632\u6B62\u5DF2\u7ECF\u5931\u6548\u7684\u8FDE\u63A5\u8BF7\u6C42\u62A5\u6587\u6BB5\u7A81\u7136\u53C8\u4F20\u5230\u670D\u52A1\u7AEF\uFF0C\u56E0\u800C\u4EA7\u751F\u9519\u8BEF\u201D\uFF0C\u8FD9\u79CD\u60C5\u51B5\u662F\uFF1A\u4E00\u7AEF(client)A \u53D1\u51FA\u53BB\u7684\u7B2C\u4E00\u4E2A\u8FDE\u63A5\u8BF7\u6C42\u62A5\u6587\u5E76\u6CA1\u6709\u4E22\u5931\uFF0C\u800C\u662F\u56E0\u4E3A\u67D0\u4E9B\u672A\u77E5\u7684\u539F\u56E0\u5728\u67D0\u4E2A\u7F51\u7EDC\u8282\u70B9\u4E0A\u53D1\u751F\u6EDE\u7559\uFF0C\u5BFC\u81F4\u5EF6\u8FDF\u5230\u8FDE\u63A5\u91CA\u653E\u4EE5\u540E\u7684\u67D0\u4E2A\u65F6\u95F4\u624D\u5230\u8FBE\u53E6\u4E00\u7AEF(server)B\u3002\u672C\u6765\u8FD9\u662F\u4E00\u4E2A\u65E9\u5DF2\u5931\u6548\u7684\u62A5\u6587\u6BB5\uFF0C\u4F46\u662F B \u6536\u5230\u6B64\u5931\u6548\u7684\u62A5\u6587\u4E4B\u540E\uFF0C\u4F1A\u8BEF\u8BA4\u4E3A\u662F A \u518D\u6B21\u53D1\u51FA\u7684\u4E00\u4E2A\u65B0\u7684\u8FDE\u63A5\u8BF7\u6C42\uFF0C\u4E8E\u662F B \u7AEF\u5C31\u5411 A \u53C8\u53D1\u51FA\u786E\u8BA4\u62A5\u6587\uFF0C\u8868\u793A\u540C\u610F\u5EFA\u7ACB\u8FDE\u63A5\u3002\u5982\u679C\u4E0D\u91C7\u7528\u201C\u4E09\u6B21\u63E1\u624B\u201D\uFF0C\u90A3\u4E48\u53EA\u8981 B \u7AEF\u53D1\u51FA\u786E\u8BA4\u62A5\u6587\u5C31\u4F1A\u8BA4\u4E3A\u65B0\u7684\u8FDE\u63A5\u5DF2\u7ECF\u5EFA\u7ACB\u4E86\uFF0C\u4F46\u662F A \u7AEF\u5E76\u6CA1\u6709\u53D1\u51FA\u5EFA\u7ACB\u8FDE\u63A5\u7684\u8BF7\u6C42\uFF0C\u56E0\u6B64\u4E0D\u4F1A\u53BB\u5411 B \u7AEF\u53D1\u9001\u6570\u636E\uFF0CB \u7AEF\u6CA1\u6709\u6536\u5230\u6570\u636E\u5C31\u4F1A\u4E00\u76F4\u7B49\u5F85\uFF0C\u8FD9\u6837 B \u7AEF\u5C31\u4F1A\u767D\u767D\u6D6A\u8D39\u6389\u5F88\u591A\u8D44\u6E90\u3002\u5982\u679C\u91C7\u7528\u201C\u4E09\u6B21\u63E1\u624B\u201D\u7684\u8BDD\u5C31\u4E0D\u4F1A\u51FA\u73B0\u8FD9\u79CD\u60C5\u51B5\uFF0CB \u7AEF\u6536\u5230\u4E00\u4E2A\u8FC7\u65F6\u5931\u6548\u7684\u62A5\u6587\u6BB5\u4E4B\u540E\uFF0C\u5411 A \u7AEF\u53D1\u51FA\u786E\u8BA4\uFF0C\u6B64\u65F6 A \u5E76\u6CA1\u6709\u8981\u6C42\u5EFA\u7ACB\u8FDE\u63A5\uFF0C\u6240\u4EE5\u5C31\u4E0D\u4F1A\u5411 B \u7AEF\u53D1\u9001\u786E\u8BA4\uFF0C\u8FD9\u4E2A\u65F6\u5019 B \u7AEF\u4E5F\u80FD\u591F\u77E5\u9053\u8FDE\u63A5\u6CA1\u6709\u5EFA\u7ACB</p><h2 id="https-\u52A0\u5BC6\u89E3\u5BC6\u6D41\u7A0B" tabindex="-1">https \u52A0\u5BC6\u89E3\u5BC6\u6D41\u7A0B <a class="header-anchor" href="#https-\u52A0\u5BC6\u89E3\u5BC6\u6D41\u7A0B" aria-hidden="true">#</a></h2><p>\u5206\u6210\u4EE5\u4E0B 8 \u4E2A\u6B65\u9AA4\uFF1A</p><ul><li><p>\u5BA2\u6237\u7AEF\u53D1\u8D77 HTTPS \u8BF7\u6C42: \u8FD9\u4E2A\u6CA1\u4EC0\u4E48\u597D\u8BF4\u7684\uFF0C\u5C31\u662F\u7528\u6237\u5728\u6D4F\u89C8\u5668\u91CC\u8F93\u5165\u4E00\u4E2A HTTPS \u7F51\u5740\uFF0C\u7136\u540E\u8FDE\u63A5\u5230\u670D\u52A1\u7AEF\u7684 443 \u7AEF\u53E3\u3002</p></li><li><p>\u670D\u52A1\u7AEF\u7684\u914D\u7F6E\uFF1A\u91C7\u7528 HTTPS \u534F\u8BAE\u7684\u670D\u52A1\u5668\u5FC5\u987B\u8981\u6709\u4E00\u5957\u6570\u5B57\u8BC1\u4E66\uFF0C\u53EF\u4EE5\u81EA\u5DF1\u5236\u4F5C\uFF0C\u4E5F\u53EF\u4EE5\u5411\u7EC4\u7EC7\u7533\u8BF7\u3002\u533A\u522B\u5C31\u662F\u81EA\u5DF1\u9881\u53D1\u7684\u8BC1\u4E66\u9700\u8981\u5BA2\u6237\u7AEF\u9A8C\u8BC1\u901A\u8FC7\uFF0C\u624D\u53EF\u4EE5\u7EE7\u7EED\u8BBF\u95EE\uFF0C\u800C\u4F7F\u7528\u53D7\u4FE1\u4EFB\u7684\u516C\u53F8\u7533\u8BF7\u7684\u8BC1\u4E66\u5219\u4E0D\u4F1A\u5F39\u51FA\u63D0\u793A\u9875\u9762\u3002\u8FD9\u5957\u8BC1\u4E66\u5176\u5B9E\u5C31\u662F\u4E00\u5BF9\u516C\u94A5\u548C\u79C1\u94A5\u3002\u5982\u679C\u5BF9\u516C\u94A5\u4E0D\u592A\u7406\u89E3\uFF0C\u53EF\u4EE5\u60F3\u8C61\u6210\u4E00\u628A\u94A5\u5319\u548C\u4E00\u4E2A\u9501\u5934\uFF0C\u53EA\u662F\u4E16\u754C\u4E0A\u53EA\u6709\u4F60\u4E00\u4E2A\u4EBA\u6709\u8FD9\u628A\u94A5\u5319\uFF0C\u4F60\u53EF\u4EE5\u628A\u9501\u5934\u7ED9\u522B\u4EBA\uFF0C\u522B\u4EBA\u53EF\u4EE5\u7528\u8FD9\u4E2A\u9501\u628A\u91CD\u8981\u7684\u4E1C\u897F\u9501\u8D77\u6765\uFF0C\u7136\u540E\u53D1\u7ED9\u4F60\uFF0C\u56E0\u4E3A\u53EA\u6709\u4F60\u4E00\u4E2A\u4EBA\u6709\u8FD9\u628A\u94A5\u5319\uFF0C\u6240\u4EE5\u53EA\u6709\u4F60\u624D\u80FD\u770B\u5230\u88AB\u8FD9\u628A\u9501\u9501\u8D77\u6765\u7684\u4E1C\u897F\u3002</p></li><li><p>\u4F20\u9001\u8BC1\u4E66\uFF1A\u8FD9\u4E2A\u8BC1\u4E66\u5176\u5B9E\u5C31\u662F\u516C\u94A5\uFF0C\u53EA\u662F\u5305\u542B\u4E86\u5F88\u591A\u4FE1\u606F\uFF0C\u5982\u8BC1\u4E66\u7684\u9881\u53D1\u673A\u6784\uFF0C\u8FC7\u671F\u65F6\u95F4\u7B49\u7B49\u3002</p></li><li><p>\u5BA2\u6237\u7AEF\u89E3\u6790\u8BC1\u4E66\uFF1A\u8FD9\u90E8\u5206\u5DE5\u4F5C\u662F\u7531\u5BA2\u6237\u7AEF\u7684 SSL/TLS \u6765\u5B8C\u6210\u7684\uFF0C\u9996\u5148\u4F1A\u9A8C\u8BC1\u516C\u94A5\u662F\u5426\u6709\u6548\uFF0C\u6BD4\u5982\u9881\u53D1\u673A\u6784\uFF0C\u8FC7\u671F\u65F6\u95F4\u7B49\u7B49\uFF0C\u5982\u679C\u53D1\u73B0\u5F02\u5E38\uFF0C\u5219\u4F1A\u5F39\u51FA\u4E00\u4E2A\u8B66\u793A\u6846\uFF0C\u63D0\u793A\u8BC1\u4E66\u5B58\u5728\u7684\u95EE\u9898\u3002\u5982\u679C\u8BC1\u4E66\u6CA1\u6709\u95EE\u9898\uFF0C\u90A3\u4E48\u5C31\u751F\u6210\u4E00\u4E2A\u968F\u673A\u503C\u3002\u7136\u540E\u7528\u8BC1\u4E66\uFF08\u4E5F\u5C31\u662F\u516C\u94A5\uFF09\u5BF9\u8FD9\u4E2A\u968F\u673A\u503C\u8FDB\u884C\u52A0\u5BC6\u3002\u5C31\u597D\u50CF\u4E0A\u9762\u8BF4\u7684\uFF0C\u628A\u968F\u673A\u503C\u7528\u9501\u5934\u9501\u8D77\u6765\uFF0C\u8FD9\u6837\u9664\u975E\u6709\u94A5\u5319\uFF0C\u4E0D\u7136\u770B\u4E0D\u5230\u88AB\u9501\u4F4F\u7684\u5185\u5BB9\u3002</p></li><li><p>\u4F20\u9001\u52A0\u5BC6\u4FE1\u606F\uFF1A\u8FD9\u90E8\u5206\u4F20\u9001\u7684\u662F\u7528\u8BC1\u4E66\u52A0\u5BC6\u540E\u7684\u968F\u673A\u503C\uFF0C\u76EE\u7684\u662F\u8BA9\u670D\u52A1\u7AEF\u5F97\u5230\u8FD9\u4E2A\u968F\u673A\u503C\uFF0C\u4EE5\u540E\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u7684\u901A\u4FE1\u5C31\u53EF\u4EE5\u901A\u8FC7\u8FD9\u4E2A\u968F\u673A\u503C\u6765\u8FDB\u884C\u52A0\u5BC6\u89E3\u5BC6\u4E86\u3002</p></li><li><p>\u670D\u52A1\u7AEF\u89E3\u5BC6\u4FE1\u606F\uFF1A\u670D\u52A1\u7AEF\u7528\u79C1\u94A5\u89E3\u5BC6\u540E\uFF0C\u5F97\u5230\u4E86\u5BA2\u6237\u7AEF\u4F20\u8FC7\u6765\u7684\u968F\u673A\u503C\uFF0C\u7136\u540E\u628A\u5185\u5BB9\u901A\u8FC7\u8BE5\u968F\u673A\u503C\u8FDB\u884C\u5BF9\u79F0\u52A0\u5BC6\uFF0C\u5C06\u4FE1\u606F\u548C\u79C1\u94A5\u901A\u8FC7\u67D0\u79CD\u7B97\u6CD5\u6DF7\u5408\u5728\u4E00\u8D77\uFF0C\u8FD9\u6837\u9664\u975E\u77E5\u9053\u79C1\u94A5\uFF0C\u4E0D\u7136\u65E0\u6CD5\u83B7\u53D6\u5185\u5BB9\uFF0C\u800C\u6B63\u597D\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u90FD\u77E5\u9053\u8FD9\u4E2A\u79C1\u94A5\uFF0C\u6240\u4EE5\u53EA\u8981\u52A0\u5BC6\u7B97\u6CD5\u591F\u5F6A\u608D\uFF0C\u79C1\u94A5\u591F\u590D\u6742\uFF0C\u6570\u636E\u5C31\u591F\u5B89\u5168\u3002</p></li><li><p>\u4F20\u8F93\u52A0\u5BC6\u540E\u7684\u4FE1\u606F\uFF1A\u8FD9\u90E8\u5206\u4FE1\u606F\u5C31\u662F\u670D\u52A1\u7AEF\u7528\u79C1\u94A5\u52A0\u5BC6\u540E\u7684\u4FE1\u606F\uFF0C\u53EF\u4EE5\u5728\u5BA2\u6237\u7AEF\u7528\u968F\u673A\u503C\u89E3\u5BC6\u8FD8\u539F\u3002</p></li><li><p>\u5BA2\u6237\u7AEF\u89E3\u5BC6\u4FE1\u606F\uFF1A\u5BA2\u6237\u7AEF\u7528\u4E4B\u524D\u751F\u4EA7\u7684\u79C1\u94A5\u89E3\u5BC6\u670D\u52A1\u7AEF\u4F20\u8FC7\u6765\u7684\u4FE1\u606F\uFF0C\u4E8E\u662F\u83B7\u53D6\u4E86\u89E3\u5BC6\u540E\u7684\u5185\u5BB9\u3002\u6574\u4E2A\u8FC7\u7A0B\u7B2C\u4E09\u65B9\u5373\u4F7F\u76D1\u542C\u5230\u4E86\u6570\u636E\uFF0C\u4E5F\u675F\u624B\u65E0\u7B56\u3002</p></li></ul><h2 id="tcp-vs-udp" tabindex="-1">TCP vs UDP <a class="header-anchor" href="#tcp-vs-udp" aria-hidden="true">#</a></h2><p>TCP(\u4F20\u8F93\u63A7\u5236\u534F\u8BAE)\u548C UDP\uFF08\u7528\u6237\u6570\u636E\u62A5\u534F\u8BAE\uFF09</p><p>TCP \u662F\u4E00\u79CD\u9762\u5411\u8FDE\u63A5\u7684\u3001\u53EF\u9760\u7684\u3001\u57FA\u4E8E\u5B57\u8282\u6D41\u7684\u4F20\u8F93\u5C42\u901A\u4FE1\u534F\u8BAE\uFF0C\u662F\u4E13\u95E8\u4E3A\u4E86\u5728\u4E0D\u53EF\u9760\u7684\u7F51\u7EDC\u4E2D\u63D0\u4F9B\u4E00\u4E2A\u53EF\u9760\u7684\u7AEF\u5BF9\u7AEF\u5B57\u8282\u6D41\u800C\u8BBE\u8BA1\u7684\uFF0C\u9762\u5411\u5B57\u8282\u6D41\u3002 UDP\uFF08\u7528\u6237\u6570\u636E\u62A5\u534F\u8BAE\uFF09\u662F iso \u53C2\u8003\u6A21\u578B\u4E2D\u4E00\u79CD\u65E0\u8FDE\u63A5\u7684\u4F20\u8F93\u5C42\u534F\u8BAE\uFF0C\u63D0\u4F9B\u7B80\u5355\u4E0D\u53EF\u9760\u7684\u975E\u8FDE\u63A5\u4F20\u8F93\u5C42\u670D\u52A1\uFF0C\u9762\u5411\u62A5\u6587</p><p>\u533A\u522B\uFF1A</p><ul><li>TCP \u662F\u9762\u5411\u8FDE\u63A5\u7684\uFF0C\u53EF\u9760\u6027\u9AD8\uFF1BUDP \u662F\u57FA\u4E8E\u975E\u8FDE\u63A5\u7684\uFF0C\u53EF\u9760\u6027\u4F4E</li><li>\u7531\u4E8E TCP \u662F\u8FDE\u63A5\u7684\u901A\u4FE1\uFF0C\u9700\u8981\u6709\u4E09\u6B21\u63E1\u624B\u3001\u91CD\u65B0\u786E\u8BA4\u7B49\u8FDE\u63A5\u8FC7\u7A0B\uFF0C\u4F1A\u6709\u5EF6\u65F6\uFF0C\u5B9E\u65F6\u6027\u5DEE\uFF0C\u540C\u65F6\u8FC7\u7A0B\u590D\u6742\uFF0C\u4E5F\u4F7F\u5176\u6613\u4E8E\u653B\u51FB\uFF1BUDP \u6CA1\u6709\u5EFA\u7ACB\u8FDE\u63A5\u7684\u8FC7\u7A0B\uFF0C\u56E0\u800C\u5B9E\u65F6\u6027\u8F83\u5F3A\uFF0C\u4E5F\u7A0D\u5B89\u5168</li><li>\u5728\u4F20\u8F93\u76F8\u540C\u5927\u5C0F\u7684\u6570\u636E\u65F6\uFF0CTCP \u9996\u90E8\u5F00\u9500 20 \u5B57\u8282\uFF1BUDP \u9996\u90E8\u5F00\u9500 8 \u5B57\u8282\uFF0CTCP \u62A5\u5934\u6BD4 UDP \u590D\u6742\uFF0C\u6545\u5B9E\u9645\u5305\u542B\u7684\u7528\u6237\u6570\u636E\u8F83\u5C11\u3002TCP \u5728 IP \u534F\u8BAE\u7684\u57FA\u7840\u4E0A\u6DFB\u52A0\u4E86\u5E8F\u53F7\u673A\u5236\u3001\u786E\u8BA4\u673A\u5236\u3001\u8D85\u65F6\u91CD\u4F20\u673A\u5236\u7B49\uFF0C\u4FDD\u8BC1\u4E86\u4F20\u8F93\u7684\u53EF\u9760\u6027\uFF0C\u4E0D\u4F1A\u51FA\u73B0\u4E22\u5305\u6216\u4E71\u5E8F\uFF0C\u800C UDP \u6709\u4E22\u5305\uFF0C\u6545 TCP \u5F00\u9500\u5927\uFF0CUDP \u5F00\u9500\u8F83\u5C0F</li><li>\u6BCF\u6761 TCP \u8FDE\u63A5\u53EA\u80FD\u65F6\u70B9\u5230\u70B9\u7684\uFF1BUDP \u652F\u6301\u4E00\u5BF9\u4E00\u3001\u4E00\u5BF9\u591A\u3001\u591A\u5BF9\u4E00\u3001\u591A\u5BF9\u591A\u7684\u4EA4\u4E92\u901A\u4FE1</li></ul><p>\u5E94\u7528\u573A\u666F\u9009\u62E9</p><ul><li>\u5BF9\u5B9E\u65F6\u6027\u8981\u6C42\u9AD8\u548C\u9AD8\u901F\u4F20\u8F93\u7684\u573A\u5408\u4E0B\u4F7F\u7528 UDP;\u5728\u53EF\u9760\u6027\u8981\u6C42\u4F4E\uFF0C\u8FFD\u6C42\u6548\u7387\u7684\u60C5\u51B5\u4E0B\u4F7F\u7528 UDP;</li><li>\u9700\u8981\u4F20\u8F93\u5927\u91CF\u6570\u636E\u4E14\u5BF9\u53EF\u9760\u6027\u8981\u6C42\u9AD8\u7684\u60C5\u51B5\u4E0B\u4F7F\u7528 TCP</li></ul><h2 id="_301-\u548C-302-\u7684\u542B\u4E49" tabindex="-1">301 \u548C 302 \u7684\u542B\u4E49 <a class="header-anchor" href="#_301-\u548C-302-\u7684\u542B\u4E49" aria-hidden="true">#</a></h2><p>\u53C2\u8003\u7B54\u6848\uFF1A</p><p>301 \u548C 302 \u90FD\u662F\u91CD\u5B9A\u5411\u7684\u72B6\u6001\u7801\uFF0C\u91CD\u5B9A\u5411\uFF08Redirect\uFF09\u662F\u6307\u901A\u8FC7\u5404\u79CD\u65B9\u6CD5\u5C06\u5BA2\u6237\u7AEF\u7684\u7F51\u7EDC\u8BF7\u6C42\u91CD\u65B0\u5B9A\u4E49\u6216\u6307\u5B9A\u4E00\u4E2A\u65B0\u65B9\u5411\u8F6C\u5230\u5176\u4ED6\u4F4D\u7F6E\uFF08\u91CD\u5B9A\u5411\u5305\u62EC\u7F51\u9875\u91CD\u5B9A\u5411\u3001\u57DF\u540D\u91CD\u5B9A\u5411\uFF09\u3002</p><ul><li>301 redirect: 301 \u4EE3\u8868\u6C38\u4E45\u6027\u8F6C\u79FB(Permanently Moved)</li><li>302 redirect: 302 \u4EE3\u8868\u6682\u65F6\u6027\u8F6C\u79FB(Temporarily Moved )</li></ul><p>\u76F8\u540C\u70B9\uFF1A\u90FD\u8868\u793A\u91CD\u5B9A\u5411\uFF0C\u5C31\u662F\u8BF4\u6D4F\u89C8\u5668\u5728\u62FF\u5230\u670D\u52A1\u5668\u8FD4\u56DE\u7684\u8FD9\u4E2A\u72B6\u6001\u7801\u540E\u4F1A\u81EA\u52A8\u8DF3\u8F6C\u5230\u4E00\u4E2A\u65B0\u7684 URL \u5730\u5740\uFF0C\u8FD9\u4E2A\u5730\u5740\u53EF\u4EE5\u4ECE\u54CD\u5E94\u7684 Location \u9996\u90E8\u4E2D\u83B7\u53D6\uFF08\u7528\u6237\u770B\u5230\u7684\u6548\u679C\u5C31\u662F\u4ED6\u8F93\u5165\u7684\u5730\u5740 A \u77AC\u95F4\u53D8\u6210\u4E86\u53E6\u4E00\u4E2A\u5730\u5740 B\uFF09</p><p>\u4E0D\u540C\u70B9\uFF1A</p><ul><li>301 \u8868\u793A\u65E7\u5730\u5740 A \u7684\u8D44\u6E90\u5DF2\u7ECF\u88AB\u6C38\u4E45\u5730\u79FB\u9664\u4E86\uFF08\u8FD9\u4E2A\u8D44\u6E90\u4E0D\u53EF\u8BBF\u95EE\u4E86\uFF09\uFF0C\u641C\u7D22\u5F15\u64CE\u5728\u6293\u53D6\u65B0\u5185\u5BB9\u7684\u540C\u65F6\u4E5F\u5C06\u65E7\u7684\u7F51\u5740\u4EA4\u6362\u4E3A\u91CD\u5B9A\u5411\u4E4B\u540E\u7684\u7F51\u5740\uFF1B</li><li>302 \u8868\u793A\u65E7\u5730\u5740 A \u7684\u8D44\u6E90\u8FD8\u5728\uFF08\u4ECD\u7136\u53EF\u4EE5\u8BBF\u95EE\uFF09\uFF0C\u8FD9\u4E2A\u91CD\u5B9A\u5411\u53EA\u662F\u4E34\u65F6\u5730\u4ECE\u65E7\u5730\u5740 A \u8DF3\u8F6C\u5230\u5730\u5740 B\uFF0C\u641C\u7D22\u5F15\u64CE\u4F1A\u6293\u53D6\u65B0\u7684\u5185\u5BB9\u800C\u4FDD\u5B58\u65E7\u7684\u7F51\u5740\u3002</li><li>302 \u4F1A\u51FA\u73B0\u201C\u7F51\u5740\u52AB\u6301\u201D\u73B0\u8C61\uFF0C\u4ECE A \u7F51\u5740 302 \u91CD\u5B9A\u5411\u5230 B \u7F51\u5740\uFF0C\u7531\u4E8E\u90E8\u5206\u641C\u7D22\u5F15\u64CE\u65E0\u6CD5\u603B\u662F\u6293\u53D6\u5230\u76EE\u6807\u7F51\u5740\uFF0C\u6216\u8005 B \u7F51\u5740\u5BF9\u7528\u6237\u5C55\u793A\u4E0D\u591F\u53CB\u597D\uFF0C\u56E0\u6B64\u6D4F\u89C8\u5668\u4F1A\u4ECD\u65E7\u663E\u793A A \u7F51\u5740\uFF0C\u4F46\u662F\u6240\u7528\u7684\u7F51\u9875\u5185\u5BB9\u5374\u662F B \u7F51\u5740\u4E0A\u7684\u5185\u5BB9\u3002</li></ul><p>\u5E94\u7528\u573A\u666F</p><ul><li>301\uFF1A\u57DF\u540D\u9700\u8981\u5207\u6362\u3001\u534F\u8BAE\u4ECE http \u53D8\u6210 https\uFF1B</li><li>302\uFF1A\u672A\u767B\u5F55\u65F6\u8BBF\u95EE\u5DF2\u767B\u5F55\u9875\u65F6\u8DF3\u8F6C\u5230\u767B\u5F55\u9875\u9762\u3001404 \u540E\u8DF3\u8F6C\u9996\u9875</li></ul><h2 id="http-\u7F13\u5B58\u6709\u51E0\u79CD" tabindex="-1">http \u7F13\u5B58\u6709\u51E0\u79CD\uFF1F <a class="header-anchor" href="#http-\u7F13\u5B58\u6709\u51E0\u79CD" aria-hidden="true">#</a></h2><p>http \u7F13\u5B58\u7684\u5206\u7C7B\uFF1A<br> \u6839\u636E\u662F\u5426\u9700\u8981\u91CD\u65B0\u5411\u670D\u52A1\u5668\u53D1\u8D77\u8BF7\u6C42\u6765\u5206\u7C7B\uFF0C\u53EF\u5206\u4E3A(\u5F3A\u5236\u7F13\u5B58\uFF0C\u534F\u5546\u7F13\u5B58)<br> \u6839\u636E\u662F\u5426\u53EF\u4EE5\u88AB\u5355\u4E2A\u6216\u8005\u591A\u4E2A\u7528\u6237\u4F7F\u7528\u6765\u5206\u7C7B\uFF0C\u53EF\u5206\u4E3A(\u79C1\u6709\u7F13\u5B58\uFF0C\u5171\u4EAB\u7F13\u5B58) \u5F3A\u5236\u7F13\u5B58<br> \u5982\u679C\u751F\u6548\uFF0C\u4E0D\u9700\u8981\u518D\u548C\u670D\u52A1\u5668\u53D1\u751F\u4EA4\u4E92\uFF0C\u800C\u534F\u5546\u7F13\u5B58\u4E0D\u7BA1\u662F\u5426\u751F\u6548\uFF0C\u90FD\u9700\u8981\u4E0E\u670D\u52A1\u7AEF\u53D1\u751F\u4EA4\u4E92\u3002<br> \u4E0B\u9762\u662F\u5F3A\u5236\u7F13\u5B58\u548C\u534F\u5546\u7F13\u5B58\u7684\u4E00\u4E9B\u5BF9\u6BD4\uFF1A <img src="`+e+'" alt="image.png"></p><ol><li><p>\u5F3A\u5236\u7F13\u5B58</p><ul><li>\u5F3A\u5236\u7F13\u5B58\u5728\u7F13\u5B58\u6570\u636E\u672A\u5931\u6548\u7684\u60C5\u51B5\u4E0B\uFF08\u5373\u54CD\u5E94\u5934 Cache-Control \u7684 max-age \u6CA1\u6709\u8FC7\u671F\u6216\u8005 Expires \u7684\u7F13\u5B58\u65F6\u95F4\u6CA1\u6709\u8FC7\u671F\uFF09\uFF0C\u90A3\u4E48\u5C31\u4F1A\u76F4\u63A5\u4F7F\u7528\u6D4F\u89C8\u5668\u7684\u7F13\u5B58\u6570\u636E\uFF0C\u4E0D\u4F1A\u518D\u5411\u670D\u52A1\u5668\u53D1\u9001\u4EFB\u4F55\u8BF7\u6C42\u3002</li><li>\u5F3A\u5236\u7F13\u5B58\u751F\u6548\u65F6\uFF0Chttp \u72B6\u6001\u7801\u4E3A 200\u3002\u8FD9\u79CD\u65B9\u5F0F\u9875\u9762\u7684\u52A0\u8F7D\u901F\u5EA6\u662F\u6700\u5FEB\u7684\uFF0C\u6027\u80FD\u4E5F\u662F\u5F88\u597D\u7684\uFF0C\u4F46\u662F\u5728\u8FD9\u671F\u95F4\uFF0C\u5982\u679C\u670D\u52A1\u5668\u7AEF\u7684\u8D44\u6E90\u4FEE\u6539\u4E86\uFF0C\u9875\u9762\u4E0A\u662F\u62FF\u4E0D\u5230\u7684\uFF0C\u56E0\u4E3A\u5B83\u4E0D\u4F1A\u518D\u5411\u670D\u52A1\u5668\u53D1\u8BF7\u6C42\u4E86\u3002\u8FD9\u79CD\u60C5\u51B5\u5C31\u662F\u6211\u4EEC\u5728\u5F00\u53D1\u79CD\u7ECF\u5E38\u9047\u5230\u7684\uFF0C\u6BD4\u5982\u4F60\u4FEE\u6539\u4E86\u9875\u9762\u4E0A\u7684\u67D0\u4E2A\u6837\u5F0F\uFF0C\u5728\u9875\u9762\u4E0A\u5237\u65B0\u4E86\u4F46\u6CA1\u6709\u751F\u6548\uFF0C\u56E0\u4E3A\u8D70\u7684\u662F\u5F3A\u7F13\u5B58\uFF0C\u6240\u4EE5 Ctrl + F5 \u4E00\u987F\u64CD\u4F5C\u4E4B\u540E\u5C31\u597D\u4E86\u3002</li><li>\u8DDF\u5F3A\u5236\u7F13\u5B58\u76F8\u5173\u7684 header \u5934\u5C5E\u6027\u6709\uFF08Pragma/Cache-Control/Expires\uFF09\uFF0C Pragma \u548C Cache-control \u5171\u5B58\u65F6\uFF0CPragma \u7684\u4F18\u5148\u7EA7\u662F\u6BD4 Cache-Control \u9AD8\u7684\u3002</li></ul></li><li><p>\u534F\u5546\u7F13\u5B58</p><ul><li>\u5F53\u7B2C\u4E00\u6B21\u8BF7\u6C42\u65F6\u670D\u52A1\u5668\u8FD4\u56DE\u7684\u54CD\u5E94\u5934\u4E2D\u6CA1\u6709 Cache-Control \u548C Expires \u6216\u8005 Cache-Control \u548C Expires \u8FC7\u671F\u8FD8\u6216\u8005\u5B83\u7684\u5C5E\u6027\u8BBE\u7F6E\u4E3A no-cache \u65F6(\u5373\u4E0D\u8D70\u5F3A\u7F13\u5B58)\uFF0C\u90A3\u4E48\u6D4F\u89C8\u5668\u7B2C\u4E8C\u6B21\u8BF7\u6C42\u65F6\u5C31\u4F1A\u4E0E\u670D\u52A1\u5668\u8FDB\u884C\u534F\u5546\uFF0C\u4E0E\u670D\u52A1\u5668\u7AEF\u5BF9\u6BD4\u5224\u65AD\u8D44\u6E90\u662F\u5426\u8FDB\u884C\u4E86\u4FEE\u6539\u66F4\u65B0\u3002</li><li>\u5982\u679C\u670D\u52A1\u5668\u7AEF\u7684\u8D44\u6E90\u6CA1\u6709\u4FEE\u6539\uFF0C\u90A3\u4E48\u5C31\u4F1A\u8FD4\u56DE 304 \u72B6\u6001\u7801\uFF0C\u544A\u8BC9\u6D4F\u89C8\u5668\u53EF\u4EE5\u4F7F\u7528\u7F13\u5B58\u4E2D\u7684\u6570\u636E\uFF0C\u8FD9\u6837\u5C31\u51CF\u5C11\u4E86\u670D\u52A1\u5668\u7684\u6570\u636E\u4F20\u8F93\u538B\u529B\u3002</li><li>\u5982\u679C\u6570\u636E\u6709\u66F4\u65B0\uFF0C\u5C31\u4F1A\u8FD4\u56DE 200 \u72B6\u6001\u7801\uFF0C\u670D\u52A1\u5668\u5C31\u4F1A\u8FD4\u56DE\u66F4\u65B0\u540E\u7684\u8D44\u6E90\u5E76\u4E14\u5C06\u7F13\u5B58\u4FE1\u606F\u4E00\u8D77\u8FD4\u56DE\u3002\u8DDF\u534F\u5546\u7F13\u5B58\u76F8\u5173\u7684 header \u54CD\u5E94\u5934\u5C5E\u6027\u6709\uFF08ETag/If-Not-Match \u3001Last-Modified/If-Modified-Since\uFF09\u8BF7\u6C42\u5934\u548C\u54CD\u5E94\u5934\u9700\u8981\u6210\u5BF9\u51FA\u73B0</li></ul></li><li><p>\u79C1\u6709\u7F13\u5B58\uFF08\u6D4F\u89C8\u5668\u7EA7\u7F13\u5B58\uFF09 \u79C1\u6709\u7F13\u5B58\u53EA\u80FD\u7528\u4E8E\u5355\u72EC\u7684\u7528\u6237\uFF1ACache-Control: Private</p></li><li><p>\u5171\u4EAB\u7F13\u5B58\uFF08\u4EE3\u7406\u7EA7\u7F13\u5B58\uFF09 \u5171\u4EAB\u7F13\u5B58\u53EF\u4EE5\u88AB\u591A\u4E2A\u7528\u6237\u4F7F\u7528: Cache-Control: Public</p></li></ol><h2 id="\u534F\u5546\u7F13\u5B58\u539F\u7406-\u8C01\u8DDF\u8C01\u534F\u5546-\u5982\u4F55\u534F\u5546" tabindex="-1">\u534F\u5546\u7F13\u5B58\u539F\u7406\uFF0C\u8C01\u8DDF\u8C01\u534F\u5546\uFF0C\u5982\u4F55\u534F\u5546\uFF1F <a class="header-anchor" href="#\u534F\u5546\u7F13\u5B58\u539F\u7406-\u8C01\u8DDF\u8C01\u534F\u5546-\u5982\u4F55\u534F\u5546" aria-hidden="true">#</a></h2><p>\u534F\u5546\u7F13\u5B58: \u5411\u670D\u52A1\u5668\u53D1\u9001\u8BF7\u6C42\uFF0C\u670D\u52A1\u5668\u4F1A\u6839\u636E\u8FD9\u4E2A\u8BF7\u6C42\u7684 request header \u7684\u4E00\u4E9B\u53C2\u6570\u6765\u5224\u65AD\u662F\u5426\u547D\u4E2D\u534F\u5546\u7F13\u5B58\uFF0C\u5982\u679C\u547D\u4E2D\uFF0C\u5219\u8FD4\u56DE 304 \u72B6\u6001\u7801\u5E76\u5E26\u4E0A\u65B0\u7684 response header \u901A\u77E5\u6D4F\u89C8\u5668\u4ECE\u7F13\u5B58\u4E2D\u8BFB\u53D6\u8D44\u6E90\uFF1B</p><p>\u670D\u52A1\u5668\u548C\u8BF7\u6C42\u534F\u5546\uFF0C\u6839\u636E\u8BF7\u6C42\u5934\u643A\u5E26\u7684\u53C2\u6570\u8FDB\u884C\u534F\u5546</p><h2 id="get-\u548C-post-\u533A\u522B" tabindex="-1">GET \u548C POST \u533A\u522B <a class="header-anchor" href="#get-\u548C-post-\u533A\u522B" aria-hidden="true">#</a></h2><ul><li>get \u7528\u6765\u83B7\u53D6\u6570\u636E\uFF0Cpost \u7528\u6765\u63D0\u4EA4\u6570\u636E</li><li>get \u53C2\u6570\u6709\u957F\u5EA6\u9650\u5236\uFF08\u53D7\u9650\u4E8E url \u957F\u5EA6\uFF0C\u5177\u4F53\u7684\u6570\u503C\u53D6\u51B3\u4E8E\u6D4F\u89C8\u5668\u548C\u670D\u52A1\u5668\u7684\u9650\u5236\uFF0C\u6700\u957F 2048 \u5B57\u8282\uFF09\uFF0C\u800C post \u65E0\u9650\u5236</li><li>get \u8BF7\u6C42\u7684\u6570\u636E\u4F1A\u9644\u52A0\u5728 url \u4E4B \uFF0C\u4EE5 &quot; \uFF1F &quot;\u5206\u5272 url \u548C\u4F20\u8F93\u6570\u636E\uFF0C\u591A\u4E2A\u53C2\u6570\u7528 &quot;&amp;&quot;\u8FDE\u63A5\uFF0C\u800C post \u8BF7\u6C42\u4F1A\u628A\u8BF7\u6C42\u7684\u6570\u636E\u653E\u5728 http \u8BF7\u6C42\u4F53\u4E2D\u3002</li><li>get \u662F\u660E\u6587\u4F20\u8F93\uFF0Cpost \u662F\u653E\u5728\u8BF7\u6C42\u4F53\u4E2D\uFF0C\u4F46\u662F\u5F00\u53D1\u8005\u53EF\u4EE5\u901A\u8FC7\u6293\u5305\u5DE5\u5177\u770B\u5230\uFF0C\u4E5F\u76F8\u5F53\u4E8E\u662F\u660E\u6587\u7684\u3002</li><li>get \u8BF7\u6C42\u4F1A\u4FDD\u5B58\u5728\u6D4F\u89C8\u5668\u5386\u53F2\u8BB0\u5F55\u4E2D\uFF0C\u8FD8\u53EF\u80FD\u4FDD\u5B58\u5728 web \u670D\u52A1\u5668\u7684\u65E5\u5FD7\u4E2D</li></ul><h2 id="osi-\u4E03\u5C42\u534F\u8BAE" tabindex="-1">OSI \u4E03\u5C42\u534F\u8BAE <a class="header-anchor" href="#osi-\u4E03\u5C42\u534F\u8BAE" aria-hidden="true">#</a></h2><p>OSI\uFF08Open System Interconnect\uFF09\uFF0C\u5373\u5F00\u653E\u5F0F\u7CFB\u7EDF\u4E92\u8054\u3002 \u4E00\u822C\u90FD\u53EB OSI \u53C2\u8003\u6A21\u578B\uFF0C\u662F ISO\uFF08\u56FD\u9645\u6807\u51C6\u5316\u7EC4\u7EC7\uFF09\u7EC4\u7EC7\u5728 1985 \u5E74\u7814\u7A76\u7684\u7F51\u7EDC\u4E92\u8FDE\u6A21\u578B\u3002ISO \u4E3A\u4E86\u66F4\u597D\u7684\u4F7F\u7F51\u7EDC\u5E94\u7528\u66F4\u4E3A\u666E\u53CA\uFF0C\u63A8\u51FA\u4E86 OSI \u53C2\u8003\u6A21\u578B\u3002\u5176\u542B\u4E49\u5C31\u662F\u63A8\u8350\u6240\u6709\u516C\u53F8\u4F7F\u7528\u8FD9\u4E2A\u89C4\u8303\u6765\u63A7\u5236\u7F51\u7EDC\u3002\u8FD9\u6837\u6240\u6709\u516C\u53F8\u90FD\u6709\u76F8\u540C\u7684\u89C4\u8303\uFF0C\u5C31\u80FD\u4E92\u8054\u4E86\u3002</p><p>OSI \u5B9A\u4E49\u4E86\u7F51\u7EDC\u4E92\u8FDE\u7684\u4E03\u5C42\u6846\u67B6\uFF08\u7269\u7406\u5C42\u3001\u6570\u636E\u94FE\u8DEF\u5C42\u3001\u7F51\u7EDC\u5C42\u3001\u4F20\u8F93\u5C42\u3001\u4F1A\u8BDD\u5C42\u3001\u8868\u793A\u5C42\u3001\u5E94\u7528\u5C42\uFF09\uFF0C\u5373 ISO \u5F00\u653E\u4E92\u8FDE\u7CFB\u7EDF\u53C2\u8003\u6A21\u578B\u3002</p><h2 id="keep-alive-\u662F\u4EC0\u4E48" tabindex="-1">keep-alive \u662F\u4EC0\u4E48\uFF1F <a class="header-anchor" href="#keep-alive-\u662F\u4EC0\u4E48" aria-hidden="true">#</a></h2><p>\u4EC0\u4E48\u662F KeepAlive</p><ul><li>KeepAlive \u53EF\u4EE5\u7B80\u5355\u7406\u89E3\u4E3A\u4E00\u79CD\u72B6\u6001\u4FDD\u6301\u6216\u91CD\u7528\u673A\u5236\uFF0C\u6BD4\u5982\u5F53\u4E00\u6761\u8FDE\u63A5\u5EFA\u7ACB\u540E\uFF0C\u6211\u4EEC\u4E0D\u60F3\u5B83\u7ACB\u523B\u88AB\u5173\u95ED\uFF0C\u5982\u679C\u5B9E\u73B0\u4E86 KeepAlive \u673A\u5236\uFF0C\u5C31\u53EF\u4EE5\u901A\u8FC7\u5B83\u6765\u5B9E\u73B0\u8FDE\u63A5\u7684\u4FDD\u6301</li><li>HTTP \u7684 KeepAlive \u5728 HTTP 1.0 \u7248\u672C\u9ED8\u8BA4\u662F\u5173\u95ED\u7684\uFF0C\u4F46\u5728 HTTP1.1 \u662F\u9ED8\u8BA4\u5F00\u542F\u7684\uFF1B\u64CD\u4F5C\u7CFB\u7EDF\u91CC TCP \u7684 KeepAlive \u9ED8\u8BA4\u4E5F\u662F\u5173\u95ED\uFF0C\u4F46\u4E00\u822C\u5E94\u7528\u90FD\u4F1A\u4FEE\u6539\u8BBE\u7F6E\u6765\u5F00\u542F\u3002\u56E0\u6B64\u7F51\u4E0A TCP \u6D41\u91CF\u4E2D\u57FA\u4E8E KeepAlive \u7684\u662F\u4E3B\u6D41</li><li>HTTP \u7684 KeepAlive \u548C TCP \u7684 KeepAlive \u6709\u4E00\u5B9A\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u540D\u79F0\u53C8\u4E00\u6837\uFF0C\u56E0\u6B64\u7ECF\u5E38\u88AB\u6DF7\u6DC6\uFF0C\u4F46\u5176\u5B9E\u662F\u4E0D\u540C\u7684\u4E1C\u897F\uFF0C\u4E0B\u9762\u5177\u4F53\u5206\u6790\u4E00\u4E0B</li></ul><p>TCP \u4E3A\u4EC0\u4E48\u8981\u505A KeepAlive</p><ul><li><p>\u6211\u4EEC\u90FD\u77E5\u9053 TCP \u7684\u4E09\u6B21\u63E1\u624B\u548C\u56DB\u6B21\u6325\u624B\u3002\u5F53\u4E24\u7AEF\u901A\u8FC7\u4E09\u6B21\u63E1\u624B\u5EFA\u7ACB TCP \u8FDE\u63A5\u540E\uFF0C\u5C31\u53EF\u4EE5\u4F20\u8F93\u6570\u636E\u4E86\uFF0C\u6570\u636E\u4F20\u8F93\u5B8C\u6BD5\uFF0C\u8FDE\u63A5\u5E76\u4E0D\u4F1A\u81EA\u52A8\u5173\u95ED\uFF0C\u800C\u662F\u4E00\u76F4\u4FDD\u6301\u3002\u53EA\u6709\u4E24\u7AEF\u5206\u522B\u901A\u8FC7\u53D1\u9001\u5404\u81EA\u7684 FIN \u62A5\u6587\u65F6\uFF0C\u624D\u4F1A\u5173\u95ED\u81EA\u5DF1\u4FA7\u7684\u8FDE\u63A5\u3002</p></li><li><p>\u8FD9\u4E2A\u5173\u95ED\u673A\u5236\u770B\u8D77\u6765\u7B80\u5355\u660E\u4E86\uFF0C\u4F46\u5B9E\u9645\u7F51\u7EDC\u73AF\u5883\u5343\u53D8\u4E07\u5316\uFF0C\u884D\u751F\u51FA\u4E86\u5404\u79CD\u95EE\u9898\u3002\u5047\u8BBE\u56E0\u4E3A\u5B9E\u73B0\u7F3A\u9677\u3001\u7A81\u7136\u5D29\u6E83\u3001\u6076\u610F\u653B\u51FB\u6216\u7F51\u7EDC\u4E22\u5305\u7B49\u539F\u56E0\uFF0C\u4E00\u65B9\u4E00\u76F4\u6CA1\u6709\u53D1\u9001 FIN \u62A5\u6587\uFF0C\u5219\u8FDE\u63A5\u4F1A\u4E00\u76F4\u4FDD\u6301\u5E76\u6D88\u8017\u7740\u8D44\u6E90\uFF0C\u4E3A\u4E86\u9632\u6B62\u8FD9\u79CD\u60C5\u51B5\uFF0C\u4E00\u822C\u63A5\u6536\u65B9\u90FD\u4F1A\u4E3B\u52A8\u4E2D\u65AD\u4E00\u6BB5\u65F6\u95F4\u6CA1\u6709\u6570\u636E\u4F20\u8F93\u7684 TCP \u8FDE\u63A5\uFF0C\u6BD4\u5982 LVS \u4F1A\u9ED8\u8BA4\u4E2D\u65AD 90 \u79D2\u5185\u6CA1\u6709\u6570\u636E\u4F20\u8F93\u7684 TCP \u8FDE\u63A5\uFF0CF5 \u4F1A\u4E2D\u65AD 5 \u5206\u949F\u5185\u6CA1\u6709\u6570\u636E\u4F20\u8F93\u7684 TCP \u8FDE\u63A5</p></li><li><p>\u4F46\u6709\u7684\u65F6\u5019\u6211\u4EEC\u7684\u786E\u4E0D\u5E0C\u671B\u4E2D\u65AD\u7A7A\u95F2\u7684 TCP \u8FDE\u63A5\uFF0C\u56E0\u4E3A\u5EFA\u7ACB\u4E00\u6B21 TCP \u8FDE\u63A5\u9700\u8981\u7ECF\u8FC7\u4E00\u5230\u4E24\u6B21\u7684\u7F51\u7EDC\u4EA4\u4E92\uFF0C\u4E14\u7531\u4E8E TCP \u7684 slow start \u673A\u5236\uFF0C\u65B0\u7684 TCP \u8FDE\u63A5\u5F00\u59CB\u6570\u636E\u4F20\u8F93\u901F\u5EA6\u662F\u6BD4\u8F83\u6162\u7684\uFF0C\u6211\u4EEC\u5E0C\u671B\u901A\u8FC7\u8FDE\u63A5\u6C60\u6A21\u5F0F\uFF0C\u4FDD\u6301\u4E00\u90E8\u5206\u7A7A\u95F2\u8FDE\u63A5\uFF0C\u5F53\u9700\u8981\u4F20\u8F93\u6570\u636E\u65F6\uFF0C\u53EF\u4EE5\u4ECE\u8FDE\u63A5\u6C60\u4E2D\u76F4\u63A5\u62FF\u4E00\u4E2A\u7A7A\u95F2\u7684 TCP \u8FDE\u63A5\u6765\u5168\u901F\u4F7F\u7528\uFF0C\u8FD9\u6837\u5BF9\u6027\u80FD\u6709\u5F88\u5927\u63D0\u5347</p></li><li><p>\u4E3A\u4E86\u652F\u6301\u8FD9\u79CD\u60C5\u51B5\uFF0CTCP \u5B9E\u73B0\u4E86 KeepAlive \u673A\u5236\u3002KeepAlive \u673A\u5236\u5E76\u4E0D\u662F TCP \u89C4\u8303\u7684\u4E00\u90E8\u5206\uFF0C\u4F46\u65E0\u8BBA Linux \u548C Windows \u90FD\u5B9E\u73B0\u5B9E\u73B0\u4E86\u8BE5\u673A\u5236\u3002TCP \u5B9E\u73B0\u91CC KeepAlive \u9ED8\u8BA4\u90FD\u662F\u5173\u95ED\u7684\uFF0C\u4E14\u662F\u6BCF\u4E2A\u8FDE\u63A5\u5355\u72EC\u8BBE\u7F6E\u7684\uFF0C\u800C\u4E0D\u662F\u5168\u5C40\u8BBE\u7F6E</p></li></ul><p>\u53E6\u5916\u6709\u4E00\u4E2A\u7279\u6B8A\u60C5\u51B5\u5C31\u662F\uFF0C\u5F53\u67D0\u5E94\u7528\u8FDB\u7A0B\u5173\u95ED\u540E\uFF0C\u5982\u679C\u8FD8\u6709\u8BE5\u8FDB\u7A0B\u76F8\u5173\u7684 TCP \u8FDE\u63A5\uFF0C\u4E00\u822C\u6765\u8BF4\u64CD\u4F5C\u7CFB\u7EDF\u4F1A\u81EA\u52A8\u5173\u95ED\u8FD9\u4E9B\u8FDE\u63A5</p><h2 id="\u5E38\u7528\u7684-http-\u8BF7\u6C42\u5934\u4EE5\u53CA\u54CD\u5E94\u5934" tabindex="-1">\u5E38\u7528\u7684 http \u8BF7\u6C42\u5934\u4EE5\u53CA\u54CD\u5E94\u5934 <a class="header-anchor" href="#\u5E38\u7528\u7684-http-\u8BF7\u6C42\u5934\u4EE5\u53CA\u54CD\u5E94\u5934" aria-hidden="true">#</a></h2><p>\u4E00\u3001\u5E38\u7528\u7684 http \u8BF7\u6C42\u5934</p><ol><li>Accept</li></ol><p>Accept: text/html \u6D4F\u89C8\u5668\u53EF\u4EE5\u63A5\u53D7\u670D\u52A1\u5668\u56DE\u53D1\u7684\u7C7B\u578B\u4E3A text/html\u3002<br> Accept: <em>/</em> \u4EE3\u8868\u6D4F\u89C8\u5668\u53EF\u4EE5\u5904\u7406\u6240\u6709\u7C7B\u578B,(\u4E00\u822C\u6D4F\u89C8\u5668\u53D1\u7ED9\u670D\u52A1\u5668\u90FD\u662F\u53D1\u8FD9\u4E2A)\u3002</p><ol start="2"><li>Accept-Encoding</li></ol><p>Accept-Encoding: gzip, deflate \u6D4F\u89C8\u5668\u58F0\u660E\u81EA\u5DF1\u63A5\u6536\u7684\u7F16\u7801\u65B9\u6CD5\uFF0C\u901A\u5E38\u6307\u5B9A\u538B\u7F29\u65B9\u6CD5\uFF0C\u662F\u5426\u652F\u6301\u538B\u7F29\uFF0C\u652F\u6301\u4EC0\u4E48\u538B\u7F29\u65B9\u6CD5\uFF08gzip\uFF0Cdeflate\uFF09\uFF0C\uFF08\u6CE8\u610F\uFF1A\u8FD9\u4E0D\u662F\u53EA\u5B57\u7B26\u7F16\u7801\uFF09\u3002</p><ol start="3"><li>Accept-Language</li></ol><p>Accept-Language:zh-CN,zh;q=0.9 \u6D4F\u89C8\u5668\u7533\u660E\u81EA\u5DF1\u63A5\u6536\u7684\u8BED\u8A00\u3002</p><ol start="4"><li>Connection</li></ol><p>Connection: keep-alive \u5F53\u4E00\u4E2A\u7F51\u9875\u6253\u5F00\u5B8C\u6210\u540E\uFF0C\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u5668\u4E4B\u95F4\u7528\u4E8E\u4F20\u8F93 HTTP \u6570\u636E\u7684 TCP \u8FDE\u63A5\u4E0D\u4F1A\u5173\u95ED\uFF0C\u5982\u679C\u5BA2\u6237\u7AEF\u518D\u6B21\u8BBF\u95EE\u8FD9\u4E2A\u670D\u52A1\u5668\u4E0A\u7684\u7F51\u9875\uFF0C\u4F1A\u7EE7\u7EED\u4F7F\u7528\u8FD9\u4E00\u6761\u5DF2\u7ECF\u5EFA\u7ACB\u7684\u8FDE\u63A5\u3002 Connection: close \u4EE3\u8868\u4E00\u4E2A Request \u5B8C\u6210\u540E\uFF0C\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u5668\u4E4B\u95F4\u7528\u4E8E\u4F20\u8F93 HTTP \u6570\u636E\u7684 TCP \u8FDE\u63A5\u4F1A\u5173\u95ED\uFF0C \u5F53\u5BA2\u6237\u7AEF\u518D\u6B21\u53D1\u9001 Request\uFF0C\u9700\u8981\u91CD\u65B0\u5EFA\u7ACB TCP \u8FDE\u63A5\u3002</p><ol start="5"><li>Host\uFF08\u53D1\u9001\u8BF7\u6C42\u65F6\uFF0C\u8BE5\u62A5\u5934\u57DF\u662F\u5FC5\u9700\u7684\uFF09</li></ol><p>Host\uFF1A \u8BF7\u6C42\u62A5\u5934\u57DF\u4E3B\u8981\u7528\u4E8E\u6307\u5B9A\u88AB\u8BF7\u6C42\u8D44\u6E90\u7684 Internet \u4E3B\u673A\u548C\u7AEF\u53E3\u53F7\uFF0C\u5B83\u901A\u5E38\u4ECE HTTP URL \u4E2D\u63D0\u53D6\u51FA\u6765\u7684\u3002</p><ol start="6"><li>Referer</li></ol><p>Referer: \u5F53\u6D4F\u89C8\u5668\u5411 web \u670D\u52A1\u5668\u53D1\u9001\u8BF7\u6C42\u7684\u65F6\u5019\uFF0C\u4E00\u822C\u4F1A\u5E26\u4E0A Referer\uFF0C\u544A\u8BC9\u670D\u52A1\u5668\u6211\u662F\u4ECE\u54EA\u4E2A\u9875\u9762\u94FE\u63A5\u8FC7\u6765\u7684\uFF0C\u670D\u52A1\u5668\u7C4D\u6B64\u53EF\u4EE5\u83B7\u5F97\u4E00\u4E9B\u4FE1\u606F\u7528\u4E8E\u5904\u7406\u3002</p><ol start="7"><li>User-Agent</li></ol><p>User-Agent:Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36 \u544A\u8BC9 HTTP \u670D\u52A1\u5668\uFF0C \u5BA2\u6237\u7AEF\u4F7F\u7528\u7684\u64CD\u4F5C\u7CFB\u7EDF\u548C\u6D4F\u89C8\u5668\u7684\u540D\u79F0\u548C\u7248\u672C\u3002</p><ol start="8"><li>Cache-Control</li></ol><p>Cache-Control:private \uFF1A\u9ED8\u8BA4\u4E3A private \u54CD\u5E94\u53EA\u80FD\u591F\u4F5C\u4E3A\u79C1\u6709\u7684\u7F13\u5B58\uFF0C\u4E0D\u80FD\u518D\u7528\u6237\u95F4\u5171\u4EAB Cache-Control:public \uFF1A \u54CD\u5E94\u4F1A\u88AB\u7F13\u5B58\uFF0C\u5E76\u4E14\u5728\u591A\u7528\u6237\u95F4\u5171\u4EAB\u3002\u6B63\u5E38\u60C5\u51B5, \u5982\u679C\u8981\u6C42 HTTP \u8BA4\u8BC1,\u54CD\u5E94\u4F1A\u81EA\u52A8\u8BBE\u7F6E\u4E3A private.<br> Cache-Control:must-revalidate \uFF1A \u54CD\u5E94\u5728\u7279\u5B9A\u6761\u4EF6\u4E0B\u4F1A\u88AB\u91CD\u7528\uFF0C\u4EE5\u6EE1\u8DB3\u63A5\u4E0B\u6765\u7684\u8BF7\u6C42\uFF0C\u4F46\u662F\u5B83\u5FC5\u987B\u5230\u670D\u52A1\u5668\u7AEF\u53BB\u9A8C\u8BC1\u5B83\u662F\u4E0D\u662F\u4ECD\u7136\u662F\u6700\u65B0\u7684\u3002<br> Cache-Control:no-cache \uFF1A \u54CD\u5E94\u4E0D\u4F1A\u88AB\u7F13\u5B58,\u800C\u662F\u5B9E\u65F6\u5411\u670D\u52A1\u5668\u7AEF\u8BF7\u6C42\u8D44\u6E90\u3002<br> Cache-Control:max-age=10 \uFF1A \u8BBE\u7F6E\u7F13\u5B58\u6700\u5927\u7684\u6709\u6548\u65F6\u95F4\uFF0C\u4F46\u662F\u8FD9\u4E2A\u53C2\u6570\u5B9A\u4E49\u7684\u662F\u65F6\u95F4\u5927\u5C0F\uFF08\u6BD4\u5982\uFF1A60\uFF09\u800C\u4E0D\u662F\u786E\u5B9A\u7684\u65F6\u95F4\u70B9\u3002\u5355\u4F4D\u662F[\u79D2 seconds]\u3002<br> Cache-Control:no-store \uFF1A \u5728\u4EFB\u4F55\u6761\u4EF6\u4E0B\uFF0C\u54CD\u5E94\u90FD\u4E0D\u4F1A\u88AB\u7F13\u5B58\uFF0C\u5E76\u4E14\u4E0D\u4F1A\u88AB\u5199\u5165\u5230\u5BA2\u6237\u7AEF\u7684\u78C1\u76D8\u91CC\uFF0C\u8FD9\u4E5F\u662F\u57FA\u4E8E\u5B89\u5168\u8003\u8651\u7684\u67D0\u4E9B\u654F\u611F\u7684\u54CD\u5E94\u624D\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u3002</p><ol start="9"><li>Cookie</li></ol><p>Cookie \u662F\u7528\u6765\u5B58\u50A8\u4E00\u4E9B\u7528\u6237\u4FE1\u606F\u4EE5\u4FBF\u8BA9\u670D\u52A1\u5668\u8FA8\u522B\u7528\u6237\u8EAB\u4EFD\u7684\uFF08\u5927\u591A\u6570\u9700\u8981\u767B\u5F55\u7684\u7F51\u7AD9\u4E0A\u9762\u4F1A\u6BD4\u8F83\u5E38\u89C1\uFF09\uFF0C\u6BD4\u5982 cookie \u4F1A\u5B58\u50A8\u4E00\u4E9B\u7528\u6237\u7684\u7528\u6237\u540D\u548C\u5BC6\u7801\uFF0C\u5F53\u7528\u6237\u767B\u5F55\u540E\u5C31\u4F1A\u5728\u5BA2\u6237\u7AEF\u4EA7\u751F\u4E00\u4E2A cookie \u6765\u5B58\u50A8\u76F8\u5173\u4FE1\u606F\uFF0C\u8FD9\u6837\u6D4F\u89C8\u5668\u901A\u8FC7\u8BFB\u53D6 cookie \u7684\u4FE1\u606F\u53BB\u670D\u52A1\u5668\u4E0A\u9A8C\u8BC1\u5E76\u901A\u8FC7\u540E\u4F1A\u5224\u5B9A\u4F60\u662F\u5408\u6CD5\u7528\u6237\uFF0C\u4ECE\u800C\u5141\u8BB8\u67E5\u770B\u76F8\u5E94\u7F51\u9875\u3002\u5F53\u7136 cookie \u91CC\u9762\u7684\u6570\u636E\u4E0D\u4EC5\u4EC5\u662F\u4E0A\u8FF0\u8303\u56F4\uFF0C\u8FD8\u6709\u5F88\u591A\u4FE1\u606F\u53EF\u4EE5\u5B58\u50A8\u662F cookie \u91CC\u9762\uFF0C\u6BD4\u5982 sessionid \u7B49\u3002</p><ol start="10"><li>Range\uFF08\u7528\u4E8E\u65AD\u70B9\u7EED\u4F20\uFF09</li></ol><p>Range:bytes=0-5 \u6307\u5B9A\u7B2C\u4E00\u4E2A\u5B57\u8282\u7684\u4F4D\u7F6E\u548C\u6700\u540E\u4E00\u4E2A\u5B57\u8282\u7684\u4F4D\u7F6E\u3002\u7528\u4E8E\u544A\u8BC9\u670D\u52A1\u5668\u81EA\u5DF1\u60F3\u53D6\u5BF9\u8C61\u7684\u54EA\u90E8\u5206\u3002</p><p>\u4E8C\u3001\u5E38\u7528\u7684 http \u54CD\u5E94\u5934</p><ol><li>Cache-Control\uFF08\u5BF9\u5E94\u8BF7\u6C42\u4E2D\u7684 Cache-Control\uFF09</li></ol><p>Cache-Control:private \u9ED8\u8BA4\u4E3A private \u54CD\u5E94\u53EA\u80FD\u591F\u4F5C\u4E3A\u79C1\u6709\u7684\u7F13\u5B58\uFF0C\u4E0D\u80FD\u518D\u7528\u6237\u95F4\u5171\u4EAB<br><code>Cache-Control:public</code> \u6D4F\u89C8\u5668\u548C\u7F13\u5B58\u670D\u52A1\u5668\u90FD\u53EF\u4EE5\u7F13\u5B58\u9875\u9762\u4FE1\u606F\u3002<br> Cache-Control:must-revalidate \u5BF9\u4E8E\u5BA2\u6237\u673A\u7684\u6BCF\u6B21\u8BF7\u6C42\uFF0C\u4EE3\u7406\u670D\u52A1\u5668\u5FC5\u987B\u60F3\u670D\u52A1\u5668\u9A8C\u8BC1\u7F13\u5B58\u662F\u5426\u8FC7\u65F6\u3002 Cache-Control:no-cache \u6D4F\u89C8\u5668\u548C\u7F13\u5B58\u670D\u52A1\u5668\u90FD\u4E0D\u5E94\u8BE5\u7F13\u5B58\u9875\u9762\u4FE1\u606F\u3002<br> Cache-Control:max-age=10 \u662F\u901A\u77E5\u6D4F\u89C8\u5668 10 \u79D2\u4E4B\u5185\u4E0D\u8981\u70E6\u6211\uFF0C\u81EA\u5DF1\u4ECE\u7F13\u51B2\u533A\u4E2D\u5237\u65B0\u3002<br> Cache-Control:no-store \u8BF7\u6C42\u548C\u54CD\u5E94\u7684\u4FE1\u606F\u90FD\u4E0D\u5E94\u8BE5\u88AB\u5B58\u50A8\u5728\u5BF9\u65B9\u7684\u78C1\u76D8\u7CFB\u7EDF\u4E2D\u3002</p><ol start="2"><li>Content-Type</li></ol><p>Content-Type\uFF1Atext/html;charset=UTF-8 \u544A\u8BC9\u5BA2\u6237\u7AEF\uFF0C\u8D44\u6E90\u6587\u4EF6\u7684\u7C7B\u578B\uFF0C\u8FD8\u6709\u5B57\u7B26\u7F16\u7801\uFF0C\u5BA2\u6237\u7AEF\u901A\u8FC7 utf-8 \u5BF9\u8D44\u6E90\u8FDB\u884C\u89E3\u7801\uFF0C\u7136\u540E\u5BF9\u8D44\u6E90\u8FDB\u884C html \u89E3\u6790\u3002\u901A\u5E38\u6211\u4EEC\u4F1A\u770B\u5230\u6709\u4E9B\u7F51\u7AD9\u662F\u4E71\u7801\u7684\uFF0C\u5F80\u5F80\u5C31\u662F\u670D\u52A1\u5668\u7AEF\u6CA1\u6709\u8FD4\u56DE\u6B63\u786E\u7684\u7F16\u7801\u3002</p><ol start="3"><li>Content-Encoding</li></ol><p>Content-Encoding:gzip \u544A\u8BC9\u5BA2\u6237\u7AEF\uFF0C\u670D\u52A1\u7AEF\u53D1\u9001\u7684\u8D44\u6E90\u662F\u91C7\u7528 gzip \u7F16\u7801\u7684\uFF0C\u5BA2\u6237\u7AEF\u770B\u5230\u8FD9\u4E2A\u4FE1\u606F\u540E\uFF0C\u5E94\u8BE5\u91C7\u7528 gzip \u5BF9\u8D44\u6E90\u8FDB\u884C\u89E3\u7801\u3002</p><ol start="4"><li>Date</li></ol><p>Date: Tue, 03 Apr 2018 03:52:28 GMT \u8FD9\u4E2A\u662F\u670D\u52A1\u7AEF\u53D1\u9001\u8D44\u6E90\u65F6\u7684\u670D\u52A1\u5668\u65F6\u95F4\uFF0CGMT \u662F\u683C\u6797\u5C3C\u6CBB\u6240\u5728\u5730\u7684\u6807\u51C6\u65F6\u95F4\u3002http \u534F\u8BAE\u4E2D\u53D1\u9001\u7684\u65F6\u95F4\u90FD\u662F GMT \u7684\uFF0C\u8FD9\u4E3B\u8981\u662F\u89E3\u51B3\u5728\u4E92\u8054\u7F51\u4E0A\uFF0C\u4E0D\u540C\u65F6\u533A\u5728\u76F8\u4E92\u8BF7\u6C42\u8D44\u6E90\u7684\u65F6\u5019\uFF0C\u65F6\u95F4\u6DF7\u4E71\u95EE\u9898\u3002</p><ol start="5"><li>Server</li></ol><p>Server\uFF1ATengine/1.4.6 \u8FD9\u4E2A\u662F\u670D\u52A1\u5668\u548C\u76F8\u5BF9\u5E94\u7684\u7248\u672C\uFF0C\u53EA\u662F\u544A\u8BC9\u5BA2\u6237\u7AEF\u670D\u52A1\u5668\u4FE1\u606F\u3002</p><ol start="6"><li>Transfer-Encoding</li></ol><p>Transfer-Encoding\uFF1Achunked \u8FD9\u4E2A\u54CD\u5E94\u5934\u544A\u8BC9\u5BA2\u6237\u7AEF\uFF0C\u670D\u52A1\u5668\u53D1\u9001\u7684\u8D44\u6E90\u7684\u65B9\u5F0F\u662F\u5206\u5757\u53D1\u9001\u7684\u3002\u4E00\u822C\u5206\u5757\u53D1\u9001\u7684\u8D44\u6E90\u90FD\u662F\u670D\u52A1\u5668\u52A8\u6001\u751F\u6210\u7684\uFF0C\u5728\u53D1\u9001\u65F6\u8FD8\u4E0D\u77E5\u9053\u53D1\u9001\u8D44\u6E90\u7684\u5927\u5C0F\uFF0C\u6240\u4EE5\u91C7\u7528\u5206\u5757\u53D1\u9001\uFF0C\u6BCF\u4E00\u5757\u90FD\u662F\u72EC\u7ACB\u7684\uFF0C\u72EC\u7ACB\u7684\u5757\u90FD\u80FD\u6807\u793A\u81EA\u5DF1\u7684\u957F\u5EA6\uFF0C\u6700\u540E\u4E00\u5757\u662F 0 \u957F\u5EA6\u7684\uFF0C\u5F53\u5BA2\u6237\u7AEF\u8BFB\u5230\u8FD9\u4E2A 0 \u957F\u5EA6\u7684\u5757\u65F6\uFF0C\u5C31\u53EF\u4EE5\u786E\u5B9A\u8D44\u6E90\u5DF2\u7ECF\u4F20\u8F93\u5B8C\u4E86\u3002</p><ol start="7"><li>Expires</li></ol><p>Expires:Sun, 1 Jan 2000 01:00:00 GMT \u8FD9\u4E2A\u54CD\u5E94\u5934\u4E5F\u662F\u8DDF\u7F13\u5B58\u6709\u5173\u7684\uFF0C\u544A\u8BC9\u5BA2\u6237\u7AEF\u5728\u8FD9\u4E2A\u65F6\u95F4\u524D\uFF0C\u53EF\u4EE5\u76F4\u63A5\u8BBF\u95EE\u7F13\u5B58\u526F\u672C\uFF0C\u5F88\u663E\u7136\u8FD9\u4E2A\u503C\u4F1A\u5B58\u5728\u95EE\u9898\uFF0C\u56E0\u4E3A\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u5668\u7684\u65F6\u95F4\u4E0D\u4E00\u5B9A\u4F1A\u90FD\u662F\u76F8\u540C\u7684\uFF0C\u5982\u679C\u65F6\u95F4\u4E0D\u540C\u5C31\u4F1A\u5BFC\u81F4\u95EE\u9898\u3002\u6240\u4EE5\u8FD9\u4E2A\u54CD\u5E94\u5934\u662F\u6CA1\u6709 Cache-Control\uFF1Amax-age=*\u8FD9\u4E2A\u54CD\u5E94\u5934\u51C6\u786E\u7684\uFF0C\u56E0\u4E3A max-age=date \u4E2D\u7684 date \u662F\u4E2A\u76F8\u5BF9\u65F6\u95F4\uFF0C\u4E0D\u4EC5\u66F4\u597D\u7406\u89E3\uFF0C\u4E5F\u66F4\u51C6\u786E\u3002</p><ol start="8"><li>Last-Modified</li></ol><p>Last-Modified: Dec, 26 Dec 2015 17:30:00 GMT \u6240\u8BF7\u6C42\u7684\u5BF9\u8C61\u7684\u6700\u540E\u4FEE\u6539\u65E5\u671F(\u6309\u7167 RFC 7231 \u4E2D\u5B9A\u4E49\u7684\u201C\u8D85\u6587\u672C\u4F20\u8F93\u534F\u8BAE\u65E5\u671F\u201D\u683C\u5F0F\u6765\u8868\u793A)</p><ol start="9"><li>Connection</li></ol><p>Connection\uFF1Akeep-alive \u8FD9\u4E2A\u5B57\u6BB5\u4F5C\u4E3A\u56DE\u5E94\u5BA2\u6237\u7AEF\u7684 Connection\uFF1Akeep-alive\uFF0C\u544A\u8BC9\u5BA2\u6237\u7AEF\u670D\u52A1\u5668\u7684 tcp \u8FDE\u63A5\u4E5F\u662F\u4E00\u4E2A\u957F\u8FDE\u63A5\uFF0C\u5BA2\u6237\u7AEF\u53EF\u4EE5\u7EE7\u7EED\u4F7F\u7528\u8FD9\u4E2A tcp \u8FDE\u63A5\u53D1\u9001 http \u8BF7\u6C42\u3002</p><ol start="10"><li>Etag</li></ol><p>ETag: &quot;737060cd8c284d8af7ad3082f209582d&quot; \u5C31\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF08\u6BD4\u5982 URL\uFF09\u7684\u6807\u5FD7\u503C\uFF0C\u5C31\u4E00\u4E2A\u5BF9\u8C61\u800C\u8A00\uFF0C\u6BD4\u5982\u4E00\u4E2A html \u6587\u4EF6\uFF0C\u5982\u679C\u88AB\u4FEE\u6539\u4E86\uFF0C\u5176 Etag \u4E5F\u4F1A\u522B\u4FEE\u6539\uFF0C\u6240\u4EE5\uFF0CETag \u7684\u4F5C\u7528\u8DDF Last-Modified \u7684\u4F5C\u7528\u5DEE\u4E0D\u591A\uFF0C\u4E3B\u8981\u4F9B WEB \u670D\u52A1\u5668\u5224\u65AD\u4E00\u4E2A\u5BF9\u8C61\u662F\u5426\u6539\u53D8\u4E86\u3002\u6BD4\u5982\u524D\u4E00\u6B21\u8BF7\u6C42\u67D0\u4E2A html \u6587\u4EF6\u65F6\uFF0C\u83B7\u5F97\u4E86\u5176 ETag\uFF0C\u5F53\u8FD9\u6B21\u53C8\u8BF7\u6C42\u8FD9\u4E2A\u6587\u4EF6\u65F6\uFF0C\u6D4F\u89C8\u5668\u5C31\u4F1A\u628A\u5148\u524D\u83B7\u5F97 ETag \u503C\u53D1\u9001\u7ED9 WEB \u670D\u52A1\u5668\uFF0C\u7136\u540E WEB \u670D\u52A1\u5668\u4F1A\u628A\u8FD9\u4E2A ETag \u8DDF\u8BE5\u6587\u4EF6\u7684\u5F53\u524D ETag \u8FDB\u884C\u5BF9\u6BD4\uFF0C\u7136\u540E\u5C31\u77E5\u9053\u8FD9\u4E2A\u6587\u4EF6\u6709\u6CA1\u6709\u6539\u53D8\u4E86\u3002</p><ol start="11"><li>Refresh</li></ol><p>_Refresh: _ \u7528\u4E8E\u91CD\u5B9A\u5411\uFF0C\u6216\u8005\u5F53\u4E00\u4E2A\u65B0\u7684\u8D44\u6E90\u88AB\u521B\u5EFA\u65F6\u3002\u9ED8\u8BA4\u4F1A\u5728 5 \u79D2\u540E\u5237\u65B0\u91CD\u5B9A\u5411\u3002</p><ol start="12"><li>Access-Control-Allow-Origin</li></ol><p>Access-Control-Allow-Origin: * \u53F7\u4EE3\u8868\u6240\u6709\u7F51\u7AD9\u53EF\u4EE5\u8DE8\u57DF\u8D44\u6E90\u5171\u4EAB\uFF0C\u5982\u679C\u5F53\u524D\u5B57\u6BB5\u4E3A\u90A3\u4E48<br> Access-Control-Allow-Credentials \u5C31\u4E0D\u80FD\u4E3A true<br> Access-Control-Allow-Origin: <a href="http://www.baidu.com" target="_blank" rel="noreferrer">www.baidu.com</a> \u6307\u5B9A\u54EA\u4E9B\u7F51\u7AD9\u53EF\u4EE5\u8DE8\u57DF\u8D44\u6E90\u5171\u4EAB</p><ol start="13"><li>Access-Control-Allow-Methods</li></ol><p>Access-Control-Allow-Methods\uFF1AGET,POST,PUT,DELETE \u5141\u8BB8\u54EA\u4E9B\u65B9\u6CD5\u6765\u8BBF\u95EE</p><ol start="14"><li>Access-Control-Allow-Credentials</li></ol><p>Access-Control-Allow-Credentials: true \u662F\u5426\u5141\u8BB8\u53D1\u9001 cookie\u3002<br> \u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CCookie \u4E0D\u5305\u62EC\u5728 CORS \u8BF7\u6C42\u4E4B\u4E2D\u3002\u8BBE\u4E3A true\uFF0C\u5373\u8868\u793A\u670D\u52A1\u5668\u660E\u786E\u8BB8\u53EF\uFF0CCookie \u53EF\u4EE5\u5305\u542B\u5728\u8BF7\u6C42\u4E2D\uFF0C\u4E00\u8D77\u53D1\u7ED9\u670D\u52A1\u5668\u3002<br> \u8FD9\u4E2A\u503C\u4E5F\u53EA\u80FD\u8BBE\u4E3A true\uFF0C\u5982\u679C\u670D\u52A1\u5668\u4E0D\u8981\u6D4F\u89C8\u5668\u53D1\u9001 Cookie\uFF0C\u5220\u9664\u8BE5\u5B57\u6BB5\u5373\u53EF\u3002<br> \u5982\u679C access-control-allow-origin \u4E3A*\uFF0C\u5F53\u524D\u5B57\u6BB5\u5C31\u4E0D\u80FD\u4E3A true</p><ol start="15"><li>Content-Range</li></ol><p>Content-Range: bytes 0-5/7877 \u6307\u5B9A\u6574\u4E2A\u5B9E\u4F53\u4E2D\u7684\u4E00\u90E8\u5206\u7684\u63D2\u5165\u4F4D\u7F6E\uFF0C\u4ED6\u4E5F\u6307\u793A\u4E86\u6574\u4E2A\u5B9E\u4F53\u7684\u957F\u5EA6\u3002\u5728\u670D\u52A1\u5668\u5411\u5BA2\u6237\u8FD4\u56DE\u4E00\u4E2A\u90E8\u5206\u54CD\u5E94\uFF0C\u5B83\u5FC5\u987B\u63CF\u8FF0\u54CD\u5E94\u8986\u76D6\u7684\u8303\u56F4\u548C\u6574\u4E2A\u5B9E\u4F53\u957F\u5EA6\u3002</p><h2 id="http-\u7F13\u5B58\u7B56\u7565" tabindex="-1">http \u7F13\u5B58\u7B56\u7565 <a class="header-anchor" href="#http-\u7F13\u5B58\u7B56\u7565" aria-hidden="true">#</a></h2><ol><li>http \u7F13\u5B58\u7B56\u7565</li></ol><p>\u6D4F\u89C8\u5668\u6BCF\u6B21\u53D1\u8D77\u8BF7\u6C42\u65F6\uFF0C\u5148\u5728\u672C\u5730\u7F13\u5B58\u4E2D\u67E5\u627E\u7ED3\u679C\u4EE5\u53CA\u7F13\u5B58\u6807\u8BC6\uFF0C\u6839\u636E\u7F13\u5B58\u6807\u8BC6\u6765\u5224\u65AD\u662F\u5426\u4F7F\u7528\u672C\u5730\u7F13\u5B58\u3002\u5982\u679C\u7F13\u5B58\u6709\u6548\uFF0C\u5219\u4F7F\u7528\u672C\u5730\u7F13\u5B58\uFF1B\u5426\u5219\uFF0C\u5219\u5411\u670D\u52A1\u5668\u53D1\u8D77\u8BF7\u6C42\u5E76\u643A\u5E26\u7F13\u5B58\u6807\u8BC6\u3002\u6839\u636E\u662F\u5426\u9700\u5411\u670D\u52A1\u5668\u53D1\u8D77 HTTP \u8BF7\u6C42\uFF0C\u5C06\u7F13\u5B58\u8FC7\u7A0B\u5212\u5206\u4E3A\u4E24\u4E2A\u90E8\u5206\uFF1A \u5F3A\u5236\u7F13\u5B58\u548C\u534F\u5546\u7F13\u5B58\uFF0C\u5F3A\u7F13\u4F18\u5148\u4E8E\u534F\u5546\u7F13\u5B58\u3002</p><ul><li>\u5F3A\u7F13\u5B58\uFF0C\u670D\u52A1\u5668\u901A\u77E5\u6D4F\u89C8\u5668\u4E00\u4E2A\u7F13\u5B58\u65F6\u95F4\uFF0C\u5728\u7F13\u5B58\u65F6\u95F4\u5185\uFF0C\u4E0B\u6B21\u8BF7\u6C42\uFF0C\u76F4\u63A5\u7528\u7F13\u5B58\uFF0C\u4E0D\u5728\u65F6\u95F4\u5185\uFF0C\u6267\u884C\u6BD4\u8F83\u7F13\u5B58\u7B56\u7565\u3002</li><li>\u534F\u5546\u7F13\u5B58\uFF0C\u8BA9\u5BA2\u6237\u7AEF\u4E0E\u670D\u52A1\u5668\u4E4B\u95F4\u80FD\u5B9E\u73B0\u7F13\u5B58\u6587\u4EF6\u662F\u5426\u66F4\u65B0\u7684\u9A8C\u8BC1\u3001\u63D0\u5347\u7F13\u5B58\u7684\u590D\u7528\u7387\uFF0C\u5C06\u7F13\u5B58\u4FE1\u606F\u4E2D\u7684 Etag \u548C Last-Modified \u901A\u8FC7\u8BF7\u6C42\u53D1\u9001\u7ED9\u670D\u52A1\u5668\uFF0C\u7531\u670D\u52A1\u5668\u6821\u9A8C\uFF0C\u8FD4\u56DE 304 \u72B6\u6001\u7801\u65F6\uFF0C\u6D4F\u89C8\u5668\u76F4\u63A5\u4F7F\u7528\u7F13\u5B58\u3002 HTTP \u7F13\u5B58\u90FD\u662F\u4ECE\u7B2C\u4E8C\u6B21\u8BF7\u6C42\u5F00\u59CB\u7684\uFF1A</li><li>\u7B2C\u4E00\u6B21\u8BF7\u6C42\u8D44\u6E90\u65F6\uFF0C\u670D\u52A1\u5668\u8FD4\u56DE\u8D44\u6E90\uFF0C\u5E76\u5728 response header \u4E2D\u56DE\u4F20\u8D44\u6E90\u7684\u7F13\u5B58\u7B56\u7565\uFF1B</li><li>\u7B2C\u4E8C\u6B21\u8BF7\u6C42\u65F6\uFF0C\u6D4F\u89C8\u5668\u5224\u65AD\u8FD9\u4E9B\u8BF7\u6C42\u53C2\u6570\uFF0C\u51FB\u4E2D\u5F3A\u7F13\u5B58\u5C31\u76F4\u63A5 200\uFF0C\u5426\u5219\u5C31\u628A\u8BF7\u6C42\u53C2\u6570\u52A0\u5230 request header \u5934\u4E2D\u4F20\u7ED9\u670D\u52A1\u5668\uFF0C\u770B\u662F\u5426\u51FB\u4E2D\u534F\u5546\u7F13\u5B58\uFF0C\u51FB\u4E2D\u5219\u8FD4\u56DE 304\uFF0C\u5426\u5219\u670D\u52A1\u5668\u4F1A\u8FD4\u56DE\u65B0\u7684\u8D44\u6E90\u3002\u8FD9\u662F\u7F13\u5B58\u8FD0\u4F5C\u7684\u4E00\u4E2A\u6574\u4F53\u6D41\u7A0B\u56FE\uFF1A <img src="'+t+'" alt="image.png"></li></ul><ol start="2"><li>\u5F3A\u7F13\u5B58</li></ol><ul><li>\u5F3A\u7F13\u5B58\u547D\u4E2D\u5219\u76F4\u63A5\u8BFB\u53D6\u6D4F\u89C8\u5668\u672C\u5730\u7684\u8D44\u6E90\uFF0C\u5728 network \u4E2D\u663E\u793A\u7684\u662F from memory \u6216\u8005 from disk</li><li>\u63A7\u5236\u5F3A\u5236\u7F13\u5B58\u7684\u5B57\u6BB5\u6709\uFF1ACache-Control\uFF08http1.1\uFF09\u548C Expires\uFF08http1.0\uFF09</li><li>Cache-control \u662F\u4E00\u4E2A\u76F8\u5BF9\u65F6\u95F4\uFF0C\u7528\u4EE5\u8868\u8FBE\u81EA\u4E0A\u6B21\u8BF7\u6C42\u6B63\u786E\u7684\u8D44\u6E90\u4E4B\u540E\u7684\u591A\u5C11\u79D2\u7684\u65F6\u95F4\u6BB5\u5185\u7F13\u5B58\u6709\u6548\u3002</li><li>Expires \u662F\u4E00\u4E2A\u7EDD\u5BF9\u65F6\u95F4\u3002\u7528\u4EE5\u8868\u8FBE\u5728\u8FD9\u4E2A\u65F6\u95F4\u70B9\u4E4B\u524D\u53D1\u8D77\u8BF7\u6C42\u53EF\u4EE5\u76F4\u63A5\u4ECE\u6D4F\u89C8\u5668\u4E2D\u8BFB\u53D6\u6570\u636E\uFF0C\u800C\u65E0\u9700\u53D1\u8D77\u8BF7\u6C42</li><li>Cache-Control \u7684\u4F18\u5148\u7EA7\u6BD4 Expires \u7684\u4F18\u5148\u7EA7\u9AD8\u3002\u524D\u8005\u7684\u51FA\u73B0\u662F\u4E3A\u4E86\u89E3\u51B3 Expires \u5728\u6D4F\u89C8\u5668\u65F6\u95F4\u88AB\u624B\u52A8\u66F4\u6539\u5BFC\u81F4\u7F13\u5B58\u5224\u65AD\u9519\u8BEF\u7684\u95EE\u9898\u3002\u5982\u679C\u540C\u65F6\u5B58\u5728\u5219\u4F7F\u7528 Cache-control\u3002</li></ul><ol start="3"><li>\u5F3A\u7F13\u5B58-expires</li></ol><ul><li>\u8BE5\u5B57\u6BB5\u662F\u670D\u52A1\u5668\u54CD\u5E94\u6D88\u606F\u5934\u5B57\u6BB5\uFF0C\u544A\u8BC9\u6D4F\u89C8\u5668\u5728\u8FC7\u671F\u65F6\u95F4\u4E4B\u524D\u53EF\u4EE5\u76F4\u63A5\u4ECE\u6D4F\u89C8\u5668\u7F13\u5B58\u4E2D\u5B58\u53D6\u6570\u636E\u3002</li><li>Expires \u662F HTTP 1.0 \u7684\u5B57\u6BB5\uFF0C\u8868\u793A\u7F13\u5B58\u5230\u671F\u65F6\u95F4\uFF0C\u662F\u4E00\u4E2A\u7EDD\u5BF9\u7684\u65F6\u95F4 (\u5F53\u524D\u65F6\u95F4+\u7F13\u5B58\u65F6\u95F4)\u3002\u5728\u54CD\u5E94\u6D88\u606F\u5934\u4E2D\uFF0C\u8BBE\u7F6E\u8FD9\u4E2A\u5B57\u6BB5\u4E4B\u540E\uFF0C\u5C31\u53EF\u4EE5\u544A\u8BC9\u6D4F\u89C8\u5668\uFF0C\u5728\u672A\u8FC7\u671F\u4E4B\u524D\u4E0D\u9700\u8981\u518D\u6B21\u8BF7\u6C42\u3002</li><li>\u7531\u4E8E\u662F\u7EDD\u5BF9\u65F6\u95F4\uFF0C\u7528\u6237\u53EF\u80FD\u4F1A\u5C06\u5BA2\u6237\u7AEF\u672C\u5730\u7684\u65F6\u95F4\u8FDB\u884C\u4FEE\u6539\uFF0C\u800C\u5BFC\u81F4\u6D4F\u89C8\u5668\u5224\u65AD\u7F13\u5B58\u5931\u6548\uFF0C\u91CD\u65B0\u8BF7\u6C42\u8BE5\u8D44\u6E90\u3002\u6B64\u5916\uFF0C\u5373\u4F7F\u4E0D\u8003\u8651\u4FEE\u6539\uFF0C\u65F6\u5DEE\u6216\u8005\u8BEF\u5DEE\u7B49\u56E0\u7D20\u4E5F\u53EF\u80FD\u9020\u6210\u5BA2\u6237\u7AEF\u4E0E\u670D\u52A1\u7AEF\u7684\u65F6\u95F4\u4E0D\u4E00\u81F4\uFF0C\u81F4\u4F7F\u7F13\u5B58\u5931\u6548\u3002</li><li>\u4F18\u52BF\u7279\u70B9 <ul><li>HTTP 1.0 \u4EA7\u7269\uFF0C\u53EF\u4EE5\u5728 HTTP 1.0 \u548C 1.1 \u4E2D\u4F7F\u7528\uFF0C\u7B80\u5355\u6613\u7528\u3002</li><li>\u4EE5\u65F6\u523B\u6807\u8BC6\u5931\u6548\u65F6\u95F4\u3002</li></ul></li><li>\u52A3\u52BF\u95EE\u9898 <ul><li>\u65F6\u95F4\u662F\u7531\u670D\u52A1\u5668\u53D1\u9001\u7684(UTC)\uFF0C\u5982\u679C\u670D\u52A1\u5668\u65F6\u95F4\u548C\u5BA2\u6237\u7AEF\u65F6\u95F4\u5B58\u5728\u4E0D\u4E00\u81F4\uFF0C\u53EF\u80FD\u4F1A\u51FA\u73B0\u95EE\u9898\u3002</li><li>\u5B58\u5728\u7248\u672C\u95EE\u9898\uFF0C\u5230\u671F\u4E4B\u524D\u7684\u4FEE\u6539\u5BA2\u6237\u7AEF\u662F\u4E0D\u53EF\u77E5\u7684\u3002</li></ul></li></ul><ol start="4"><li>\u5F3A\u7F13\u5B58-cache-control</li></ol><ul><li>\u5DF2\u77E5 Expires \u7684\u7F3A\u70B9\u4E4B\u540E\uFF0C\u5728 HTTP/1.1 \u4E2D\uFF0C\u589E\u52A0\u4E86\u4E00\u4E2A\u5B57\u6BB5 Cache-control\uFF0C\u8BE5\u5B57\u6BB5\u8868\u793A\u8D44\u6E90\u7F13\u5B58\u7684\u6700\u5927\u6709\u6548\u65F6\u95F4\uFF0C\u5728\u8BE5\u65F6\u95F4\u5185\uFF0C\u5BA2\u6237\u7AEF\u4E0D\u9700\u8981\u5411\u670D\u52A1\u5668\u53D1\u9001\u8BF7\u6C42\u3002</li><li>\u8FD9\u4E24\u8005\u7684\u533A\u522B\u5C31\u662F\u524D\u8005\u662F\u7EDD\u5BF9\u65F6\u95F4\uFF0C\u800C\u540E\u8005\u662F\u76F8\u5BF9\u65F6\u95F4\u3002\u4E0B\u9762\u5217\u4E3E\u4E00\u4E9B Cache-control \u5B57\u6BB5\u5E38\u7528\u7684\u503C\uFF1A(\u5B8C\u6574\u7684\u5217\u8868\u53EF\u4EE5\u67E5\u770B MDN) <ul><li>max-age\uFF1A\u5373\u6700\u5927\u6709\u6548\u65F6\u95F4\u3002</li><li>must-revalidate\uFF1A\u5982\u679C\u8D85\u8FC7\u4E86 max-age \u7684\u65F6\u95F4\uFF0C\u6D4F\u89C8\u5668\u5FC5\u987B\u5411\u670D\u52A1\u5668\u53D1\u9001\u8BF7\u6C42\uFF0C\u9A8C\u8BC1\u8D44\u6E90\u662F\u5426\u8FD8\u6709\u6548\u3002</li><li>no-cache\uFF1A\u4E0D\u4F7F\u7528\u5F3A\u7F13\u5B58\uFF0C\u9700\u8981\u4E0E\u670D\u52A1\u5668\u9A8C\u8BC1\u7F13\u5B58\u662F\u5426\u65B0\u9C9C\u3002</li><li>no-store: \u771F\u6B63\u610F\u4E49\u4E0A\u7684\u201C\u4E0D\u8981\u7F13\u5B58\u201D\u3002\u6240\u6709\u5185\u5BB9\u90FD\u4E0D\u8D70\u7F13\u5B58\uFF0C\u5305\u62EC\u5F3A\u5236\u548C\u5BF9\u6BD4\u3002</li><li>public\uFF1A\u6240\u6709\u7684\u5185\u5BB9\u90FD\u53EF\u4EE5\u88AB\u7F13\u5B58 (\u5305\u62EC\u5BA2\u6237\u7AEF\u548C\u4EE3\u7406\u670D\u52A1\u5668\uFF0C \u5982 CDN)</li><li>private\uFF1A\u6240\u6709\u7684\u5185\u5BB9\u53EA\u6709\u5BA2\u6237\u7AEF\u624D\u53EF\u4EE5\u7F13\u5B58\uFF0C\u4EE3\u7406\u670D\u52A1\u5668\u4E0D\u80FD\u7F13\u5B58\u3002\u9ED8\u8BA4\u503C\u3002</li></ul></li><li>Cache-control \u7684\u4F18\u5148\u7EA7\u9AD8\u4E8E Expires\uFF0C\u4E3A\u4E86\u517C\u5BB9 HTTP/1.0 \u548C HTTP/1.1\uFF0C\u5B9E\u9645\u9879\u76EE\u4E2D\u4E24\u4E2A\u5B57\u6BB5\u90FD\u53EF\u4EE5\u8BBE\u7F6E\u3002</li><li>\u8BE5\u5B57\u6BB5\u53EF\u4EE5\u5728\u8BF7\u6C42\u5934\u6216\u8005\u54CD\u5E94\u5934\u8BBE\u7F6E\uFF0C\u53EF\u7EC4\u5408\u4F7F\u7528\u591A\u79CD\u6307\u4EE4\uFF1A <ul><li>\u53EF\u7F13\u5B58\u6027 <ul><li>public\uFF1A\u6D4F\u89C8\u5668\u548C\u7F13\u5B58\u670D\u52A1\u5668\u90FD\u53EF\u4EE5\u7F13\u5B58\u9875\u9762\u4FE1\u606F</li><li>private\uFF1Adefault\uFF0C\u4EE3\u7406\u670D\u52A1\u5668\u4E0D\u53EF\u7F13\u5B58\uFF0C\u53EA\u80FD\u88AB\u5355\u4E2A\u7528\u6237\u7F13\u5B58</li><li>no-cache\uFF1A\u6D4F\u89C8\u5668\u5668\u548C\u670D\u52A1\u5668\u90FD\u4E0D\u5E94\u8BE5\u7F13\u5B58\u9875\u9762\u4FE1\u606F\uFF0C\u4F46\u4ECD\u53EF\u7F13\u5B58\uFF0C\u53EA\u662F\u5728\u7F13\u5B58\u524D\u9700\u8981\u5411\u670D\u52A1\u5668\u786E\u8BA4\u8D44\u6E90\u662F\u5426\u88AB\u66F4\u6539\u3002\u53EF\u914D\u5408 private\uFF0C</li><li>\u8FC7\u671F\u65F6\u95F4\u8BBE\u7F6E\u4E3A\u8FC7\u53BB\u65F6\u95F4\u3002</li><li>only-if-cache\uFF1A\u5BA2\u6237\u7AEF\u53EA\u63A5\u53D7\u5DF2\u7F13\u5B58\u7684\u54CD\u5E94</li></ul></li><li>\u5230\u671F <ul><li>max-age=\uFF1A\u7F13\u5B58\u5B58\u50A8\u7684\u6700\u5927\u5468\u671F\uFF0C\u8D85\u8FC7\u8FD9\u4E2A\u5468\u671F\u88AB\u8BA4\u4E3A\u8FC7\u671F\u3002</li><li>s-maxage=\uFF1A\u8BBE\u7F6E\u5171\u4EAB\u7F13\u5B58\uFF0C\u6BD4\u5982 can\u3002\u4F1A\u8986\u76D6 max-age \u548C expires\u3002</li><li>max-stale[=]\uFF1A\u5BA2\u6237\u7AEF\u613F\u610F\u63A5\u6536\u4E00\u4E2A\u5DF2\u7ECF\u8FC7\u671F\u7684\u8D44\u6E90</li><li>min-fresh=\uFF1A\u5BA2\u6237\u7AEF\u5E0C\u671B\u5728\u6307\u5B9A\u7684\u65F6\u95F4\u5185\u83B7\u53D6\u6700\u65B0\u7684\u54CD\u5E94</li><li>stale-while-revalidate=\uFF1A\u5BA2\u6237\u7AEF\u613F\u610F\u63A5\u6536\u9648\u65E7\u7684\u54CD\u5E94\uFF0C\u5E76\u4E14\u5728\u540E\u53F0\u4E00\u90E8\u68C0\u67E5\u65B0\u7684\u54CD\u5E94\u3002\u65F6\u95F4\u4EE3\u8868\u5BA2\u6237\u7AEF\u613F\u610F\u63A5\u6536\u9648\u65E7\u54CD\u5E94\u7684\u65F6\u95F4\u957F\u5EA6\u3002</li><li>stale-if-error=\uFF1A\u5982\u65B0\u7684\u68C0\u6D4B\u5931\u8D25\uFF0C\u5BA2\u6237\u7AEF\u5219\u613F\u610F\u63A5\u6536\u9648\u65E7\u7684\u54CD\u5E94\uFF0C\u65F6\u95F4\u4EE3\u8868\u7B49\u5F85\u65F6\u95F4\u3002</li></ul></li><li>\u91CD\u65B0\u9A8C\u8BC1\u548C\u91CD\u65B0\u52A0\u8F7D <ul><li>must-revalidate\uFF1A\u5982\u9875\u9762\u8FC7\u671F\uFF0C\u5219\u53BB\u670D\u52A1\u5668\u8FDB\u884C\u83B7\u53D6\u3002</li><li>proxy-revalidate\uFF1A\u7528\u4E8E\u5171\u4EAB\u7F13\u5B58\u3002</li><li>immutable\uFF1A\u54CD\u5E94\u6B63\u6587\u4E0D\u968F\u65F6\u95F4\u6539\u53D8\u3002</li></ul></li><li>\u5176\u4ED6 <ul><li>no-store\uFF1A\u7EDD\u5BF9\u7981\u6B62\u7F13\u5B58</li><li>no-transform\uFF1A\u4E0D\u5F97\u5BF9\u8D44\u6E90\u8FDB\u884C\u8F6C\u6362\u548C\u8F6C\u53D8\u3002\u4F8B\u5982\uFF0C\u4E0D\u5F97\u5BF9\u56FE\u50CF\u683C\u5F0F\u8FDB\u884C\u8F6C\u6362\u3002</li></ul></li></ul></li><li>\u4F18\u52BF\u7279\u70B9 <ul><li>HTTP 1.1 \u4EA7\u7269\uFF0C\u4EE5\u65F6\u95F4\u95F4\u9694\u6807\u8BC6\u5931\u6548\u65F6\u95F4\uFF0C\u89E3\u51B3\u4E86 Expires \u670D\u52A1\u5668\u548C\u5BA2\u6237\u7AEF\u76F8\u5BF9\u65F6\u95F4\u7684\u95EE\u9898\u3002</li><li>\u6BD4 Expires \u591A\u4E86\u5F88\u591A\u9009\u9879\u8BBE\u7F6E\u3002</li></ul></li><li>\u52A3\u52BF\u95EE\u9898 <ul><li>\u5B58\u5728\u7248\u672C\u95EE\u9898\uFF0C\u5230\u671F\u4E4B\u524D\u7684\u4FEE\u6539\u5BA2\u6237\u7AEF\u662F\u4E0D\u53EF\u77E5\u7684\u3002</li></ul></li></ul><ol start="5"><li>\u534F\u5546\u7F13\u5B58</li></ol><ul><li>\u534F\u5546\u7F13\u5B58\u7684\u72B6\u6001\u7801\u7531\u670D\u52A1\u5668\u51B3\u7B56\u8FD4\u56DE 200 \u6216\u8005 304</li><li>\u5F53\u6D4F\u89C8\u5668\u7684\u5F3A\u7F13\u5B58\u5931\u6548\u7684\u65F6\u5019\u6216\u8005\u8BF7\u6C42\u5934\u4E2D\u8BBE\u7F6E\u4E86\u4E0D\u8D70\u5F3A\u7F13\u5B58\uFF0C\u5E76\u4E14\u5728\u8BF7\u6C42\u5934\u4E2D\u8BBE\u7F6E\u4E86 If-Modified-Since \u6216\u8005 If-None-Match \u7684\u65F6\u5019\uFF0C\u4F1A\u5C06\u8FD9\u4E24\u4E2A\u5C5E\u6027\u503C\u5230\u670D\u52A1\u7AEF\u53BB\u9A8C\u8BC1\u662F\u5426\u547D\u4E2D\u534F\u5546\u7F13\u5B58\uFF0C\u5982\u679C\u547D\u4E2D\u4E86\u534F\u5546\u7F13\u5B58\uFF0C\u4F1A\u8FD4\u56DE 304 \u72B6\u6001\uFF0C\u52A0\u8F7D\u6D4F\u89C8\u5668\u7F13\u5B58\uFF0C\u5E76\u4E14\u54CD\u5E94\u5934\u4F1A\u8BBE\u7F6E Last-Modified \u6216\u8005 ETag \u5C5E\u6027\u3002</li><li>\u5BF9\u6BD4\u7F13\u5B58\u5728\u8BF7\u6C42\u6570\u4E0A\u548C\u6CA1\u6709\u7F13\u5B58\u662F\u4E00\u81F4\u7684\uFF0C\u4F46\u5982\u679C\u662F 304 \u7684\u8BDD\uFF0C\u8FD4\u56DE\u7684\u4EC5\u4EC5\u662F\u4E00\u4E2A\u72B6\u6001\u7801\u800C\u5DF2\uFF0C\u5E76\u6CA1\u6709\u5B9E\u9645\u7684\u6587\u4EF6\u5185\u5BB9\uFF0C\u56E0\u6B64 \u5728\u54CD\u5E94\u4F53\u4F53\u79EF\u4E0A\u7684\u8282\u7701\u662F\u5B83\u7684\u4F18\u5316\u70B9\u3002</li><li>\u534F\u5546\u7F13\u5B58\u6709 2 \u7EC4\u5B57\u6BB5(\u4E0D\u662F\u4E24\u4E2A)\uFF0C\u63A7\u5236\u534F\u5546\u7F13\u5B58\u7684\u5B57\u6BB5\u6709\uFF1ALast-Modified/If-Modified-since\uFF08http1.0\uFF09\u548C Etag/If-None-match\uFF08http1.1\uFF09</li><li>Last-Modified/If-Modified-since \u8868\u793A\u7684\u662F\u670D\u52A1\u5668\u7684\u8D44\u6E90\u6700\u540E\u4E00\u6B21\u4FEE\u6539\u7684\u65F6\u95F4\uFF1BEtag/If-None-match \u8868\u793A\u7684\u662F\u670D\u52A1\u5668\u8D44\u6E90\u7684\u552F\u4E00\u6807 \u8BC6\uFF0C\u53EA\u8981\u8D44\u6E90\u53D8\u5316\uFF0CEtag \u5C31\u4F1A\u91CD\u65B0\u751F\u6210\u3002</li><li>Etag/If-None-match \u7684\u4F18\u5148\u7EA7\u6BD4 Last-Modified/If-Modified-since \u9AD8\u3002</li></ul><ol start="6"><li>\u534F\u5546\u7F13\u5B58-\u534F\u5546\u7F13\u5B58-Last-Modified/If-Modified-since</li></ol><ul><li>\u670D\u52A1\u5668\u901A\u8FC7Last-Modified\u5B57\u6BB5\u544A\u77E5\u5BA2\u6237\u7AEF\uFF0C\u8D44\u6E90\u6700\u540E\u4E00\u6B21\u88AB\u4FEE\u6539\u7684\u65F6\u95F4\uFF0C\u4F8B\u5982Last-Modified: Mon, 10 Nov 2018 09:10:11 GMT</li><li>\u6D4F\u89C8\u5668\u5C06\u8FD9\u4E2A\u503C\u548C\u5185\u5BB9\u4E00\u8D77\u8BB0\u5F55\u5728\u7F13\u5B58\u6570\u636E\u5E93\u4E2D\u3002</li><li>\u4E0B\u4E00\u6B21\u8BF7\u6C42\u76F8\u540C\u8D44\u6E90\u65F6\u65F6\uFF0C\u6D4F\u89C8\u5668\u4ECE\u81EA\u5DF1\u7684\u7F13\u5B58\u4E2D\u627E\u51FA\u201C\u4E0D\u786E\u5B9A\u662F\u5426\u8FC7\u671F\u7684\u201D\u7F13\u5B58\u3002\u56E0\u6B64\u5728\u8BF7\u6C42\u5934\u4E2D\u5C06\u4E0A\u6B21\u7684Last-Modified\u7684\u503C\u5199\u5165\u5230\u8BF7\u6C42\u5934\u7684If-Modified-Since\u5B57\u6BB5</li><li>\u670D\u52A1\u5668\u4F1A\u5C06If-Modified-Since\u7684\u503C\u4E0ELast-Modified\u5B57\u6BB5\u8FDB\u884C\u5BF9\u6BD4\u3002\u5982\u679C\u76F8\u7B49\uFF0C\u5219\u8868\u793A\u672A\u4FEE\u6539\uFF0C\u54CD\u5E94 304\uFF1B\u53CD\u4E4B\uFF0C\u5219\u8868\u793A\u4FEE\u6539\u4E86\uFF0C\u54CD\u5E94 200 \u72B6\u6001\u7801\uFF0C\u5E76\u8FD4\u56DE\u6570\u636E\u3002</li><li>\u4F18\u52BF\u7279\u70B9 <ul><li>\u4E0D\u5B58\u5728\u7248\u672C\u95EE\u9898\uFF0C\u6BCF\u6B21\u8BF7\u6C42\u90FD\u4F1A\u53BB\u670D\u52A1\u5668\u8FDB\u884C\u6821\u9A8C\u3002\u670D\u52A1\u5668\u5BF9\u6BD4\u6700\u540E\u4FEE\u6539\u65F6\u95F4\u5982\u679C\u76F8\u540C\u5219\u8FD4\u56DE304\uFF0C\u4E0D\u540C\u8FD4\u56DE200\u4EE5\u53CA\u8D44\u6E90\u5185\u5BB9\u3002</li></ul></li><li>\u52A3\u52BF\u95EE\u9898 <ul><li>\u53EA\u8981\u8D44\u6E90\u4FEE\u6539\uFF0C\u65E0\u8BBA\u5185\u5BB9\u662F\u5426\u53D1\u751F\u5B9E\u8D28\u6027\u7684\u53D8\u5316\uFF0C\u90FD\u4F1A\u5C06\u8BE5\u8D44\u6E90\u8FD4\u56DE\u5BA2\u6237\u7AEF\u3002\u4F8B\u5982\u5468\u671F\u6027\u91CD\u5199\uFF0C\u8FD9\u79CD\u60C5\u51B5\u4E0B\u8BE5\u8D44\u6E90\u5305\u542B\u7684\u6570\u636E\u5B9E\u9645\u4E0A\u4E00\u6837\u7684\u3002</li><li>\u4EE5\u65F6\u523B\u4F5C\u4E3A\u6807\u8BC6\uFF0C\u65E0\u6CD5\u8BC6\u522B\u4E00\u79D2\u5185\u8FDB\u884C\u591A\u6B21\u4FEE\u6539\u7684\u60C5\u51B5\u3002 \u5982\u679C\u8D44\u6E90\u66F4\u65B0\u7684\u901F\u5EA6\u662F\u79D2\u4EE5\u4E0B\u5355\u4F4D\uFF0C\u90A3\u4E48\u8BE5\u7F13\u5B58\u662F\u4E0D\u80FD\u88AB\u4F7F\u7528\u7684\uFF0C\u56E0\u4E3A\u5B83\u7684\u65F6\u95F4\u5355\u4F4D\u6700\u4F4E\u662F\u79D2\u3002</li><li>\u67D0\u4E9B\u670D\u52A1\u5668\u4E0D\u80FD\u7CBE\u786E\u7684\u5F97\u5230\u6587\u4EF6\u7684\u6700\u540E\u4FEE\u6539\u65F6\u95F4\u3002</li><li>\u5982\u679C\u6587\u4EF6\u662F\u901A\u8FC7\u670D\u52A1\u5668\u52A8\u6001\u751F\u6210\u7684\uFF0C\u90A3\u4E48\u8BE5\u65B9\u6CD5\u7684\u66F4\u65B0\u65F6\u95F4\u6C38\u8FDC\u662F\u751F\u6210\u7684\u65F6\u95F4\uFF0C\u5C3D\u7BA1\u6587\u4EF6\u53EF\u80FD\u6CA1\u6709\u53D8\u5316\uFF0C\u6240\u4EE5\u8D77\u4E0D\u5230\u7F13\u5B58\u7684\u4F5C\u7528\u3002</li></ul></li></ul><ol start="7"><li>\u534F\u5546\u7F13\u5B58-Etag/If-None-match</li></ol><ul><li>\u4E3A\u4E86\u89E3\u51B3\u4E0A\u8FF0\u95EE\u9898\uFF0C\u51FA\u73B0\u4E86\u4E00\u7EC4\u65B0\u7684\u5B57\u6BB5Etag\u548CIf-None-Match</li><li>Etag\u5B58\u50A8\u7684\u662F\u6587\u4EF6\u7684\u7279\u6B8A\u6807\u8BC6(\u4E00\u822C\u90FD\u662F hash \u751F\u6210\u7684)\uFF0C\u670D\u52A1\u5668\u5B58\u50A8\u7740\u6587\u4EF6\u7684Etag\u5B57\u6BB5\u3002\u4E4B\u540E\u7684\u6D41\u7A0B\u548CLast-Modified\u4E00\u81F4\uFF0C\u53EA\u662FLast-Modified\u5B57\u6BB5\u548C\u5B83\u6240\u8868\u793A\u7684\u66F4\u65B0\u65F6\u95F4\u6539\u53D8\u6210\u4E86Etag\u5B57\u6BB5\u548C\u5B83\u6240\u8868\u793A\u7684\u6587\u4EF6 hash\uFF0C\u628AIf-Modified-Since\u53D8\u6210\u4E86If-None-Match\u3002\u670D\u52A1\u5668\u540C\u6837\u8FDB\u884C\u6BD4\u8F83\uFF0C\u547D\u4E2D\u8FD4\u56DE 304, \u4E0D\u547D\u4E2D\u8FD4\u56DE\u65B0\u8D44\u6E90\u548C 200\u3002</li><li>\u6D4F\u89C8\u5668\u5728\u53D1\u8D77\u8BF7\u6C42\u65F6\uFF0C\u670D\u52A1\u5668\u8FD4\u56DE\u5728Response header\u4E2D\u8FD4\u56DE\u8BF7\u6C42\u8D44\u6E90\u7684\u552F\u4E00\u6807\u8BC6\u3002\u5728\u4E0B\u4E00\u6B21\u8BF7\u6C42\u65F6\uFF0C\u4F1A\u5C06\u4E0A\u4E00\u6B21\u8FD4\u56DE\u7684Etag\u503C\u8D4B\u503C\u7ED9If-No-Matched\u5E76\u6DFB\u52A0\u5728Request Header\u4E2D\u3002\u670D\u52A1\u5668\u5C06\u6D4F\u89C8\u5668\u4F20\u6765\u7684if-no-matched\u8DDF\u81EA\u5DF1\u7684\u672C\u5730\u7684\u8D44\u6E90\u7684ETag\u505A\u5BF9\u6BD4\uFF0C\u5982\u679C\u5339\u914D\uFF0C\u5219\u8FD4\u56DE304\u901A\u77E5\u6D4F\u89C8\u5668\u8BFB\u53D6\u672C\u5730\u7F13\u5B58\uFF0C\u5426\u5219\u8FD4\u56DE200\u548C\u66F4\u65B0\u540E\u7684\u8D44\u6E90\u3002</li><li>Etag \u7684\u4F18\u5148\u7EA7\u9AD8\u4E8E Last-Modified\u3002</li><li>\u4F18\u52BF\u7279\u70B9 <ul><li>\u53EF\u4EE5\u66F4\u52A0\u7CBE\u786E\u7684\u5224\u65AD\u8D44\u6E90\u662F\u5426\u88AB\u4FEE\u6539\uFF0C\u53EF\u4EE5\u8BC6\u522B\u4E00\u79D2\u5185\u591A\u6B21\u4FEE\u6539\u7684\u60C5\u51B5\u3002</li><li>\u4E0D\u5B58\u5728\u7248\u672C\u95EE\u9898\uFF0C\u6BCF\u6B21\u8BF7\u6C42\u90FD\u56DE\u53BB\u670D\u52A1\u5668\u8FDB\u884C\u6821\u9A8C\u3002</li></ul></li><li>\u52A3\u52BF\u95EE\u9898 <ul><li>\u8BA1\u7B97ETag\u503C\u9700\u8981\u6027\u80FD\u635F\u8017\u3002</li><li>\u5206\u5E03\u5F0F\u670D\u52A1\u5668\u5B58\u50A8\u7684\u60C5\u51B5\u4E0B\uFF0C\u8BA1\u7B97ETag\u7684\u7B97\u6CD5\u5982\u679C\u4E0D\u4E00\u6837\uFF0C\u4F1A\u5BFC\u81F4\u6D4F\u89C8\u5668\u4ECE\u4E00\u53F0\u670D\u52A1\u5668\u4E0A\u83B7\u5F97\u9875\u9762\u5185\u5BB9\u540E\u5230\u53E6\u5916\u4E00\u53F0\u670D\u52A1\u5668\u4E0A\u8FDB\u884C\u9A8C\u8BC1\u65F6\u73B0ETag\u4E0D\u5339\u914D\u7684\u60C5\u51B5\u3002</li></ul></li></ul><h2 id="no-store-\u548C-no-cache-\u7684\u533A\u522B" tabindex="-1">no-store \u548C no-cache \u7684\u533A\u522B <a class="header-anchor" href="#no-store-\u548C-no-cache-\u7684\u533A\u522B" aria-hidden="true">#</a></h2><p>no-cache \u548C no-store \u90FD\u662F HTTP \u534F\u8BAE\u5934 Cache-Control \u7684\u503C\u3002</p><p>\u533A\u522B\u662F\uFF1A</p><ul><li>no-store: \u5F7B\u5E95\u7981\u7528\u7F13\u51B2\uFF0C\u6240\u6709\u5185\u5BB9\u90FD\u4E0D\u4F1A\u88AB\u7F13\u5B58\u5230\u7F13\u5B58\u6216\u4E34\u65F6\u6587\u4EF6\u4E2D\u3002</li><li>no-cache: \u5728\u6D4F\u89C8\u5668\u4F7F\u7528\u7F13\u5B58\u524D\uFF0C\u4F1A\u5F80\u8FD4\u5BF9\u6BD4 ETag\uFF0C\u5982\u679C ETag \u6CA1\u53D8\uFF0C\u8FD4\u56DE 304\uFF0C\u5219\u4F7F\u7528\u7F13\u5B58\u3002</li></ul><h2 id="\u4EC0\u4E48\u662F\u7C98\u5305\u95EE\u9898-\u5982\u4F55\u89E3\u51B3" tabindex="-1">\u4EC0\u4E48\u662F\u7C98\u5305\u95EE\u9898\uFF0C\u5982\u4F55\u89E3\u51B3\uFF1F <a class="header-anchor" href="#\u4EC0\u4E48\u662F\u7C98\u5305\u95EE\u9898-\u5982\u4F55\u89E3\u51B3" aria-hidden="true">#</a></h2><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CTCP \u8FDE\u63A5\u4F1A\u91C7\u7528\u5EF6\u8FDF\u4F20\u9001\u7B97\u6CD5\uFF08Nagle \u7B97\u6CD5\uFF09\uFF0C\u5728\u6570\u636E\u53D1\u9001\u4E4B\u524D\u7F13\u5B58\u4ED6\u4EEC\u3002\u5982\u679C\u77ED\u65F6\u95F4\u6709\u591A\u4E2A\u6570\u636E\u53D1\u9001\uFF0C\u4F1A\u7F13\u51B2\u5230\u4E00\u8D77\u4F5C\u4E00\u6B21\u53D1\u9001\uFF08\u7F13\u51B2\u5927\u5C0F\u662Fsocket.bufferSize\uFF09\uFF0C\u8FD9\u6837\u53EF\u4EE5\u51CF\u5C11 IO \u6D88\u8017\u63D0\u9AD8\u6027\u80FD\u3002\uFF08TCP \u4F1A\u51FA\u73B0\u8FD9\u4E2A\u95EE\u9898\uFF0CHTTP \u534F\u8BAE\u89E3\u51B3\u4E86\u8FD9\u4E2A\u95EE\u9898\uFF09</p><p>\u89E3\u51B3\u65B9\u6CD5:</p><ul><li>\u591A\u6B21\u53D1\u9001\u4E4B\u524D\u95F4\u9694\u4E00\u4E2A\u7B49\u5F85\u65F6\u95F4\uFF1A\u5904\u7406\u7B80\u5355\uFF0C\u4F46\u662F\u5F71\u54CD\u4F20\u8F93\u6548\u7387\uFF1B</li><li>\u5173\u95ED Nagle \u7B97\u6CD5\uFF1A\u6D88\u8017\u8D44\u6E90\u9AD8\uFF0C\u6574\u4F53\u6027\u80FD\u4E0B\u964D\uFF1B</li><li>\u5C01\u5305/\u62C6\u5305\uFF1A\u4F7F\u7528\u4E00\u4E9B\u6709\u6807\u8BC6\u6765\u8FDB\u884C\u5C01\u5305\u62C6\u5305\uFF08\u7C7B\u4F3C HTTP \u534F\u8BAE\u5934\u5C3E\uFF09\uFF1B</li></ul>',251),i=[c];function y(A,D,h,d,B,C){return a(),l("div",null,i)}const T=s(r,[["render",y]]);export{u as __pageData,T as default};
